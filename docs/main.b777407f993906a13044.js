!function(e){function t(t){for(var n,a,l=t[0],s=t[1],c=t[2],u=0,p=[];u<l.length;u++)a=l[u],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&p.push(r[a][0]),r[a]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);for(d&&d(t);p.length;)p.shift()();return i.push.apply(i,c||[]),o()}function o(){for(var e,t=0;t<i.length;t++){for(var o=i[t],n=!0,l=1;l<o.length;l++){var s=o[l];0!==r[s]&&(n=!1)}n&&(i.splice(t--,1),e=a(a.s=o[0]))}return e}var n={},r={0:0},i=[];function a(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=n,a.d=function(e,t,o){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(o,n,function(t){return e[t]}.bind(null,n));return o},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var l=window.webpackJsonp=window.webpackJsonp||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var d=s;i.push([138,1,2]),o()}({136:function(e,t,o){"use strict";(function(e){var n=o(8),r=o.n(n),i=o(51);o(68);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function s(e,t){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=p(e);if(t){var r=p(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return d(this,o)}}function d(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,o){return(t=m(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function m(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}i.a.ImportCode();var g=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(p,t);var o,n,a,d=c(p);function p(t){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),f(u(o=d.call(this,t)),"onImageUpload1",(function(t,n,r){console.log(o.editor1);var i=t;i.length&&(i=t[0]),o.convertFileToBase64(i).then((function(t){var n=e("<img>").attr("src",t).wrap("div");o.editor1.current.insertNode(n[0])}))})),f(u(o),"onImageUpload2",(function(e,t,n){var r=e[0];console.log(o.editor2),o.editor2.current.insertImage("https://i.imgur.com/JOOEENx.png",(function(e){e.css("width",Math.floor(e.width()/2)),e.attr("title",r.name)}))})),o.editor1=r.a.createRef(),o.editor2=r.a.createRef(),o}return o=p,(n=[{key:"convertFileToBase64",value:function(e){return new Promise((function(t,o){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(){return o(console.log("FileReader Error: ",error))}}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"demo"},r.a.createElement("div",{className:"rb",style:{textAlign:"right",height:"60px"}},r.a.createElement("a",{href:"https://github.com/iq-service-inc/react-summernote"},r.a.createElement("img",{loading:"lazy",width:"149",height:"149",src:"https://github.blog/wp-content/uploads/2008/12/forkme_right_darkblue_121621.png?resize=149%2C149",className:"attachment-full size-full",alt:"Fork me on GitHub","data-recalc-dims":"1"}))),r.a.createElement("h1",null,"React SummerNote App"),r.a.createElement(i.a,{id:"editor1",destroy:!1,value:'<p style="vertical-align: top; margin: 0px 0px 1.5em; font-size: 14pt; line-height: 2em; color: rgb(51, 51, 51); font-family: 微軟正黑體, sans-serif; background-color: rgb(247, 247, 247);"><a href="https://ai.facebook.com/blog/open-sourcing-pyrobot-to-accelerate-ai-robotics-research" style="vertical-align: top; color: rgb(0, 0, 0); text-decoration-line: none; border-bottom: 1px dotted rgb(187, 187, 187); padding-bottom: 5px;">臉書與卡內基美隆大學合作，共同開發了機器人控制框架PyRobot</a>，希望讓研究人員能夠在幾小時內，在不需要具備硬體或是裝置驅動程式等相關細節知識，就能啟動並且使機器人開始運作。臉書提到，他們希望提供一個像深度學習開發框架PyTorch這樣的機器人框架，提供一定程度的抽象，以簡化系統建置工作，也讓共享函式庫和工具更為簡單。</p><p style="vertical-align: top; margin: 0px 0px 1.5em; font-size: 14pt; line-height: 2em; color: rgb(51, 51, 51); font-family: 微軟正黑體, sans-serif; background-color: rgb(247, 247, 247);">機器人研究領域有一個笑話，把機器人當作博士研究碖文，論文中的每一個機器人，都會為論文發表時間往後增加一年，臉書提到，要讓機器人揮動手臂，就可能要花上數天甚至一周的時間，來調整機器人軟體，而PyRobot的出現，就是要來解決這樣的研究困境。</p><p style="vertical-align: top; margin: 0px 0px 1.5em; font-size: 14pt; line-height: 2em; color: rgb(51, 51, 51); font-family: 微軟正黑體, sans-serif; background-color: rgb(247, 247, 247);">PyRobot是機器人作業系統ROS上的輕量級高階介面，提供了一組無關硬體的中介API，供開發人員控制各種的機器人，PyRobot抽象了低階控制器與程序之間溝通的細節，因此對於人工智慧研究人員來說，可以不再需要理解機器人的低階操作，能夠專注地建置高階人工智慧機器人應用程式。</p><p class="rtecenter" style="vertical-align: top; margin: 0px 0px 1.5em; text-align: center; font-size: 14pt; line-height: 2em; color: rgb(51, 51, 51); font-family: 微軟正黑體, sans-serif; background-color: rgb(247, 247, 247);"><img alt="" src="https://scontent-tpe1-1.xx.fbcdn.net/v/t39.2365-6/65208991_366432120743262_8971157212042887168_n.gif?_nc_cat=108&amp;_nc_eui2=AeGyV1lVHG2s1TboCa6qoybvi_exikgXF83atf7IgQtcg2ht2rzMSP5Z6vmBlM8ZJcnnfaZ_f_391EouH25dKf_Cm_hcjqrbTPgif4LGSlHNdg&amp;_nc_oc=AQktp8ytYjE29QHmTShUNGjHn7tNgP5lfP-V6p7ApWDkpidjto4pd_Ld9zTFk3vwjsc&amp;_nc_ht=scontent-tpe1-1.xx&amp;oh=649852a5e43ef82748a309c259957b33&amp;oe=5DBB8202" style="vertical-align: middle; max-width: 100%; height: auto; border: 0px; width: 600px;"></p><p style="vertical-align: top; margin: 0px 0px 1.5em; font-size: 14pt; line-height: 2em; color: rgb(51, 51, 51); font-family: 微軟正黑體, sans-serif; background-color: rgb(247, 247, 247);">研究人員可以使用PyRobot中，適用於各種機器人的通用功能，控制機器人關節的位置、速度或是力矩，還能使用複雜的功能，包括笛卡爾路徑規畫或是視覺SLAM等。PyRobot目前雖然僅支援LoCoBot和Sawyer機器人，但還會繼續增加支援各種不同的機器人。PyRobot雖然提供抽象的高階控制，但研究人員依然可以使用不同層級的元件，像是能夠繞過規畫器，直接設定關節速度和力矩等。</p><p style="vertical-align: top; margin: 0px 0px 1.5em; font-size: 14pt; line-height: 2em; color: rgb(51, 51, 51); font-family: 微軟正黑體, sans-serif; background-color: rgb(247, 247, 247);">臉書已經將PyRobot用在各種的機器人應用上，像是點到點的導航，或是推與抓的任務，也用在遠端操作以收集訓練機器人的資料。PyRobot中包含了一些現成的演算法實作，並提供可將自行開發的演算法，簡單地部署到機器人上的方法，臉書也提到，研究人員可以使用PyTorch訓練深度學習模型，並使用PyRobot在機器人上執行演算法。</p><p style="vertical-align: top; margin: 0px 0px 1.5em; font-size: 14pt; line-height: 2em; color: rgb(51, 51, 51); font-family: 微軟正黑體, sans-serif; background-color: rgb(247, 247, 247);">PyRobot可以讓研究社群更容易地使用機器人資料集、演算法實作以及模型，同時也能幫助他們訂定基準，得以互相比較成果，或是基於其他人的成果往前發展，臉書表示，像是在使用LoCoBot這類低成本的機器人平臺，PyRobot有助於降低進入門檻，並使研究成果能夠與其他人分享。臉書也順勢在PyRobot釋出的同時，公開了一項徵求提案活動，任何研究團隊都可以提交PyRobot搭配LoCoBot的研究提案，獲勝者可以贏得一份研究用LoCoBot工具包。</p>',options:{lang:"zh-TW",height:350,dialogsInBody:!0,toolbar:[["style",["style"]],["font",["bold","italic","underline","strikethrough","superscript","subscript","clear"]],["fontname",["fontname"]],["fontsize",["fontsizeInput"]],["color",["forecolor","backcolor"]],["para",["ul","ol","listStyles","paragraph"]],["table",["jTable"]],["tableRow",["jRowHeight"]],["tableCol",["jColWidth"]],["insert",["pasteHTML","link","unlink","picture","video","customSpecialChar"]],["anchor",["anchor","toc","markAnchor","editAnchor"]],["comment",["editPopover","removePopover"]],["view",["fullscreen","codeview","help"]]],canViewClasslist:!0,tableClassName:"jtable table-bordered"},onChange:h,onImageUpload:this.onImageUpload1,onImagePasteFromWord:b,onInit:function(t){return console.log("Using jquery version ".concat(e().jquery))},ref:this.editor1}),r.a.createElement(i.a,{id:"editor2",onImageUpload:this.onImageUpload2,ref:this.editor2,options:{toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["fontsize",["fontsizeInput"]],["color",["color"]],["para",["ul","ol","listStyles","paragraph"]],["table",["jTable","jMerge","jBackcolor","jBorderColor","jAlign","jTableInfo","jWidthHeightReset"]],["tableRow",["jRowHeight"]],["tableCol",["jColWidth"]],["insert",["pasteHTML","link","picture","video","customSpecialChar"]],["view",["fullscreen","codeview"]],["comment",["editPopover","removePopover"]],["view",["fullscreen","codeview","help"]]],tableClassName:"jtable table-bordered"}}))}}])&&l(o.prototype,n),a&&l(o,a),Object.defineProperty(o,"prototype",{writable:!1}),p}(n.Component);function b(e){console.log("onImagePasteFromWord",e)}function h(e){console.log("change")}t.a=g}).call(this,o(1))},137:function(e,t,o){(function(t){e.exports=function(){o(330),o(333),o(334),o(133),o(335),o(336),o(337),o(338),o(344),o(345),o(346),o(347),o(348),o(349),o(350),o(351),o(352),o(353),o(354),o(355),o(356),o(357),o(358),o(359),o(361),o(362),o(363),o(364),o(365),o(366),o(367),o(368),o(369),t.summernote.dom.walkPoint=(t.summernote.dom.walkPoint,function(){for(var e=arguments[0],o=arguments[1],n=arguments[2],r=arguments[3],i=e;i&&(n(i),!t.summernote.dom.isSamePoint(i,o));){var a=r&&e.node!==i.node&&o.node!==i.node;i=t.summernote.dom.nextPoint(i,a)}})}}).call(this,o(1))},138:function(e,t,o){o(139),e.exports=o(325)},325:function(e,t,o){"use strict";o.r(t);var n=o(8),r=o.n(n),i=o(135),a=o(136);Object(i.render)(r.a.createElement(a.a,null),document.getElementById("root"))},345:function(e,t,o){(function(e){var t;(t=e).extend(!0,t.summernote.lang,{"zh-TW":{font:{bold:"粗體",italic:"斜體",underline:"底線",clear:"清除格式",height:"行高",name:"字體",strikethrough:"刪除線",subscript:"下標",superscript:"上標",size:"字號"},image:{image:"圖片",insert:"插入圖片",resizeFull:"縮放至100%",resizeHalf:"縮放至 50%",resizeQuarter:"縮放至 25%",floatLeft:"靠左浮動",floatRight:"靠右浮動",floatNone:"取消浮動",shapeRounded:"形狀: 圓角",shapeCircle:"形狀: 圓",shapeThumbnail:"形狀: 縮略圖",shapeNone:"形狀: 無",dragImageHere:"將圖片拖曳至此處",dropImage:"拖曳圖片或文字",selectFromFiles:"從本機上傳",maximumFileSize:"文件大小最大值",maximumFileSizeError:"文件大小超出最大值。",url:"圖片網址",remove:"移除圖片",original:"原始圖片"},video:{video:"影片",videoLink:"影片連結",insert:"插入影片",url:"影片網址",providers:"(優酷, Instagram, DailyMotion, Youtube等)"},link:{link:"連結",insert:"插入連結",unlink:"取消連結",edit:"編輯連結",textToDisplay:"顯示文字",url:"連結網址",openInNewWindow:"在新視窗開啟"},table:{table:"表格",addRowAbove:"上方插入列",addRowBelow:"下方插入列",addColLeft:"左方插入欄",addColRight:"右方插入欄",delRow:"刪除列",delCol:"刪除欄",delTable:"刪除表格"},hr:{insert:"水平線"},style:{style:"樣式",p:"一般",blockquote:"引用區塊",pre:"程式碼區塊",h1:"標題 1",h2:"標題 2",h3:"標題 3",h4:"標題 4",h5:"標題 5",h6:"標題 6"},lists:{unordered:"項目清單",ordered:"編號清單"},options:{help:"幫助",fullscreen:"全螢幕",codeview:"原始碼"},paragraph:{paragraph:"段落",outdent:"取消縮排",indent:"增加縮排",left:"靠左對齊",center:"靠中對齊",right:"靠右對齊",justify:"左右對齊"},color:{recent:"字型顏色",more:"更多",background:"背景",foreground:"字體",transparent:"透明",setTransparent:"透明",reset:"重設",resetToDefault:"預設"},shortcut:{shortcuts:"快捷鍵",close:"關閉",textFormatting:"文字格式",action:"動作",paragraphFormatting:"段落格式",documentStyle:"文件格式",extraKeys:"額外按鍵"},help:{insertParagraph:"插入段落",undo:"撤銷",redo:"重做",tab:"增加縮排",untab:"減少縮排",bold:"粗體",italic:"斜體",underline:"底線",strikethrough:"刪除線",removeFormat:"清除格式",justifyLeft:"靠左對齊",justifyCenter:"文字置中",justifyRight:"靠右對齊",justifyFull:"左右對齊",insertUnorderedList:"項目符號",insertOrderedList:"編號項目",outdent:"減少縮排",indent:"增加縮排",formatPara:"將內容樣式設為 普通",formatH1:"將內容樣式設為 標題1",formatH2:"將內容樣式設為 標題2",formatH3:"將內容樣式設為 標題3",formatH4:"將內容樣式設為 標題4",formatH5:"將內容樣式設為 標題5",formatH6:"將內容樣式設為 標題6",insertHorizontalRule:"插入水平線","linkDialog.show":"顯示連結對話框"},history:{undo:"復原",redo:"取消復原"},specialChar:{specialChar:"特殊符號",select:"選取特殊符號"}}})}).call(this,o(1))},346:function(e,t,o){var n,r,i;r=[o(1)],void 0===(i="function"==typeof(n=function(e){e.extend(e.summernote.plugins,{custom:function(t){var o=e.summernote.range,n=(e.summernote.dom,e.summernote.lists,this),r=e.summernote.ui,i=(t.layoutInfo.note,t.layoutInfo.editor,t.layoutInfo.editable,t.layoutInfo.toolbar,t.layoutInfo.statusbar,t.modules),a=t.options,l=a.langInfo;this.wrapCommand=function(e){return function(){t.invoke("beforeCommand"),e.apply(this,arguments),t.invoke("afterCommand")}},t.memo("button.customUL",(function(){return r.button({className:"custom-ul",contents:r.icon(a.icons.unorderedlist),tooltip:l.lists.unordered+i.buttons.representShortcut.call(i.buttons,"insertUnorderedList"),click:n.wrapCommand((function(t){i.editor.bullet.insertUnorderedList();var n=o.create();e(n.sc).closest("ul").css("padding-left","40px")}))}).render()}))}}),e.extend(!0,e.summernote.lang,{"zh-TW":{table:{table:"表格",addRowAbove:"上方插入列",addRowBelow:"下方插入列",addColLeft:"左方插入欄",addColRight:"右方插入欄",delRow:"刪除列",delCol:"刪除欄",delTable:"刪除表格"}}})})?n.apply(t,r):n)||(e.exports=i)},347:function(e,t,o){var n,r,i;r=[o(1)],void 0===(i="function"==typeof(n=function(e){e.extend(e.summernote.plugins,{customSpecialChar:function(t){var o=e.summernote.range,n=e.summernote.dom,r=e.summernote.ui,i=(t.layoutInfo.note,t.layoutInfo.editor),a=t.layoutInfo.editable,l=(t.layoutInfo.toolbar,t.layoutInfo.statusbar,t.options),s=l.langInfo,c={common:{name:s.customSpecialChar.common,set:["，","、","。","．","？","！","；","︰","‧","‥","﹐","﹒","˙","&middot;","&lsquo;","&rsquo;","&ldquo;","&rdquo;","〝","〞","‵","&prime;","〃","～","＄","％","＠","＆","＃","＊"]},LRbrackets:{name:s.customSpecialChar.LRbrackets,set:["（","）","「","」","〔","〕","｛","｝","〈","〉","『","』","《","》","【","】","﹙","﹚","﹝","﹞","﹛","﹜"]},UDbrackets:{name:s.customSpecialChar.UDbrackets,set:["︵","︶","﹁","﹂","︹","︺","︷","︸","︿","﹀","﹃","﹄","︽","︾","︻","︼"]},math:{name:s.customSpecialChar.math,set:["＋","－","&times;","&divide;","＝","&ne;","≒","&infin;","&plusmn;","&radic;","＜","＞","﹤","﹥","≦","≧","&cap;","&cup;","ˇ","&perp;","&ang;","∟","⊿","㏒","㏑","&int;","∮","∵","&there4;","╳","﹢"]},special:{name:s.customSpecialChar.special,set:["&uarr;","&darr;","&larr;","&rarr;","↖","↗","↙","↘","㊣","◎","○","●","&oplus;","⊙","○","●","△","▲","☆","★","◇","◆","□","■","▽","▼","&sect;","￥","〒","￠","￡","※","♀","♂"]}};this.initialize=function(){var e='<div class="form-group row-fluid">'+this.makeSpecialCharSetTable()[0].outerHTML+"</div>";this.$dialog=r.dialog({className:"note-specialchar-dialog",title:s.customSpecialChar.select,body:e}).render().appendTo(i)},this.destroy=function(){this.$dialog.remove()},this.getTextOnRange=function(){a.focus();var e=o.create();if(e.isOnAnchor()){var t=n.ancestor(e.sc,n.isAnchor);e=o.createFromNode(t)}return e.toString()},this.makeSpecialCharSetTable=function(){var t=e("<div/>").attr("id","specialCharTable").addClass(["list-group","list-group-flush"]);return e.map(c,(function(o,n){var r=e("<h5/>").text(o.name),i=e("<div/>").append(r).addClass(["list-group-item","btn-group"]);e.each(o.set,(function(t,o){var n=e("<button/>").css({width:"35px","border-radius":"0",display:"inline-block",border:"1px solid #ced4da"}).addClass(["note-specialchar-node","char-".concat(t),"btn","btn-outline-dark"]).attr("title",o).attr("id","char-"+t);n.append(o),i.append(n)})),t.append(i)})),t},this.showSpecialCharDialog=function(t){var o=this.$dialog;return e.Deferred((function(e){var t=o.find(".note-specialchar-node");o.one("shown.bs.modal",(function(){t.on("click",(function(t){t.preventDefault(),console.log(t.currentTarget),e.resolve(decodeURIComponent(t.currentTarget.title)),o.modal("hide")}))})).one("hidden.bs.modal",(function(){t.off("click"),"pending"===e.state()&&e.reject()})).modal("show"),a.blur()}))},this.show=function(o){this.showSpecialCharDialog(o).then((function(o){t.invoke("editor.restoreRange");var n=e("<span></span>").html(o)[0];n&&t.invoke("editor.insertNode",n)})).fail((function(){t.invoke("editor.restoreRange")}))},t.memo("button.customSpecialChar",(function(){return r.button({contents:"á",container:l.container,tooltip:s.customSpecialChar.specialChar,placement:l.placement,click:function(e){e.preventDefault();var o=t.invoke("customSpecialChar.getTextOnRange");t.invoke("editor.saveRange",a),t.invoke("customSpecialChar.show",o)}}).render()}))}}),e.extend(!0,e.summernote.lang,{"en-US":{customSpecialChar:{specialChar:"Special Characters",select:"Select Special characters",common:"Common Used Characters",LRbrackets:"Left Right Brackets",UDbrackets:"UP Down Brackets",math:"Math Characters",special:"Special Icon"}},"zh-TW":{customSpecialChar:{specialChar:"特殊字元",select:"插入特殊字元",common:"常用符號",LRbrackets:"左右括號",UDbrackets:"上下括號",math:"數學符號",special:"特殊圖形"}}})})?n.apply(t,r):n)||(e.exports=i)},348:function(e,t,o){var n,r,i;r=[o(1)],void 0===(i="function"==typeof(n=function(e){e.extend(e.summernote.options,{fontsizeInput:{max:200,min:5,sizes:["8","9","10","11","12","14","16","18","26","42","74"]}}),e.extend(e.summernote.plugins,{fontsizeInput:function(t){e.summernote.range,e.summernote.dom;var o=e.summernote.ui,n=(t.layoutInfo.note,t.layoutInfo.editor,t.layoutInfo.editable,t.layoutInfo.editingArea,t.layoutInfo.toolbar),r=(t.layoutInfo.statusbar,t.modules,t.options),i=r.langInfo;this.$document=e(document);var a=r.fontsizeInput.max,l=r.fontsizeInput.min,s=r.fontsizeInput.sizes.length?r.fontsizeInput.sizes:r.fontSizes;this.initialize=function(){0==e("#input-spin-buton").length&&(this.$css=e("<style>").html("input::-webkit-outer-spin-button,input::-webkit-inner-spin-button {-webkit-appearance: none;margin: 0;} input[type=number] {-moz-appearance: textfield;}"),this.$css.attr("id","input-spin-buton"),e(document.head).append(this.$css)),t.invoke("fontsizeInput.updateFontsizeInput")},t.memo("button.fontsizeInput",(function(){var n=e("<div>").addClass(["input-group","custom-fontsize-input-group"]),c=e('<input max="'.concat(a,'" min="').concat(l,'" type=number />')).addClass("note-fontsize-input").css({width:"3em","line-height":"1em","text-align":"center",border:"1px solid #ced4da","border-radius":"0.2rem 0 0 0.2rem","font-size":"13px"});c.on("focus",(function(e){t.invoke("editor.saveRange")})),c.on("blur",(function(e){t.invoke("editor.restoreRange")})),c.on("keydown",(function(o){if(13===o.keyCode){t.invoke("beforeCommand"),o.preventDefault();var n=e(o.target);t.invoke("editor.fontSize",n.val()),t.invoke("afterCommand")}else if(27===o.keyCode){t.invoke("beforeCommand"),o.preventDefault();var r=e(o.target),i=t.invoke("editor.currentStyle")["font-size"];r.val(i),t.invoke("afterCommand")}})),n.append(c);var d=o.buttonGroup([o.button({className:"dropdown-toggle note-fontsize-unit",tooltip:i.font.size,contents:"px",data:{toggle:"dropdown"}}),o.dropdownCheck({className:"dropdown-fontsize dropdown-menu-right",checkClassName:r.icons.menuCheck,items:s,template:function(e){return"".concat(e,"px (").concat(.75*e,"pt)")},title:i.font.size,click:t.createInvokeHandlerAndUpdateState("editor.fontSize")})]).render();return d.addClass("input-group-append"),n.append(d),n})),this.wrapCommand=function(e){return function(){t.invoke("beforeCommand"),e.apply(this,arguments),t.invoke("afterCommand")}},this.updateFontsizeInput=function(){var e=t.invoke("editor.currentStyle")["font-size"],o=n.find(".custom-fontsize-input-group");o.find(".note-fontsize-input").val(e),o.find(".note-fontsize-unit").text("px (".concat(.75*e,"pt)"))},this.events={"summernote.keyup summernote.mouseup summernote.change":function(){t.invoke("fontsizeInput.updateFontsizeInput")}},this.destroy=function(){this.$css&&e(this.$css).remove()}}})})?n.apply(t,r):n)||(e.exports=i)},349:function(e,t,o){var n,r,i;function a(){a=function(e,t){return new o(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function o(e,n,r){var i=new RegExp(e,n);return t.set(i,r||t.get(e)),s(i,o.prototype)}function n(e,o){var n=t.get(o);return Object.keys(n).reduce((function(t,o){var r=n[o];if("number"==typeof r)t[o]=e[r];else{for(var i=0;void 0===e[r[i]]&&i+1<r.length;)i++;t[o]=e[r[i]]}return t}),Object.create(null))}return l(o,RegExp),o.prototype.exec=function(t){var o=e.exec.call(this,t);if(o){o.groups=n(o,this);var r=o.indices;r&&(r.groups=n(r,this))}return o},o.prototype[Symbol.replace]=function(o,r){if("string"==typeof r){var i=t.get(this);return e[Symbol.replace].call(this,o,r.replace(/\$<([^>]+)>/g,(function(e,t){var o=i[t];return"$"+(Array.isArray(o)?o.join("$"):o)})))}if("function"==typeof r){var a=this;return e[Symbol.replace].call(this,o,(function(){var e=arguments;return"object"!=c(e[e.length-1])&&(e=[].slice.call(e)).push(n(e,a)),r.apply(this,e)}))}return e[Symbol.replace].call(this,o,r)},a.apply(this,arguments)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}function s(e,t){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r=[o(1)],void 0===(i="function"==typeof(n=function(e){e.extend(e.summernote.options,{commentPopover:{className:null,urlPattern:null,titleMaxLength:100,contentMaxLength:100}}),e.extend(e.summernote.plugins,{commentPopover:function(t){var o=e.summernote.range,n=e.summernote.dom,r=e.summernote.lists,i=this,l=e.summernote.ui,s=(t.layoutInfo.note,t.layoutInfo.editor,t.layoutInfo.editable),c=(t.layoutInfo.toolbar,t.layoutInfo.statusbar,t.modules,t.options),d=c.langInfo,u=c.commentPopover.titleMaxLength,p=c.commentPopover.contentMaxLength,f=c.commentPopover.className||"summernote-comment-popover",m=c.commentPopover.urlPattern||/https?:\/\/(?:[\w\u00a1-\uffff]+\.?)+(?::\d{2,5})?(?:\/[^\s]*)?/;this.events={"summernote.init":function(e,t){t.editor.one("mouseenter",(function(e){t.editingArea.find("a.".concat(f)).popover()}))}},this.initialize=function(){0==e("#summernote-comment-popover").length&&(this.css=e("<style>").html(".summernote-comment-popover:not([href]){color: #8ac193;}.summernote-comment-popover:not([href]):hover{color: #8ac193; text-decoration: underline}"),this.css.attr("id","summernote-comment-popover"),e(document.head).append(this.css));var t=u?'maxlength="'.concat(u,'"'):"",o=p?'maxlength="'.concat(p,'"'):"";this.$dialog=l.dialog({title:"".concat(d.commentPopover.addPopover),className:"summernote-comment-popover-dialog",fade:c.dialogsFade,body:['<div class="form-group summernote-comment-popover-form-group">','<label for="summernote-comment-popover-image-url-'.concat(c.id,'" class="note-form-label" >').concat(d.commentPopover.imgurl,"</label>"),'<input id="summernote-comment-popover-image-url-'.concat(c.id,'" class="summernote-comment-popover-image-url form-control note-form-control note-input" type="url" pattern="').concat(m.source,'" />'),'<div class="invalid-feedback">'.concat(d.commentPopover.invalidUrl,"</div>"),"</div>",'<div class="form-group summernote-comment-popover-form-group">','<label for="summernote-comment-popover-title-text-'.concat(c.id,'" class="note-form-label" >').concat(d.commentPopover.title,"</label>"),"<input ".concat(t,' id="summernote-comment-popover-title-text-').concat(c.id,'" class="summernote-comment-popover-title-text form-control note-form-control note-input" type="text" />'),'<div class="invalid-feedback">'.concat(d.commentPopover.invalidContent,"</div>"),"</div>",'<div class="form-group summernote-comment-popover-form-group">','<label for="summernote-comment-popover-content-text-'.concat(c.id,'" class="note-form-label" >').concat(d.commentPopover.content,"</label>"),"<textarea ".concat(o,' id="summernote-comment-popover-content-text-').concat(c.id,'" class="summernote-comment-popover-content-text form-control note-form-control note-input" rows="3"></textarea>'),'<div class="invalid-feedback">'.concat(d.commentPopover.invalidContent,"</div>"),"</div>"].join(""),footer:'<button href="#" class="btn btn-primary summernote-comment-popover-btn">'.concat(d.commentPopover.ok,"</button>")}).render().appendTo(c.container),this.$dialog.find(".modal-body").addClass("summernote-comment-popover-form-container")},this.destroy=function(){this.css&&e(this.css).remove(),l.hideDialog(this.$dialog),this.$dialog.remove()},this.wrapCommand=function(e){return function(){t.invoke("beforeCommand"),e.apply(this,arguments),t.invoke("afterCommand")}},t.memo("button.editPopover",(function(){return l.button({contents:'<i class="note-icon">'.concat('<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">\n                <path stroke="#000000" fill="#000000" d="m0.93829,4.45171l0,0c0,-1.05081 0.81745,-1.90267 1.82583,-1.90267l0.82992,0l0,0l3.98362,0l7.46929,0c0.48424,0 0.94865,0.20046 1.29106,0.55728c0.34241,0.35682 0.53477,0.84077 0.53477,1.34538l0,4.16198c-4.84747,-0.45484 -6.47103,1.94658 -6.43542,5.20509l-1.18444,0.08376l-3.66816,1.76357l0.10921,-1.67617l-2.92985,-0.0249c-1.00838,0 -1.82583,-0.85185 -1.82583,-1.90267l0,0l0,-2.854l0,0l0,-4.75666l0,0.00001z" id="svg_1"/>\n                <path stroke="#000000" fill="#000000" d="m0.93829,4.45171l0,0c0,-1.05081 0.81745,-1.90267 1.82583,-1.90267l0.82992,0l0,0l3.98362,0l7.46929,0c0.48424,0 0.94865,0.20046 1.29106,0.55728c0.34241,0.35682 0.53477,0.84077 0.53477,1.34538l0,4.16198c-4.84747,-0.45484 -6.47103,1.94658 -6.43542,5.20509l-1.18444,0.08376l-4.39442,1.8753l0.83547,-1.7879l-2.92985,-0.0249c-1.00838,0 -1.82583,-0.85185 -1.82583,-1.90267l0,0l0,-2.854l0,0l0,-4.75666l0,0.00001z" id="svg_1"/>\n                <rect fill="#ffffff" x="2.85232" y="10.54749" width="6" height="1.40909" id="svg_9" stroke="null"/>\n                <rect fill="#ffffff" x="2.85232" y="4.54749" width="12" height="1.40909" id="svg_11" stroke="null"/>\n                <rect fill="#ffffff" x="2.85232" y="7.54749" width="9.70833" height="1.40909" id="svg_12" stroke="null"/>\n                <path stroke="null" id="svg_2" d="m12.12231,13.33447l2.54791,0l0,-2.54791l2.61367,0l0,2.54791l2.54791,0l0,2.61367l-2.54791,0l0,2.54791l-2.61367,0l0,-2.54791l-2.54791,0l0,-2.61367z" fill="#000000"/>\n            </svg>',"</i>"),tooltip:d.commentPopover.addPopover,click:function(){i.showDialog()}}).render()})),t.memo("button.removePopover",(function(){return l.button({contents:'<i class="note-icon">'.concat('<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">\n                <path stroke="#000000" fill="#000000" d="m0.93829,4.45171l0,0c0,-1.05081 0.81745,-1.90267 1.82583,-1.90267l0.82992,0l0,0l3.98362,0l7.46929,0c0.48424,0 0.94865,0.20046 1.29106,0.55728c0.34241,0.35682 0.53477,0.84077 0.53477,1.34538l0,4.16198c-4.84747,-0.45484 -6.47103,1.94658 -6.43542,5.20509l-1.18444,0.08376l-4.39442,1.8753l0.83547,-1.7879l-2.92985,-0.0249c-1.00838,0 -1.82583,-0.85185 -1.82583,-1.90267l0,0l0,-2.854l0,0l0,-4.75666l0,0.00001z" id="svg_1"/>\n                <rect fill="#ffffff" x="2.85232" y="10.54749" width="6" height="1.40909" id="svg_9" stroke="null"/>\n                <rect fill="#ffffff" x="2.85232" y="4.54749" width="12" height="1.40909" id="svg_11" stroke="null"/>\n                <rect fill="#ffffff" x="2.85232" y="7.54749" width="9.70833" height="1.40909" id="svg_12" stroke="null"/>\n                <path stroke="null" id="svg_3" d="m12.45892,12.36059l1.80144,-1.80144l1.91364,1.91362l1.91364,-1.91362l1.80145,1.80144l-1.91364,1.91364l1.91364,1.91364l-1.80145,1.80145l-1.91364,-1.91364l-1.91364,1.91364l-1.80144,-1.80145l1.91362,-1.91364l-1.91362,-1.91364z" fill="#000000"/>\n            </svg>',"</i>"),tooltip:d.commentPopover.removePopover,click:function(){i.wrapCommand(i.removePopover())}}).render()})),this.showDialog=function(){o.create().select(),t.invoke("editor.setLastRange"),l.showDialog(i.$dialog);var n=i.$dialog.find(".modal-footer .summernote-comment-popover-btn");n.on("click",(function(e){e.preventDefault();var t=i.$dialog.find(".modal-body .summernote-comment-popover-image-url"),o=i.$dialog.find(".modal-body .summernote-comment-popover-title-text"),n=i.$dialog.find(".modal-body .summernote-comment-popover-content-text"),r=o.val(),a=n.val(),s=t.val(),c=!1;if(t[0].checkValidity()||(t.addClass("is-invalid"),c=!0,t.one("keydown change",(function(e){t.removeClass("is-invalid")}))),!r&&!a){c=!0;var d=i.$dialog.find(".modal-body").find(".summernote-comment-popover-title-text, .summernote-comment-popover-content-text");d.addClass("is-invalid"),d.one("keydown change",(function(e){d.removeClass("is-invalid"),d.off()}))}c||(l.hideDialog(i.$dialog),i.wrapCommand(i.addPopover(r,a,s)))}));var r=i.$dialog.find(".modal-body .summernote-comment-popover-content-text");r.on("paste",(function(t){var o=this;setTimeout((function(){e(o).val(e(o).val().replace(/[\r\n\v]+/g,""))}),1)})),r.on("keyup keypress",(function(e){13===e.keyCode&&e.preventDefault()})),l.onDialogShown(i.$dialog,(function(){var e=i.$dialog.find(".modal-body .summernote-comment-popover-image-url"),t=i.$dialog.find(".modal-body .summernote-comment-popover-title-text"),o=i.$dialog.find(".modal-body .summernote-comment-popover-content-text"),n=i.currentPopover();if(n){var r=n.attr("data-title"),a=i.decodeString(r);t.val(a);var l=n.attr("data-content"),s=i.getAttrContentText(l);o.val(s);var c=i.getAttrContentImg(l);e.val(c)}})),l.onDialogHidden(i.$dialog,(function(){t.invoke("editor.restoreRange"),n.off(),r.off()}))},this.encodeString=function(e){return e.replace(/[\u00A0-\u9999<>\&'"\/]/g,(function(e){return"&#"+e.charCodeAt(0)+";"}))},this.decodeString=function(e){return e.replace(/&#([0-9]+);/g,(function(e,t){return String.fromCharCode(parseInt(t))}))},this.getAttrContentText=function(e){var t,o;return this.decodeString(null===(t=e.match(a(/<div class="popover\x2Dcontent">(.*)<\/div>/,{content:1})))||void 0===t||null===(o=t.groups)||void 0===o?void 0:o.content)},this.getAttrContentImg=function(e){var t,o;return null===(t=e.match(a(/<img class="img\x2Dfluid popover\x2Dimage" src="(.*)" \/>/,{src:1})))||void 0===t||null===(o=t.groups)||void 0===o?void 0:o.src},this.formatAttrContent=function(e,t){var o=this.encodeString(e),n='<div class="popover-content">'.concat(o,"</div>");return m.test(t)&&(n='<img class="img-fluid popover-image" src="'.concat(t,'" />')+n),n},this.isEndInChild=function(e,t){for(;e;){if(e===t)return!0;e=e.nextSibling?e.nextSibling:e.firstChild}return!1},this.walkNodes=function(e,t,o){for(var n=e;n&&!o(n)&&n!==t&&!this.isEndInChild(n.firstChild,t);)n=n.nextSibling?n.nextSibling:n.parentNode},this.currentPopover=function(){var o=t.invoke("editor.getLastRange"),r=o.getEndPoint(),i=o.getStartPoint().node,a=r.node,l=null;return this.walkNodes(i,a,(function(t){var o=function(t){return n.isAnchor(t)&&e(t).hasClass(f)};return n.ancestor(t,o)?(l=e(n.ancestor(t,o)),!0):o(t)?(l=e(t),!0):!!e(t).find("a.".concat(f)).length&&(l=e(t).find("a.".concat(f)),!0)})),l},this.addPopover=function(i,a,l){var s=t.invoke("editor.getLastRange");if(s.isOnEditable()){var c=this.currentPopover();if(c){var d=this.encodeString(i),u=this.formatAttrContent(a,l);c.attr("data-title",d).attr("data-content",u)}else if(!s.isCollapsed()){if(s.isOnAnchor())var p=e(n.ancestor(s.sc,n.isAnchor));else{var m=(s=s.splitText()).getEndPoint(),g=s.getStartPoint().node,b=m.node,h=[];g=n.singleChildAncestor(g,n.isElement)||g,b=n.singleChildAncestor(b,n.isElement)||b;var v=!1;if(this.walkNodes(g,b,(function(e){if(n.isPurePara(e))h.push(e);else{if(!n.isInline(e))return v=!0,!0;h.push(e)}})),v)return;h=r.unique(h),(p=e(h)).wrapAll("<a>"),p=p.parent()}p.addClass(f).attr("tabindex","0").attr("data-toggle","popover").attr("data-html","true").attr("data-trigger","hover"),u=this.formatAttrContent(a,l),d=this.encodeString(i),p.attr("data-title",d).attr("data-content",u),p.popover(),s=o.createFromNode(p[0]),t.invoke("editor.setLastRange"),s.select()}}},this.removePopover=function(){var e=t.invoke("editor.getLastRange"),r=this.currentPopover();if(r&&r.length)if(r.popover("dispose"),r.attr("href")||r.attr("target"))r.removeClass(f).removeAttr("tabindex").removeAttr("data-toggle").removeAttr("data-trigger").removeAttr("data-title").removeAttr("data-content"),e=o.createFromNode(r[0]),t.invoke("editor.setLastRange",e),e.select();else{var i=r.contents();i.unwrap("a.".concat(f)),(e=t.invoke("editor.createRangeFromList",i)).select(),(n.ancestor(e.commonAncestor(),n.isElement)||s[0]).normalize(),e=o.create(),t.invoke("editor.setLastRange"),e.select()}}}}),e.extend(!0,e.summernote.lang,{"zh-TW":{commentPopover:{addPopover:"新增註解",removePopover:"刪除註解",imgurl:"圖片連結",title:"標題",content:"內容",ok:"確認",invalidUrl:"無效的連結",invalidContent:"無標題和內容"}},"en-US":{commentPopover:{addPopover:"Add Comment",removePopover:"Remove Comment",imgurl:"Image URL",title:"Title",content:"Content",ok:"OK",invalidUrl:"Invalid Url",invalidContent:"Invalid Title and Content"}}})})?n.apply(t,r):n)||(e.exports=i)},350:function(e,t,o){var n,r,i;r=[o(1)],void 0===(i="function"==typeof(n=function(e){e.extend(e.summernote.plugins,{pasteHTML:function(t){e.summernote.range,e.summernote.dom,e.summernote.lists;var o=this,n=e.summernote.ui,r=(t.layoutInfo.note,t.layoutInfo.editor,t.layoutInfo.editable,t.layoutInfo.toolbar,t.layoutInfo.statusbar,t.modules,t.options),i=r.langInfo;this.initialize=function(){this.$dialog=n.dialog({title:"".concat(i.pasteHTML.htmlEditor),className:"summernote-pastehtml-dialog",fade:r.dialogsFade,body:['<div class="form-group summernote-pastehtml-form-group">','<label for="summernote-pastehtml-code-'.concat(r.id,'" class="note-form-label" >').concat(i.pasteHTML.code,"</label>"),'<textarea id="summernote-pastehtml-code-'.concat(r.id,'" class="summernote-pastehtml-code form-control note-form-control note-input" rows="8"></textarea>'),"</div>"].join(""),footer:'<button href="#" class="btn btn-primary summernote-pastehtml-btn">'.concat(i.pasteHTML.ok,"</button>")}).render().appendTo(r.container),this.$dialog.find(".modal-body").addClass("summernote-pastehtml-form-container")},t.memo("button.pasteHTML",(function(){return n.button({contents:'<i class="note-icon">'.concat('<svg width="16" height="20" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid">\n                <path stroke="null" d="m713.56285,838.52321l0,-127.60965l225.83353,-198.9153l-225.83353,-198.91648l0,-127.60497l306.74749,281.48247l0,90.07679l-306.74749,281.48715zm-709.87318,-371.56393l306.744,-281.48247l0,127.60497l-225.83004,198.91648l225.83004,198.9153l0,127.60965l-306.744,-281.48715l0,-90.07679z" id="svg_1"/>\n                <rect transform="rotate(90 513.889 512)" stroke="null" id="svg_6" height="546.88892" width="82.22222" y="238.55554" x="472.77779" fill="#010202"/>\n                <rect stroke="null" id="svg_7" height="546.88892" width="82.22222" y="238.55554" x="472.77779" fill="#010202"/>\n            </svg>',"</i>"),tooltip:i.pasteHTML.insertHTML,click:function(){o.showDialog()}}).render()})),this.showDialog=function(){t.invoke("editor.saveRange"),n.showDialog(o.$dialog);var e=o.$dialog.find(".modal-footer .summernote-pastehtml-btn");e.on("click",(function(e){e.preventDefault();var r=o.$dialog.find(".modal-body .summernote-pastehtml-code"),i=r.val();n.hideDialog(o.$dialog),t.invoke("editor.pasteHTML",i),r.val("")})),n.onDialogHidden(o.$dialog,(function(){t.invoke("editor.restoreRange"),e.off()}))}}}),e.extend(!0,e.summernote.lang,{"zh-TW":{pasteHTML:{insertHTML:"插入 HTML",htmlEditor:"HTML 編輯器",code:"程式碼",ok:"確認"}},"en-US":{pasteHTML:{insertHTML:"Insert HTML",htmlEditor:"HTML Editor",code:"Code",ok:"OK"}}})})?n.apply(t,r):n)||(e.exports=i)},351:function(e,t,o){var n,r,i;r=[o(1)],void 0===(i="function"==typeof(n=function(e){e.extend(e.summernote.options,{toc:{selector:null,prefix:null}}),e.extend(e.summernote.plugins,{toc:function(t){var o=e.summernote.range,n=e.summernote.dom,r=this,i=e.summernote.ui,a=(t.layoutInfo.note,t.layoutInfo.editor),l=t.layoutInfo.editable,s=t.layoutInfo.editingArea,c=t.layoutInfo.toolbar,d=(t.layoutInfo.statusbar,t.modules,t.options),u=d.langInfo;this.$document=e(document);var p=d.toc.prefix||"summernote",f=navigator.appVersion.indexOf("Mac")>-1,m="CTRL+SHIFT+A";m=f?"CMD+⇧+A":"CTRL+SHIFT+A",this.initialize=function(){0==e("#".concat(p,"-toc-style")).length&&(this.css=e("<style>").html(".".concat(p,"-toc-anchor{position:relative;}.").concat(p,'-toc-anchor::before{content:"#";opacity:0.6;position:absolute;left:-0.7em;visibility:hidden;}.').concat(p,"-toc-anchor:hover::before{visibility:visible;}")),this.css.attr("id","".concat(p,"-toc-style")),e(document.head).append(this.css)),0==e("#".concat(p,"-toc-temp-style")).length&&(this.tempcss=e("<style>").html(".".concat(p,"-toc-mark{background-color:yellow;}.").concat(p,"-toc-mark::before{visibility:visible;}.").concat(p,"-toc-form-container{max-height:700px;overflow-y:auto;}.").concat(p,"-toc-form-group{display:flex;}.").concat(p,"-toc-form-group>.").concat(p,"-toc-data-id{width:50%;}.").concat(p,"-toc-form-group>.").concat(p,"-toc-data-text{width:50%;}")),this.tempcss.attr("id","".concat(p,"-toc-temp-style")),e(document.head).append(this.tempcss)),this.$toc=e('<div class="'.concat(p,'-toc"></div>')),d.toc.selector?e(d.toc.selector).append(this.$toc):c.append(this.$toc),this.$dialog=i.dialog({title:"".concat(u.toc.editAnchortext),fade:d.dialogsFade,body:'\n                    <div class="form-group '.concat(p,'-toc-form-group">\n                        <b>').concat(u.toc.message,"</b>\n                    </div>"),footer:'<button href="#" class="btn btn-primary '.concat(p,'-toc-btn">').concat(u.toc.addtoc,"</button>")}).render().appendTo(d.container),this.$dialog.find(".modal-body").addClass("".concat(p,"-toc-form-container")),s.css("display","flex").css("flex-direction","row"),l.css("width","100%"),this.$editAnchorContainer=e('<div style="background-color:rgba(0,0,0,.03);border-right: 1px solid rgba(0,0,0,.125); width:30em; overflow-y:auto; " class="'.concat(p,'-edit-anchor-container"><div style="width:20em;" class="').concat(p,'-edit-anchor"></div></div>')),s.prepend(this.$editAnchorContainer),this.$editAnchorContainer.hide(),this.$editAnchor=s.find(".".concat(p,"-edit-anchor")),this.$editAnchor.css("padding","1em 0"),l.css("padding","1.5rem")},this.wrapCommand=function(e){return function(){t.invoke("beforeCommand"),e.apply(this,arguments),t.invoke("afterCommand")}},this.events={"summernote.init":function(e,o){o.editable.on("keyup",(function(e){8===e.keyCode&&setTimeout((function(){0==t.invoke("code").length&&t.invoke("pasteHTML","<p><br></p>")}),1)})),o.editable.on("keydown",(function(e){var o=e.keyCode,n=e.ctrlKey,i=e.shiftKey;65==o&&n&&i&&(t.invoke("beforeCommand"),r.anchor(),t.invoke("afterCommand"))})),o.statusbar.on("mousedown",(function(e){EDITABLE_PADDING=24,e.preventDefault(),e.stopPropagation();var t=function(e){var t=l.outerHeight();r.$editAnchorContainer.height(t)};r.$document.on("mousemove",t).one("mouseup",(function(){r.$document.off("mousemove",t)}))}))},"summernote.enter":function(){setTimeout((function(){t.invoke("beforeCommand");var r=o.create(),i=n.ancestor(r.commonAncestor(),(function(t){return t&&e(t).hasClass("".concat(p,"-toc-anchor"))}))||e(r.sc).find(".".concat(p,"-toc-anchor"));i&&l.find("#".concat(e(i).attr("id"))).length>0&&e(i).removeAttr("id").removeAttr("data-anchortext").removeClass(["".concat(p,"-toc-anchor"),"".concat(p,"-toc-mark")]),t.invoke("afterCommand")}),1)},"summernote.codeview.toggled":function(){t.invoke("codeview.isActivated")?(r.displayEdit="none"==r.$editAnchorContainer.css("display"),r.$editAnchorContainer.hide()):(!r.displayEdit&&r.$editAnchorContainer.show(),r.resetEditAnchor())},"summernote.change":function(){r.resetHeight()}},this.resetHeight=function(){var e=l.outerHeight();r.$editAnchorContainer.height(e)},this.resetEditAnchor=function(o){r.resetHeight();var n=a.find(".".concat(p,"-toc-anchor[id]"));r.$editAnchor.html("<ul>"),n.each((function(n,i){var l=e(i).attr("id"),s=e(i).attr("data-anchortext"),c=e("<a>").text(s).attr("href","#"+l).css("flex","2").css("align-self","center").css("overflow","hidden").css("text-overflow","ellipsis").css("white-space","nowrap"),d=e("<input>").attr("value",s).addClass("".concat(p,"-toc-data-text")),u=e("<button>").text("編輯").addClass(["btn","btn-primary"]),f=e("<button>").text("移除").addClass(["btn","btn-primary"]),m=e("<button>").text("確認").addClass(["btn","btn-primary"]),g=e("<button>").text("取消").addClass(["btn","btn-primary"]),b=e("<div>").append([u,m,g,f]).css("flex","2").css("display","flex").css("justify-content","space-evenly"),h=e("<li>").addClass(["form-group","".concat(p,"-toc-form-group")]).append([c,d,b]);function v(){c.show(),u.show(),f.show(),d.hide(),m.hide(),g.hide()}r.$editAnchor.find("ul").append(h),v(),u.click((function(e){c.hide(),u.hide(),f.hide(),d.show(),m.show(),g.show()})),d.on("keydown",(function(e){13===e.keyCode&&(t.invoke("beforeCommand"),e.preventDefault(),a.find(".".concat(p,"-toc-anchor#").concat(l)).attr("data-anchortext",d.val()),r.resetEditAnchor(),v(),t.invoke("afterCommand")),27===e.keyCode&&v()})),m.click(r.wrapCommand((function(e){a.find(".".concat(p,"-toc-anchor#").concat(l)).attr("data-anchortext",d.val()),r.resetEditAnchor(),v()}))),g.click((function(e){v()})),f.click(r.wrapCommand((function(e){a.find("#".concat(l)).removeClass(["".concat(p,"-toc-anchor"),"".concat(p,"-toc-mark")]).removeAttr("data-anchortext"),r.$toc.find("#".concat(l)).length&&r.$toc.find("#".concat(l)).remove(),a.find("#".concat(l)).removeAttr("id"),r.resetEditAnchor()}))),o&&o.bind("hideEditAnchor",(function(){u.off(),f.off(),d.off(),m.off(),g.off()}))}))},t.memo("button.editAnchor",(function(){return i.button({className:"".concat(p,"-btn-edit-anchor"),contents:'<i class="note-icon '.concat(p,'-mark-anchor"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-card-list" viewBox="0 0 16 16">\n                    <path d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z"/>\n                    <path d="M5 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 5 8zm0-2.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm0 5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-1-5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zM4 8a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zm0 2.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z"/>\n                  </svg></i>'),tooltip:u.toc.editAnchor,click:function(t){var o=e(t.target).closest("button");r.$editAnchorContainer.animate({width:"toggle"}),o.toggleClass("".concat(p,"-show-edit-anchor")),o.hasClass("".concat(p,"-show-edit-anchor"))?(o.on("hideEditAnchor"),r.resetEditAnchor(o)):(o.trigger("hideEditAnchor"),o.off("hideEditAnchor"))}}).render()})),t.memo("button.markAnchor",(function(){return i.button({className:"".concat(p,"-btn-mark-anchor"),contents:'<i class="note-icon '.concat(p,'-mark-anchor"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-binoculars-fill" viewBox="0 0 16 16">\n                    <path d="M4.5 1A1.5 1.5 0 0 0 3 2.5V3h4v-.5A1.5 1.5 0 0 0 5.5 1h-1zM7 4v1h2V4h4v.882a.5.5 0 0 0 .276.447l.895.447A1.5 1.5 0 0 1 15 7.118V13H9v-1.5a.5.5 0 0 1 .146-.354l.854-.853V9.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v.793l.854.853A.5.5 0 0 1 7 11.5V13H1V7.118a1.5 1.5 0 0 1 .83-1.342l.894-.447A.5.5 0 0 0 3 4.882V4h4zM1 14v.5A1.5 1.5 0 0 0 2.5 16h3A1.5 1.5 0 0 0 7 14.5V14H1zm8 0v.5a1.5 1.5 0 0 0 1.5 1.5h3a1.5 1.5 0 0 0 1.5-1.5V14H9zm4-11H9v-.5A1.5 1.5 0 0 1 10.5 1h1A1.5 1.5 0 0 1 13 2.5V3z"/>\n                  </svg></i>'),tooltip:u.toc.markAnchor,click:r.wrapCommand((function(t){var o=e(t.target).closest("button");o.find(".".concat(p,"-toc-mark")).length?(o.find(".".concat(p,"-mark-anchor")).removeClass("".concat(p,"-toc-mark")),l.find(".".concat(p,"-toc-anchor[id]")).removeClass("".concat(p,"-toc-mark"))):(o.find(".".concat(p,"-mark-anchor")).addClass("".concat(p,"-toc-mark")),l.find(".".concat(p,"-toc-anchor[id]")).addClass("".concat(p,"-toc-mark")))}))}).render()})),this.anchor=function(){var t=o.create();if(t){var i=n.ancestor(t.commonAncestor(),(function(e){return e&&/DIV|P|LI|H[1-7]|SPAN/.test(e.nodeName.toUpperCase())}));if(l.find(i).length>0){var a=e(i).text(),s=e(i).text();if(0==(s=s.replace(/[\s!"#\$%&'\(\)\*\+,\.\/:;<=>\?@\[\]\^`\{\|\}~]/g,"-")).length)return e(i).removeClass(["".concat(p,"-toc-anchor"),"".concat(p,"-toc-mark")]),void r.resetEditAnchor();if(e(i).attr("id")===s)e(i).toggleClass("".concat(p,"-toc-anchor"));else{for(var d=0;l.find("#".concat(s).concat(d||"")).length;)d+=1;e(i).attr("id","".concat(s).concat(d||"")).toggleClass("".concat(p,"-toc-anchor")).attr("data-anchortext",a)}c.find(".".concat(p,"-btn-mark-anchor .").concat(p,"-toc-mark")).length&&e(i).hasClass("".concat(p,"-toc-anchor"))?e(i).addClass("".concat(p,"-toc-mark")):e(i).removeClass("".concat(p,"-toc-mark"))}r.resetEditAnchor()}},t.memo("button.anchor",(function(){return i.button({className:"".concat(p,"-anchor"),contents:'<i class="note-icon">#</i>',tooltip:"".concat(u.toc.insertanchor," (").concat(m,")"),click:r.wrapCommand((function(e){r.anchor()}))}).render()})),this.resetTOC=function(){r.$toc.html(""),a.find(".".concat(p,"-toc-anchor")).each((function(t,o){var n=e(o).attr("data-anchortext"),i=e(o).attr("id"),a=e("<a>").attr("href","#"+i);a.text(n);var l=e("<li>").attr("id",i).append(a);r.$toc.append(l)}))},this.showDialog=function(){i.showDialog(this.$dialog);var t=r.$dialog.find(".modal-body"),o=a.find(".".concat(p,"-toc-anchor[id]"));if(0!=o.length){t.html('\n                <div class="form-group '.concat(p,'-toc-form-group">\n                    <b class="').concat(p,'-toc-data-id">id</b>\n                    <b class="').concat(p,'-toc-data-text">').concat(u.toc.anchortext,"</b>\n                </div>")),o.each((function(o,n){var r=e(n).attr("id"),i=e(n).attr("data-anchortext"),a=e("<label>").text(r).addClass("".concat(p,"-toc-data-id")),l=e("<input>").attr("value",i).attr("id",r).addClass("".concat(p,"-toc-data-text")),s=e("<div>").addClass(["form-group","".concat(p,"-toc-form-group")]).append(a).append(l);t.append(s)}));var n=r.$dialog.find(".modal-footer .".concat(p,"-toc-btn"));n.click(r.wrapCommand((function(t){i.hideDialog(r.$dialog),r.$dialog.find(".".concat(p,"-toc-data-text")).not("b").each((function(t,o){var n=e(o).val(),r=e(o).attr("id");a.find(".".concat(p,"-toc-anchor#").concat(r)).attr("data-anchortext",n)})),r.resetTOC(),r.resetEditAnchor()}))),i.onDialogHidden(r.$dialog,(function(){n.off()}))}else t.html('\n                    <div class="form-group '.concat(p,'-toc-form-group">\n                        <b>').concat(u.toc.message,"</b>\n                    </div>"))},t.memo("button.toc",(function(){return i.button({className:"".concat(p,"-toc"),contents:'<i class="note-icon">'.concat('\n            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-link-45deg" viewBox="0 0 16 16">\n                <path d="M4.715 6.542L3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.001 1.001 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"/>\n                <path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 0 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 0 0-4.243-4.243L6.586 4.672z"/>\n            </svg>',"</i>"),tooltip:u.toc.addtoc,click:function(e){t.invoke("editor.saveRange"),r.showDialog(),t.invoke("editor.restoreRange")}}).render()})),r.destroy=function(){i.hideDialog(this.$dialog),this.$dialog.remove(),this.$editAnchorContainer.remove(),this.tempcss&&e(this.tempcss).remove()}}}),e.extend(!0,e.summernote.lang,{"zh-TW":{toc:{anchor:"錨點",toc:"目錄",anchortext:"錨點文字",editAnchortext:"編輯錨點文字",addtoc:"新增目錄",insertanchor:"插入錨點",message:"目前尚無錨點",markAnchor:"檢視錨點",editAnchor:"編輯錨點"}},"en-US":{toc:{anchor:"anchor",toc:"toc",anchortext:"anchor text",editAnchortext:"Edit anchor text",addtoc:"add toc",insertanchor:"insert anchor",message:"Cannot find any anchor",markAnchor:"mark anchor",editAnchor:"edit anchor"}}})})?n.apply(t,r):n)||(e.exports=i)},352:function(e,t,o){var n,r,i;r=[o(1)],void 0===(i="function"==typeof(n=function(e){e.extend(e.summernote.options,{canViewClasslist:!1}),e.extend(e.summernote.plugins,{"view-classlist":function(t){e.summernote.ui,t.layoutInfo.note;var o=t.layoutInfo.editor,n=(t.layoutInfo.editable,t.options);n.langInfo,n.canViewClasslist&&(this.events={"summernote.mousedown":function(e,t){var n=t.target,r="";n.classList.contains("note-editable")?o.find(".note-status-output").html(""):(r="".concat(n.nodeName,' class="').concat(n.classList.toString(),'"'),o.find(".note-status-output").html(r))},"summernote.keydown":function(e,t){o.find(".note-status-output").html("")},"summernote.codeview.toggled":function(e,t){o.find(".note-status-output").html("")}})}})})?n.apply(t,r):n)||(e.exports=i)},353:function(e,t,o){var n,r,i;r=[o(1)],void 0===(i="function"==typeof(n=function(e){e.extend(!0,e.summernote.lang,{"zh-TW":{addClass:{style:"套用 CSS class"}},"en-US":{addClass:{style:"toggle CSS class"}}}),e.extend(e.summernote.plugins,{addclass:function(t){var o=this;void 0===t.options.addclass&&(t.options.addclass={}),void 0===t.options.addclass.classTags&&(t.options.addclass.classTags=["jumbotron","lead","img-rounded","img-circle","img-responsive","btn","btn btn-success","btn btn-danger","text-muted","text-primary","text-warning","text-danger","text-success","table-bordered","table-responsive","alert","alert alert-success","alert alert-info","alert alert-warning","alert alert-danger","visible-sm","hidden-xs","hidden-md","hidden-lg","hidden-print"]);var n=e.summernote.ui;this.wrapCommand=function(e){return function(){t.invoke("beforeCommand"),e.apply(this,arguments),t.invoke("afterCommand")}};var r=t.options.langInfo;t.memo("button.addclass",(function(){return n.buttonGroup([n.button({className:"dropdown-toggle",contents:'<i class="text-primary">CSS3</i>',tooltip:r.addClass.style,data:{toggle:"dropdown"}}),n.dropdown({className:"dropdown-style scrollable-menu",items:t.options.addclass.classTags,template:function(e){"string"==typeof e&&(e={tag:"div",title:e,value:e});var t=e.tag,o=e.title;return"<"+t+" "+(e.style?' style="'+e.style+'" ':"")+(e.value?' class="'+e.value+'" ':"")+">"+o+"</"+t+">"},click:o.wrapCommand((function(o,n,r){o.preventDefault(),r=r||e(o.target).closest("[data-value]").data("value");var i=e(t.invoke("restoreTarget"));0==i.length&&(i=e(document.getSelection().focusNode.parentElement,".note-editable")),void 0!==t.options.addclass&&void 0!==t.options.addclass.debug&&t.options.addclass.debug&&console.debug(t.invoke("restoreTarget"),i,"toggling class: "+r,window.getSelection()),i.toggleClass(r)}))})]).render()})),this.events={"summernote.init":function(e,t){},"summernote.keyup":function(e,t){}},this.initialize=function(){var t,o,n;0==e("#summernote-addClass-style").length&&(this.css=(t=".scrollable-menu {height: auto; max-height: 200px; max-width:300px; overflow-x: hidden;}",o="summernote-addClass-style",(n=document.createElement("style")).innerHTML=t,n.setAttribute("id",o),document.head.appendChild(n),n))},this.destroy=function(){this.css&&e(this.css).remove()}}})})?n.apply(t,r):n)||(e.exports=i)},354:function(e,t,o){var n,r,i;r=[o(1)],void 0===(i="function"==typeof(n=function(e){e.extend(!0,e.summernote.lang,{"zh-TW":{caseConverter:{title:"大小寫傳換",lowerCase:"小寫",upperCase:"大寫",sentenceCase:"句子大寫",titleCase:"標題大寫"}},"en-US":{caseConverter:{title:"Case Converter",lowerCase:"Lower case.",upperCase:"Upper case.",sentenceCase:"Sentence case.",titleCase:"Title case."}},"es-ES":{caseConverter:{title:"Cambiar tipo de carácter.",lowerCase:"Minúscula.",upperCase:"Mayúsculas.",sentenceCase:"Tipo oración.",titleCase:"Tipo título."}}}),e.extend(e.summernote.options,{caseConverter:{icon:"Aa",tooltip:"Example Plugin Tooltip"}}),e.extend(e.summernote.plugins,{caseConverter:function(t){var o=this,n=e.summernote.ui,r=t.layoutInfo.note,i=(t.layoutInfo.editor,t.layoutInfo.editable,t.layoutInfo.toolbar,t.options),a=i.langInfo;t.modules,this.wrapCommand=function(e){return function(){t.invoke("beforeCommand"),e.apply(this,arguments),t.invoke("afterCommand")}},t.memo("button.caseConverter",(function(){var t="";return t+='<li><a href="#" data-value="lowerCase">'+a.caseConverter.lowerCase+"</a></li>",t+='<li><a href="#" data-value="upperCase">'+a.caseConverter.upperCase+"</a></li>",t+='<li><a href="#" data-value="sentenceCase">'+a.caseConverter.sentenceCase+"</a></li>",t+='<li><a href="#" data-value="titleCase">'+a.caseConverter.titleCase+"</a></li>",n.buttonGroup([n.button({className:"caseConverter-toggle dropdown-toggle",contents:i.caseConverter.icon,tooltip:a.caseConverter.title,data:{toggle:"dropdown"}}),n.dropdown({className:"dropdown-caseConverter",items:t,callback:function(e){e.css("padding",".5rem")},click:o.wrapCommand((function(t){t.preventDefault();var o=r.summernote("createRange");if(o.toString())for(var n,i=0,a=e(t.target).data("value"),l=o.nodes(),s=0;s<l.length;++s)"#text"==l[s].nodeName&&(i++,n=l[s].nodeValue,l[s].nodeValue=n.toLowerCase(),"upperCase"==a?l[s].nodeValue=n.toUpperCase():("titleCase"==a||"sentenceCase"==a&&1==i)&&(l[s].nodeValue=n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()));e("#summernote").summernote("editor.restoreRange"),e("#summernote").summernote("editor.focus")}))})]).render()}))}})})?n.apply(t,r):n)||(e.exports=i)},355:function(e,t,o){var n,r,i;r=[o(1)],void 0===(i="function"==typeof(n=function(e){e.extend(!0,e.summernote.lang,{"en-US":{imageAttributes:{dialogTitle:"Image Attributes",tooltip:"Image Attributes",tabImage:"Image",src:"Source",browse:"Browse",title:"Title",alt:"Alt Text",dimensions:"Dimensions",tabAttributes:"Attributes",class:"Class",style:"Style",role:"Role",tabLink:"Link",linkHref:"URL",linkTarget:"Target",linkTargetInfo:"Options: _self, _blank, _top, _parent",linkClass:"Class",linkStyle:"Style",linkRel:"Rel",linkRelInfo:"Options: alternate, author, bookmark, help, license, next, nofollow, noreferrer, prefetch, prev, search, tag",linkRole:"Role",tabUpload:"Upload",upload:"Upload",tabBrowse:"Browse",editBtn:"OK"}}}),e.extend(!0,e.summernote.lang,{"zh-TW":{imageAttributes:{dialogTitle:"編輯圖片",tooltip:"編輯圖片",tabImage:"圖片",src:"資源",browse:"瀏覽",title:"標題",alt:"圖片說明",dimensions:"外形尺寸",tabAttributes:"屬性",class:"類 (Class)",style:"樣式 (Style)",role:"角色 (Role)",tabLink:"連結",linkHref:"網址 (Href)",linkTarget:"目標 (Target)",linkTargetInfo:"選項: _self, _blank, _top, _parent",linkClass:"類 (Class)",linkStyle:"樣式 (Style)",linkRel:"相對 (Rel)",linkRelInfo:"選項: alternate, author, bookmark, help, license, next, nofollow, noreferrer, prefetch, prev, search, tag",linkRole:"角色 (Role)",tabUpload:"上傳",upload:"上傳",tabBrowse:"瀏覽",editBtn:"OK"}}}),e.extend(e.summernote.options,{imageAttributes:{icon:'<i class="note-icon-pencil"/>',removeEmpty:!0,disableUpload:!0,imageFolder:""}}),e.extend(e.summernote.plugins,{imageAttributes:function(t){var o=this,n=e.summernote.ui,r=t.layoutInfo.note,i=t.layoutInfo.editor,a=t.layoutInfo.editable,l=t.options,s=l.langInfo,c="";if(l.maximumImageFileSize){var d=Math.floor(Math.log(l.maximumImageFileSize)/Math.log(1024)),u=1*(l.maximumImageFileSize/Math.pow(1024,d)).toFixed(2)+" "+" KMGTP"[d]+"B";c='<small class="help-block note-help-block">'+s.image.maximumFileSize+" : "+u+"</small>"}"_counter"in e.summernote.options.imageAttributes||(e.summernote.options.imageAttributes._counter=0),t.memo("button.imageAttributes",(function(){return n.button({contents:l.imageAttributes.icon,container:"body",tooltip:s.imageAttributes.tooltip,click:function(){t.invoke("imageAttributes.show")}}).render()})),this.initialize=function(){var t=l.dialogsInBody?e(document.body):i;e.summernote.options.imageAttributes._counter++;var o=e.summernote.options.imageAttributes._counter,r='<ul class="nav note-nav nav-tabs note-nav-tabs"><li class="nav-item note-nav-item active"><a class="nav-link note-nav-link active" href="#note-imageAttributes-'+o+'" data-toggle="tab">'+s.imageAttributes.tabImage+'</a></li><li class="nav-item note-nav-item"><a class="nav-link note-nav-link" href="#note-imageAttributes-attributes-'+o+'" data-toggle="tab">'+s.imageAttributes.tabAttributes+'</a></li><li class="nav-item note-nav-item"><a class="nav-link note-nav-link" href="#note-imageAttributes-link-'+o+'" data-toggle="tab">'+s.imageAttributes.tabLink+"</a></li>";0==l.imageAttributes.disableUpload&&(r+='<li class="nav-item note-nav-item"><a class="nav-link note-nav-link" href="#note-imageAttributes-upload-'+o+'" data-toggle="tab">'+s.imageAttributes.tabUpload+"</a></li>"),r+='</ul><div class="tab-content"><div class="tab-pane note-tab-pane" id="note-imageAttributes-attributes-'+o+'"><div class="note-form-group form-group note-group-imageAttributes-class"><label class="control-label note-form-label col-sm-3">'+s.imageAttributes.class+'</label><div class="input-group note-input-group col-xs-12 col-sm-9"><input class="note-imageAttributes-class form-control note-form-control note-input" type="text"></div></div><div class="note-form-group form-group note-group-imageAttributes-style"><label class="control-label note-form-label col-sm-3">'+s.imageAttributes.style+'</label><div class="input-group note-input-group col-xs-12 col-sm-9"><input class="note-imageAttributes-style form-control note-form-control note-input" type="text"></div></div><div class="note-form-group form-group note-group-imageAttributes-role"><label class="control-label note-form-label col-sm-3">'+s.imageAttributes.role+'</label><div class="input-group note-input-group col-xs-12 col-sm-9"><input class="note-imageAttributes-role form-control note-form-control note-input" type="text"></div></div></div><div class="tab-pane note-tab-pane" id="note-imageAttributes-link-'+o+'"><div class="note-form-group form-group note-group-imageAttributes-link-href"><label class="control-label note-form-label col-xs-3">'+s.imageAttributes.linkHref+'</label><div class="input-group note-input-group col-xs-12 col-sm-9"><input class="note-imageAttributes-link-href form-control note-form-control note-input" type="text"></div></div><div class="note-form-group form-group note-group-imageAttributes-link-target"><label class="control-label note-form-label col-xs-3">'+s.imageAttributes.linkTarget+'</label><div class="input-group note-input-group col-xs-12 col-sm-9"><input class="note-imageAttributes-link-target form-control note-form-control note-input" type="text"></div><small class="help-block note-help-block text-right">'+s.imageAttributes.linkTargetInfo+'</small></div><div class="note-form-group form-group note-group-imageAttributes-link-class"><label class="control-label note-form-label col-xs-3">'+s.imageAttributes.linkClass+'</label><div class="input-group note-input-group col-xs-12 col-sm-9"><input class="note-imageAttributes-link-class form-control note-form-control note-input" type="text"></div></div><div class="note-form-group form-group note-group-imageAttributes-link-style"><label class="control-label note-form-label col-xs-3">'+s.imageAttributes.linkStyle+'</label><div class="input-group note-input-group col-xs-12 col-sm-9"><input class="note-imageAttributes-link-style form-control note-form-control note-input" type="text"></div></div><div class="note-form-group form-group note-group-imageAttributes-link-rel"><label class="control-label note-form-label col-xs-3">'+s.imageAttributes.linkRel+'</label><div class="input-group note-input-group col-xs-12 col-sm-9"><input class="note-imageAttributes-link-rel form-control note-form-control note-input" type="text"></div><small class="help-block note-help-block text-right">'+s.imageAttributes.linkRelInfo+'</small></div><div class="note-form-group form-group note-group-imageAttributes-link-role"><label class="control-label note-form-label col-xs-3">'+s.imageAttributes.linkRole+'</label><div class="input-group note-input-group col-xs-12 col-sm-9"><input class="note-imageAttributes-link-role form-control note-form-control note-input" type="text"></div></div></div>',0==l.imageAttributes.disableUpload&&(r+='<div class="tab-pane note-tab-pane" id="note-imageAttributes-upload-'+o+'"><label class="control-label note-form-label col-xs-3">'+s.imageAttributes.upload+'</label><div class="input-group note-input-group col-xs-12 col-sm-9"><input class="note-imageAttributes-input form-control note-form-control note-input" type="file" name="files" accept="image/*" multiple="multiple">'+c+"</div></div>"),r+='<div class="tab-pane note-tab-pane in active" id="note-imageAttributes-'+o+'"><div class="note-form-group form-group note-group-imageAttributes-url"><label class="control-label note-form-label col-sm-3">'+s.imageAttributes.src+'</label><div class="input-group note-input-group col-xs-12 col-sm-9"><input class="note-imageAttributes-src form-control note-form-control note-input" type="text"></div></div><div class="note-form-group form-group note-group-imageAttributes-title"><label class="control-label note-form-label col-sm-3">'+s.imageAttributes.title+'</label><div class="input-group note-input-group col-xs-12 col-sm-9"><input class="note-imageAttributes-title form-control note-form-control note-input" type="text"></div></div><div class="note-form-group form-group note-group-imageAttributes-alt"><label class="control-label note-form-label col-sm-3">'+s.imageAttributes.alt+'</label><div class="input-group note-input-group col-xs-12 col-sm-9"><input class="note-imageAttributes-alt form-control note-form-control note-input" type="text"></div></div><div class="note-form-group form-group note-group-imageAttributes-dimensions"><label class="control-label note-form-label col-sm-3">'+s.imageAttributes.dimensions+'</label><div class="input-group note-input-group col-xs-12 col-sm-9"><input class="note-imageAttributes-width form-control note-form-control note-input" type="text"><span class="input-group-addon note-input-group-addon">x</span><input class="note-imageAttributes-height form-control note-form-control note-input" type="text"></div></div></div></div>',this.$dialog=n.dialog({title:s.imageAttributes.dialogTitle,body:r,footer:'<button href="#" class="btn btn-primary note-btn note-btn-primary note-imageAttributes-btn">'+s.imageAttributes.editBtn+"</button>"}).render().appendTo(t)},this.destroy=function(){n.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(e,t){e.on("keypress",(function(e){13===e.keyCode&&t.trigger("click")}))},this.bindLabels=function(){o.$dialog.find(".form-control:first").focus().select(),o.$dialog.find("label").on("click",(function(){e(this).parent().find(".form-control:first").focus()}))},this.show=function(){var i=e(a.data("target")),s={imgDom:i,title:i.attr("title"),src:i.attr("src"),alt:i.attr("alt"),width:i.attr("width"),height:i.attr("height"),role:i.attr("role"),class:i.attr("class"),style:i.attr("style"),imgLink:e(i).parent().is("a")?e(i).parent():null};this.showImageAttributesDialog(s).then((function(e){n.hideDialog(o.$dialog);var i=e.imgDom;if(l.imageAttributes.removeEmpty?(e.alt?i.attr("alt",e.alt):i.removeAttr("alt"),e.width?i.attr("width",e.width):i.removeAttr("width"),e.height?i.attr("height",e.height):i.removeAttr("height"),e.title?i.attr("title",e.title):i.removeAttr("title"),e.src?i.attr("src",e.src):i.attr("src","#"),e.class?i.attr("class",e.class):i.removeAttr("class"),e.style?i.attr("style",e.style):i.removeAttr("style"),e.role?i.attr("role",e.role):i.removeAttr("role")):(e.src?i.attr("src",e.src):i.attr("src","#"),i.attr("alt",e.alt),i.attr("width",e.width),i.attr("height",e.height),i.attr("title",e.title),i.attr("class",e.class),i.attr("style",e.style),i.attr("role",e.role)),i.parent().is("a")&&i.unwrap(),e.linkHref){var a="<a";e.linkClass&&(a+=' class="'+e.linkClass+'"'),e.linkStyle&&(a+=' style="'+e.linkStyle+'"'),a+=' href="'+e.linkHref+'" target="'+e.linkTarget+'"',e.linkRel&&(a+=' rel="'+e.linkRel+'"'),e.linkRole&&(a+=' role="'+e.linkRole+'"'),a+="></a>",i.wrap(a)}r.val(t.invoke("code")),r.change()}))},this.showImageAttributesDialog=function(r){return e.Deferred((function(i){var s=o.$dialog.find(".note-imageAttributes-title"),c=o.$dialog.find(".note-imageAttributes-input"),d=o.$dialog.find(".note-imageAttributes-src"),u=o.$dialog.find(".note-imageAttributes-alt"),p=o.$dialog.find(".note-imageAttributes-width"),f=o.$dialog.find(".note-imageAttributes-height"),m=o.$dialog.find(".note-imageAttributes-class"),g=o.$dialog.find(".note-imageAttributes-style"),b=o.$dialog.find(".note-imageAttributes-role"),h=o.$dialog.find(".note-imageAttributes-link-href"),v=o.$dialog.find(".note-imageAttributes-link-target"),y=o.$dialog.find(".note-imageAttributes-link-class"),w=o.$dialog.find(".note-imageAttributes-link-style"),x=o.$dialog.find(".note-imageAttributes-link-rel"),k=o.$dialog.find(".note-imageAttributes-link-role"),C=o.$dialog.find(".note-imageAttributes-btn");h.val(),y.val(),w.val(),k.val(),v.val(),x.val(),r.imgLink&&(h.val(r.imgLink.attr("href")),y.val(r.imgLink.attr("class")),w.val(r.imgLink.attr("style")),k.val(r.imgLink.attr("role")),v.val(r.imgLink.attr("target")),x.val(r.imgLink.attr("rel"))),n.onDialogShown(o.$dialog,(function(){t.triggerEvent("dialog.shown"),c.replaceWith(c.clone().on("change",(function(){var o;l.callbacks.onImageUpload?t.triggerEvent("image.upload",this.files[0]):(o=this.files[0],e.Deferred((function(t){e.extend(new FileReader,{onload:function(e){var o=e.target.result;t.resolve(o)},onerror:function(){t.reject(this)}}).readAsDataURL(o)})).promise()).then((function(e){d.val(e)})).fail((function(){t.triggerEvent("image.upload.error")}))})).val("")),C.click((function(e){e.preventDefault(),i.resolve({imgDom:r.imgDom,title:s.val(),src:d.val(),alt:u.val(),width:p.val(),height:f.val(),class:m.val(),style:g.val(),role:b.val(),linkHref:h.val(),linkTarget:v.val(),linkClass:y.val(),linkStyle:w.val(),linkRel:x.val(),linkRole:k.val()}).then((function(e){t.triggerEvent("change",a.html())}))})),s.val(r.title),d.val(r.src),u.val(r.alt),p.val(r.width),f.val(r.height),m.val(r.class),g.val(r.style),b.val(r.role),o.bindEnterKey(C),o.bindLabels()})),n.onDialogHidden(o.$dialog,(function(){C.off("click"),"pending"===i.state()&&i.reject()})),n.showDialog(o.$dialog)}))}}})})?n.apply(t,r):n)||(e.exports=i)},356:function(e,t,o){var n,r,i;r=[o(1)],void 0===(i="function"==typeof(n=function(e){e.extend(!0,e.summernote.lang,{"en-US":{captionIt:{tooltip:"Caption It",captionText:"Caption Goes Here."}},"zh-TW":{captionIt:{tooltip:"圖片標題",captionText:"這是圖片標題"}}}),e.extend(e.summernote.options,{captionIt:{icon:'<i class="note-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" width="14" height="14"><path d="M 8.781,11.11 7,11.469 7.3595,9.688 8.781,11.11 Z M 7.713,9.334 9.135,10.7565 13,6.8915 11.5775,5.469 7.713,9.334 Z M 6.258,9.5 8.513,7.12 7.5,5.5 6.24,7.5 5,6.52 3,9.5 6.258,9.5 Z M 4.5,5.25 C 4.5,4.836 4.164,4.5 3.75,4.5 3.336,4.5 3,4.836 3,5.25 3,5.6645 3.336,6 3.75,6 4.164,6 4.5,5.6645 4.5,5.25 Z m 1.676,5.25 -4.176,0 0,-7 9,0 0,1.156 1,0 0,-2.156 -11,0 0,9 4.9845,0 0.1915,-1 z"/></svg></i>',figureClass:"",figcaptionClass:"",captionText:"",captionInAnchor:!0}}),e.extend(e.summernote.plugins,{captionIt:function(t){var o=e.summernote.dom,n=e.summernote.ui,r=t.layoutInfo.editable,i=t.options,a=i.langInfo,l=this;this.wrapCommand=function(e){return function(){t.invoke("beforeCommand"),e.apply(this,arguments),t.invoke("afterCommand")}},t.memo("button.captionIt",(function(){return n.button({contents:i.captionIt.icon,tooltip:a.captionIt.tooltip,click:l.wrapCommand((function(){var t=e(r.data("target")),n=o.makePredByNodeName("FIGURE"),l=e(o.ancestor(t[0],n)),s=e(o.ancestor(t[0],o.isAnchor));if(l.length)l.find("figcaption").remove(),s.length?s.unwrap("figure"):t.unwrap("figure");else{var c=t.attr("title"),d=t.attr("alt"),u=(t.attr("class"),t.attr("style"),t.attr("class"),t.attr("style"),t.width()),p="";if(p=c||d||i.captionIt.captionText||a.captionIt.captionText,s.length){s.wrap('<figure class="'+i.captionIt.figureClass+'"></figure>');var f=s.parent(),m='<figcaption class="'+i.captionIt.figcaptionClass+'">'+p+"</figcaption>";i.captionIt.captionInAnchor?s.append(m):f.append(m),f.width(u)}else{var g=e(t).wrap('<figure class="'+i.captionIt.figureClass+'"></figure>').parent();t.after('<figcaption class="'+i.captionIt.figcaptionClass+'">'+p+"</figcaption>"),g.width(u)}}}))}).render()}))}})})?n.apply(t,r):n)||(e.exports=i)},357:function(e,t,o){var n,r,i;r=[o(1)],void 0===(i="function"==typeof(n=function(e){e.extend(!0,e.summernote.lang,{"en-US":{imageShapes:{tooltip:"Image Shapes",tooltipShapeOptions:["Responsive","Rounded","Circle","Thumbnail","None"]}},"zh-TW":{imageShapes:{tooltip:"圖片外框",tooltipShapeOptions:["自動","圓角","圓形","縮圖","無"]}}}),e.extend(e.summernote.options,{imageShapes:{icon:'<i class="note-icon-picture"></i>',shapes:["img-fluid","rounded","rounded-circle","img-thumbnail",""]}}),e.extend(e.summernote.plugins,{imageShapes:function(t){var o=e.summernote.ui,n=t.layoutInfo.editable,r=t.options,i=r.langInfo,a=(e.summernote.dom,t.modules);t.memo("button.imageShapes",(function(){return o.buttonGroup([o.button({className:"dropdown-toggle",contents:r.imageShapes.icon+'&nbsp;&nbsp;<span class="caret"></span>',tooltip:i.imageShapes.tooltip,data:{toggle:"dropdown"},click:function(t){var o=e(t.target),r=o.closest(".dropdown-toggle"),i=e(n.data("target")),l=o.closest(".popover").css("left"),s=o.closest(".popover").css("top"),c=o.css("height");setTimeout((function(){a.handle.update(i[0],t);var e=o.closest(".popover"),n=r.next(".dropdown-menu");e.css({left:l,top:s}),n.css({transform:"translate3d(0px, ".concat(c,", 0px)")})}),0)}}),o.dropdown({className:"dropdown-shape",items:i.imageShapes.tooltipShapeOptions,click:function(o){var a=e(o.target),l=e(n.data("target")),s=e.inArray(a.data("value"),i.imageShapes.tooltipShapeOptions);e.each(r.imageShapes.shapes,(function(e,t){l.removeClass(t)})),l.addClass(r.imageShapes.shapes[s]),t.invoke("editor.afterCommand")}})]).render()}))}})})?n.apply(t,r):n)||(e.exports=i)},358:function(e,t,o){var n,r,i;r=[o(1)],void 0===(i="function"==typeof(n=function(e){e.extend(!0,e.summernote.lang,{"en-US":{listStyleTypes:{tooltip:"List Styles",labelsListStyleTypes:{disc:"Disc",circle:"Circle",square:"Square",decimal:"Numbered","decimal-brackets":"Numbered - Brackets","lower-alpha":"Lower Alpha","lower-alpha-brackets":"Lower Alpha - Brackets","upper-alpha":"Upper Alpha","upper-alpha-brackets":"Upper Alpha - Brackets","lower-roman":"Lower Roman","lower-roman-brackets":"Lower Roman - Brackets","upper-roman":"Upper Roman","upper-roman-brackets":"Upper Roman - Brackets","cjk-heavenly-stem":"Heavenly Stem","cjk-heavenly-stem-brackets":"Heavenly Stem - Brackets","trad-chinese-informal":"Traditional Chinese Informal","trad-chinese-informal-brackets":"Traditional Chinese Informal - Brackets","trad-chinese-formal":"Traditional Chinese Formal","trad-chinese-formal-brackets":"Traditional Chinese Formal - Brackets"}}},"zh-TW":{listStyleTypes:{tooltip:"清單樣式",labelsListStyleTypes:{disc:"實心圓形",circle:"空心圓形",square:"實心方形",decimal:"數字","decimal-brackets":"數字 - 括弧","lower-alpha":"小寫字母","lower-alpha-brackets":"小寫字母 - 括弧","upper-alpha":"大寫字母","upper-alpha-brackets":"大寫字母 - 括弧","lower-roman":"小寫羅馬數字","lower-roman-brackets":"小寫羅馬數字 - 括弧","upper-roman":"大寫羅馬數字","upper-roman-brackets":"大寫羅馬數字 - 括弧","cjk-heavenly-stem":"天干","cjk-heavenly-stem-brackets":"天干 - 括弧","trad-chinese-informal":"繁中非正式","trad-chinese-informal-brackets":"繁中非正式 - 括弧","trad-chinese-formal":"繁中正式","trad-chinese-formal-brackets":"繁中正式 - 括弧"}}}}),e.extend(e.summernote.options,{listStyleTypes:{styles:[["disc","circle","square"],["decimal","lower-alpha","upper-alpha","lower-roman","upper-roman","cjk-heavenly-stem","trad-chinese-informal","trad-chinese-formal"],["decimal-brackets","lower-alpha-brackets","upper-alpha-brackets","lower-roman-brackets","upper-roman-brackets","cjk-heavenly-stem-brackets","trad-chinese-informal-brackets","trad-chinese-formal-brackets"]]}}),e.extend(e.summernote.plugins,{listStyles:function(t){var o=e.summernote.range,n=e.summernote.dom,r=this,i=e.summernote.ui,a=t.options,l=a.langInfo,s=a.listStyleTypes.styles,c=l.listStyleTypes.labelsListStyleTypes,d=(t.modules,s.map((function(e,t){return e.map((function(e){var t=e,o='<ol style="margin:0; display:inline-block;">\n              <li style="list-style-type:'.concat(e,';"> ').concat(c[e],"</li>\n            </ol>");return'<a class="dropdown-item" href="#" data-value="'+t+'" role="listitem" aria-label="'+e+'">'+i.icon(a.icons.menuCheck)+" "+o+"</a>"})).join("")})).join('<div class="dropdown-divider"></div>'));t.memo("button.listStyles",(function(){return i.buttonGroup([i.button({className:"dropdown-toggle list-styles",contents:"",tooltip:l.listStyleTypes.tooltip,data:{toggle:"dropdown"},callback:function(e){e.click((function(t){t.preventDefault(),r.updateListStyleMenuState(e)}))}}),i.dropdownCheck({className:"dropdown-list-style",items:d,template:function(e){return'<ol style="margin:0; display:inline-block;">\n                    <li style="list-style-type:'.concat(e,';"> ').concat(c[e],"</li>\n                  </ol>")},callback:function(t){t.find("a.dropdown-item").each((function(){e(this).click((function(t){t.preventDefault(),r.updateStyleType(e(this).data("value"))}))}))}})]).render().addClass("note-list-style-more")})),r.updateListStyleMenuState=function(e){t.invoke("editor.saveRange");var o=t.invoke("editor.currentStyle"),n=o["list-style-type"],r=o["list-style"],i=e.next();i.find("a.dropdown-item.checked").removeClass("checked"),r&&"none"!==r&&i.find('a.dropdown-item[data-value="'.concat(n,'"]')).addClass("checked")},r.updateStyleType=function(r){t.invoke("editor.restoreRange"),t.invoke("editor.focus"),t.invoke("beforeCommand");var i=o.create(),a=n.ancestor(i.commonAncestor(),n.isList);a||(t.invoke("editor.insertOrderedList"),a=n.ancestor(i.commonAncestor(),n.isList)),e(a).css("list-style-type",r),t.invoke("afterCommand")},this.events={"summernote.init":function(t,n){n.toolbar.on("mouseup",".note-btn",(function(t){if(e(t.currentTarget).find(".note-icon-unorderedlist, .note-icon-orderedlist").length){var n=o.create();e(n.sc).closest("ul,ol").css("list-style-type","")}}))}}}})})?n.apply(t,r):n)||(e.exports=i)},359:function(e,t,o){var n=o(360);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};o(66)(n,r);n.locals&&(e.exports=n.locals)},360:function(e,t,o){(t=o(65)(!1)).push([e.i,'@counter-style decimal-brackets {\n    system: extends decimal;\n    suffix: ") ";\n    prefix: "(";\n}\n@counter-style lower-alpha-brackets {\n    system: extends lower-alpha;\n    suffix: ") ";\n    prefix: "(";\n}\n@counter-style upper-alpha-brackets {\n    system: extends upper-alpha;\n    suffix: ") ";\n    prefix: "(";\n}\n@counter-style lower-roman-brackets {\n    system: extends lower-roman;\n    suffix: ") ";\n    prefix: "(";\n}\n@counter-style upper-roman-brackets {\n    system: extends upper-roman;\n    suffix: ") ";\n    prefix: "(";\n}\n@counter-style cjk-heavenly-stem-brackets {\n    system: extends cjk-heavenly-stem;\n    suffix: ") ";\n    prefix: "(";\n}\n@counter-style trad-chinese-informal-brackets {\n    system: extends trad-chinese-informal;\n    suffix: ") ";\n    prefix: "(";\n}\n@counter-style trad-chinese-formal-brackets {\n    system: extends trad-chinese-formal;\n    suffix: ") ";\n    prefix: "(";\n}',""]),e.exports=t},361:function(e,t,o){var n,r,i;r=[o(1)],void 0===(i="function"==typeof(n=function(e){e.extend(!0,e.summernote.lang,{"en-US":{pagebreak:{tooltip:"Page Break"}},"zh-TW":{pagebreak:{tooltip:"分頁符號"}}}),e.extend(e.summernote.options,{pagebreak:{icon:'<i class="note-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" width="14" height="14"><path d="M 4,5.5 4,1 l 9,0 0,4.5 -0.750612,0 0,-3.74939 -7.498776,0 0,3.75061 L 4,5.50122 Z M 13,7.75061 13,13 4,13 4,7.75061 l 0.750612,0 0,4.5 7.5,0 0,-4.5 0.749388,0 z m -6,-1.5 1.5,0 L 8.5,7 7,7 7,6.25061 Z m -2.249388,0 1.5,0 0,0.74939 -1.5,0 0,-0.74939 z m 4.5,0 1.5,0 0,0.74939 -1.5,0 0,-0.74939 z m 2.249388,0 1.5,0 L 13,7 11.5,7 11.5,6.25061 Z M 1,4.37469 3.250612,6.62531 1,8.87469 l 0,-4.5 z"/></svg></i>',css:'@media all{.note-editable .page-break{position:relative;display:block;width:100%;height:1px;background-color:#ddd;margin:15px 0;}.note-editable .page-break:after{content:"Page-Break";position:absolute;width:100%;height:20px;top:-10px;color:#ddd;-webkit-text-shadow:0 0 5px #fff,0 0 5px #fff,0 0 5px #fff,0 0 5px #fff;-moz-text-shadow:0 0 5px #fff,0 0 5px #fff,0 0 5px #fff,0 0 5px #fff;text-shadow:0 0 5px #fff,0 0 5px #fff,0 0 5px #fff,0 0 5px #fff;text-align:center;}}@media print{.note-editable .page-break{display:block;page-break-before:always;}}'}}),e.extend(e.summernote.plugins,{pagebreak:function(t){var o=e.summernote.ui,n=t.options,r=n.langInfo,i=t.layoutInfo.editable,a=this;0==e("#summernote-pagebreak-style").length&&(this.css=e("<style>").html(n.pagebreak.css),this.css.attr("id","summernote-pagebreak-style"),e("head").append(this.css)),this.wrapCommand=function(e){return function(){t.invoke("beforeCommand"),e.apply(this,arguments),t.invoke("afterCommand")}},this.destroy=function(){this.css&&e(this.css).remove()},t.memo("button.pagebreak",(function(){return o.button({contents:n.pagebreak.icon,tooltip:r.pagebreak.tooltip,container:"body",click:a.wrapCommand((function(t){if(t.preventDefault(),getSelection().rangeCount>0){var o=getSelection().getRangeAt(0).commonAncestorContainer.parentNode;e(o).hasClass("note-editable")&&(o=getSelection().getRangeAt(0).commonAncestorContainer),e(o).hasClass("page-break")||e(o).next("div.page-break").length<1&&e('<div class="page-break"></div><p><br></p>').insertAfter(o)}else"page-break"!==i.find("div").last().attr("class")&&i.append('<div class="page-break"></div><p><br></p>')}))}).render()}))}})})?n.apply(t,r):n)||(e.exports=i)},362:function(e,t,o){var n,r,i;r=[o(1)],void 0===(i="function"==typeof(n=function(e){e.extend(!0,e.summernote.lang,{"en-US":{videoAttributes:{dialogTitle:"Video Attributes",tooltip:"Video Attributes",pluginTitle:"Video Attributes",href:"URL",videoSize:"Video size",videoOption0:"Responsive",videoOption1:"1280x720",videoOption2:"853x480",videoOption3:"640x360",videoOption4:"560x315",alignment:"Alignment",alignmentOption0:"None",alignmentOption1:"Left",alignmentOption2:"Right",alignmentOption3:"Initial",alignmentOption4:"Inherit",suggested:"Show Suggested videos when the video finishes",controls:"Show player controls",autoplay:"Autoplay",loop:"Loop",note:"Note: Not all options are available with all services...",ok:"OK"}},"zh-TW":{videoAttributes:{dialogTitle:"影片屬性",tooltip:"影片",pluginTitle:"影片屬性",href:"網址",videoSize:"影片尺寸",videoOption0:"Responsive",videoOption1:"1280x720",videoOption2:"853x480",videoOption3:"640x360",videoOption4:"560x315",alignment:"對齊方式",alignmentOption0:"無",alignmentOption1:"左",alignmentOption2:"右",alignmentOption3:"預設",alignmentOption4:"繼承",suggested:"影片結束後顯示推薦影片",controls:"顯示播放器控制項",autoplay:"自動播放",loop:"循環播放",note:"Note: Not all options are available with all services...",ok:"確認"}}}),e.extend(e.summernote.options,{videoAttributes:{showVideoSize:!0,showVideoAlignment:!0,showSuggestedVideos:!0,showPlayerControls:!0,showAutoplay:!0,showLoop:!0}}),e.extend(e.summernote.plugins,{videoAttributes:function(t){var o=this,n=e.summernote.ui,r=t.layoutInfo.editor,i=t.layoutInfo.editable,a=t.options,l=a.langInfo;t.memo("button.videoAttributes",(function(){return n.button({contents:n.icon(a.icons.video),container:!1,tooltip:l.videoAttributes.tooltip,click:function(e){t.invoke("saveRange"),t.invoke("videoAttributes.show")}}).render()})),this.initialize=function(){var t=a.dialogsInBody?e(document.body):r,o='<div class="form-group">  <label for="note-video-attributes-href" class="control-label col-xs-3">'+l.videoAttributes.href+'</label>  <div class="input-group col-xs-9">';a.videoAttributes.videoUrls,Array.isArray(a.videoAttributes.videoUrls),void 0!==a.videoAttributes.videoUrls&&Array.isArray(a.videoAttributes.videoUrls)?(o+=' <select class="note-video-attributes-href form-control">',a.videoAttributes.videoUrls.forEach((function(e){return o+=' <option value="'+e+'">'+e+"</option>"})),o+=" </select>"):o+='<input type="text" class="note-video-attributes-href form-control">',o+="  </div></div>",!0===a.videoAttributes.showVideoSize&&(o+='<div class="form-group">  <label for="note-video-attributes-video-size" class="control-label col-xs-3">'+l.videoAttributes.videoSize+'</label>  <div class="input-group col-xs-9">    <select id="note-video-attributes-size" class="note-video-attributes-size form-control col-xs-6" readonly="readonly">      <option value="0">'+l.videoAttributes.videoOption0+'</option>      <option value="1">'+l.videoAttributes.videoOption1+'</option>      <option value="2">'+l.videoAttributes.videoOption2+'</option>      <option value="3" selected>'+l.videoAttributes.videoOption3+'</option>      <option value="4">'+l.videoAttributes.videoOption4+"</option>    </select>  </div></div>"),!0===a.videoAttributes.showVideoAlignment&&(o+='<div class="form-group">  <label for="note-video-attributes-video-alignment" class="control-label col-xs-3">'+l.videoAttributes.alignment+'</label>  <div class="input-group col-xs-9">    <select id="note-video-attributes-alignment" class="note-video-attributes-alignment form-control col-xs-6">      <option value="none" selected>'+l.videoAttributes.alignmentOption0+'</option>      <option value="left">'+l.videoAttributes.alignmentOption1+'</option>      <option value="right">'+l.videoAttributes.alignmentOption2+'</option>      <option value="initial">'+l.videoAttributes.alignmentOption3+'</option>      <option value="inherit">'+l.videoAttributes.alignmentOption4+"</option>    </select>  </div></div>"),!0===a.videoAttributes.showSuggestedVideos&&(o+='<div class="form-group clearfix">  <div class="control-label col-xs-3"></div>  <div class="input-group col-xs-9">    <div class="checkbox checkbox-success">      <input type="checkbox" id="note-video-attributes-suggested-checkbox" class="note-video-attributes-suggested-checkbox" checked>      <label for="note-video-attributes-suggested-checkbox">'+l.videoAttributes.suggested+"</label>    </div>  </div></div>"),!0===a.videoAttributes.showPlayerControls&&(o+='<div class="form-group clearfix">  <div class="control-label col-xs-3"></div>  <div class="input-group col-xs-9">    <div class="checkbox checkbox-success">      <input type="checkbox" id="note-video-attributes-controls-checkbox" class="note-video-attributes-controls-checkbox" checked>      <label for="note-video-attributes-controls-checkbox">'+l.videoAttributes.controls+"</label>    </div>  </div></div>"),!0===a.videoAttributes.showAutoplay&&(o+='<div class="form-group clearfix">  <div class="control-label col-xs-3"></div>  <div class="input-group col-xs-9">    <div class="checkbox checkbox-success">      <input type="checkbox" id="note-video-attributes-autoplay-checkbox" class="note-video-attributes-autoplay-checkbox">      <label for="note-video-attributes-autoplay-checkbox">'+l.videoAttributes.autoplay+"</label>    </div>  </div></div>"),!0===a.videoAttributes.showLoop&&(o+='<div class="form-group clearfix">  <div class="control-label col-xs-3"></div>  <div class="input-group col-xs-9">    <div class="checkbox checkbox-success">      <input type="checkbox" id="note-video-attributes-loop-checkbox" class="note-video-attributes-loop-checkbox">      <label for="note-video-attributes-loop-checkbox">'+l.videoAttributes.loop+"</label>    </div>  </div></div>"),o+='<div class="form-group">  <div class="col-xs-3"></div>  <div class="col-xs-9 help-block">'+l.videoAttributes.note+"</div></div>",this.$dialog=n.dialog({title:l.videoAttributes.dialogTitle,body:o,footer:'<button href="#" class="btn btn-primary note-video-attributes-btn">'+l.videoAttributes.ok+"</button>"}).render().appendTo(t)},this.destroy=function(){n.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(e,t){e.on("keypress",(function(e){13===e.keyCode&&t.trigger("click")}))},this.bindLabels=function(){o.$dialog.find(".form-control:first").focus().select(),o.$dialog.find("label").on("click",(function(){e(this).parent().find(".form-control:first").focus()}))},this.show=function(){var r=e(i.data("target")),a={vidDom:r,href:r.attr("href")};this.showLinkDialog(a).then((function(r){n.hideDialog(o.$dialog),r.vidDom;var i=o.$dialog.find(".note-video-attributes-href"),a=o.$dialog.find(".note-video-attributes-size"),l=o.$dialog.find(".note-video-attributes-alignment"),s=o.$dialog.find(".note-video-attributes-suggested-checkbox"),c=o.$dialog.find(".note-video-attributes-controls-checkbox"),d=o.$dialog.find(".note-video-attributes-autoplay-checkbox"),u=o.$dialog.find(".note-video-attributes-loop-checkbox"),p=i.val(),f=e("<div/>");0===a.val()&&(f.addClass("embed-responsive embed-responsive-16by9"),f.css({float:l.val()}));var m="auto",g="auto";"1"===a.val()&&(m="1280",g="720"),"2"===a.val()&&(m="853",g="480"),"3"===a.val()&&(m="640",g="360"),"4"===a.val()&&(m="560",g="315");var b,h=p.match(/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/),v=p.match(/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/),y=p.match(/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/),w=p.match(/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*([0-9]{6,11})[?]?.*/),x=p.match(/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/),k=p.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/),C=p.match(/^.+.(mp4|m4v)$/),A=p.match(/^.+.(ogg|ogv)$/),S=p.match(/^.+.(webm)$/),T="";if(h&&11===h[1].length){s.is(":checked")||(T+="rel=0"),c.is(":checked")||(T+="&controls=0"),d.is(":checked")&&(T+="&autoplay=1"),u.is(":checked")||(T+="&loop=0");var j=h[1];b=e("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+j+"?"+T).attr("width",m).attr("height",g)}else v&&v[0].length?b=e("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+v[1]+"/embed/").attr("width",m).attr("height",g).attr("scrolling","no").attr("allowtransparency","true"):y&&y[0].length?b=e("<iframe>").attr("frameborder",0).attr("src",y[0]+"/embed/simple").attr("width",m).attr("height",g).attr("class","vine-embed"):w&&w[3].length?(d.is(":checked")&&(T+="&autoplay=1"),u.is(":checked")&&(T+="&loop=1"),b=e("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+w[3]+"?"+T).attr("width",m).attr("height",g)):x&&x[2].length?(s.is(":checked")||(T+="related=1"),d.is(":checked")?T+="autoplay=0":T+="autoplay=1",b=e("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+x[2]).attr("width",m).attr("height",g)):k&&k[1].length?b=e("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("width",m).attr("height",g).attr("src","//player.youku.com/embed/"+k[1]):(C||A||S)&&(b=e("<video controls>").attr("src",p).attr("width",m).attr("height",g));0===a.val()?b.addClass("embed-responsive"):b.css({float:l.val()}),b.addClass("note-video-clip"),f.html(b),t.invoke("restoreRange"),t.invoke("editor.insertNode",f[0])}))},this.showLinkDialog=function(r){return e.Deferred((function(e){var i=o.$dialog.find(".note-video-attributes-href");$editBtn=o.$dialog.find(".note-video-attributes-btn"),n.onDialogShown(o.$dialog,(function(){t.triggerEvent("dialog.shown"),$editBtn.click((function(t){t.preventDefault(),e.resolve({vidDom:r.vidDom,href:i.val()})})),i.val(r.href).focus,o.bindEnterKey($editBtn),o.bindLabels()})),n.onDialogHidden(o.$dialog,(function(){$editBtn.off("click"),"pending"===e.state()&&e.reject()})),n.showDialog(o.$dialog)}))}}})})?n.apply(t,r):n)||(e.exports=i)},363:function(e,t,o){(function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){e.exports=o(1)},function(e,o,n){"use strict";"function"==typeof Symbol&&t(Symbol.iterator);var r,i,a,l,s=n(2),c=(l=s)&&l.__esModule?l:{default:l};var d=/^[^\s]+$/,u=38,p=40,f=13;i=[n(3)],void 0===(a="function"==typeof(r=function(e){e.extend(e.summernote.plugins,{summernoteAtMention:function(e){var t=this;if(this.editableEl=e.layoutInfo.editable[0],this.editorEl=e.layoutInfo.editor[0],this.autocompleteAnchor={left:null,top:null},this.autocompleteContainer=null,this.showingAutocomplete=!1,this.selectedIndex=null,this.suggestions=null,this.getSuggestions=function(e){return[]},e.options&&e.options.callbacks&&e.options.callbacks.summernoteAtMention){var o=e.options.callbacks.summernoteAtMention;o.getSuggestions&&(this.getSuggestions=o.getSuggestions),o.onSelect&&(this.onSelect=o.onSelect)}this.events={"summernote.blur":function(){t.showingAutocomplete&&t.hideAutocomplete()},"summernote.keydown":function(e,o){if(t.showingAutocomplete)switch(o.keyCode){case f:o.preventDefault(),o.stopPropagation(),t.handleEnter();break;case u:o.preventDefault(),o.stopPropagation();var n=0===t.selectedIndex?0:t.selectedIndex-1;t.updateAutocomplete(t.suggestions,n);break;case p:o.preventDefault(),o.stopPropagation();var r=t.selectedIndex===t.suggestions.length-1?t.selectedIndex:t.selectedIndex+1;t.updateAutocomplete(t.suggestions,r)}},"summernote.keyup":function(e,o){var n=document.getSelection(),r=n.anchorNode.nodeValue,i=t.findWordAndIndices(r||"",n.anchorOffset),a=i.word,l=i.absoluteIndex,s=a.slice(1);if(t.showingAutocomplete&&![p,u,f].includes(o.keyCode))if("@"===a[0]){var c=t.getSuggestions(s);t.updateAutocomplete(c,t.selectedIndex)}else t.hideAutocomplete();else t.showingAutocomplete||"@"!==a[0]||(t.suggestions=t.getSuggestions(s),t.selectedIndex=0,t.showAutocomplete(l,n.anchorNode))}},this.handleEnter=function(){t.handleSelection()},this.handleClick=function(e){var o=t.suggestions.findIndex((function(t){return t===e}));if(-1===o)throw new Error("Unable to find suggestion in suggestions.");t.selectedIndex=o,t.handleSelection()},this.handleSelection=function(){if(null!==t.suggestions&&0!==t.suggestions.length){var o=t.suggestions[t.selectedIndex];if(void 0===t.onSelect){var n=document.getSelection(),r=n.anchorNode.nodeValue,i=t.findWordAndIndices(r||"",n.anchorOffset),a=i.word,l=i.absoluteIndex,s=new c.default(t.editableEl);s.preserve(),n.anchorNode.textContent=r.slice(0,l+1)+o+" "+r.slice(l+a.length),s.restore(l+o.length+1),void 0!==e.options.callbacks.onChange&&e.options.callbacks.onChange(t.editableEl.innerHTML)}else t.onSelect(o)}},this.updateAutocomplete=function(e,o){t.selectedIndex=o,t.suggestions=e,t.renderAutocomplete()},this.showAutocomplete=function(e,o){if(t.showingAutocomplete)throw new Error("Cannot call showAutocomplete if autocomplete is already showing.");t.setAutocompleteAnchor(e,o),t.renderAutocompleteContainer(),t.renderAutocomplete(),t.showingAutocomplete=!0},this.renderAutocompleteContainer=function(){t.autocompleteContainer=document.createElement("div"),t.autocompleteContainer.style.top=String(t.autocompleteAnchor.top)+"px",t.autocompleteContainer.style.left=String(t.autocompleteAnchor.left)+"px",t.autocompleteContainer.style.position="absolute",t.autocompleteContainer.style.backgroundColor="#e4e4e4",t.autocompleteContainer.style.zIndex=Number.MAX_SAFE_INTEGER,document.body.appendChild(t.autocompleteContainer)},this.renderAutocomplete=function(){if(null===t.autocompleteContainer)throw new Error("Cannot call renderAutocomplete without an autocompleteContainer. ");var e=document.createElement("div");t.suggestions.forEach((function(o,n){var r=document.createElement("div");r.textContent=o,r.style.padding="5px 10px",t.selectedIndex===n&&(r.style.backgroundColor="#2e6da4",r.style.color="white"),r.addEventListener("mousedown",(function(){t.handleClick(o)})),e.appendChild(r)})),t.autocompleteContainer.innerHTML="",t.autocompleteContainer.appendChild(e)},this.hideAutocomplete=function(){if(!t.showingAutocomplete)throw new Error("Cannot call hideAutocomplete if autocomplete is not showing.");document.body.removeChild(t.autocompleteContainer),t.autocompleteAnchor={left:null,top:null},t.selectedIndex=null,t.suggestions=null,t.showingAutocomplete=!1},this.findWordAndIndices=function(e,t){if(t>e.length)return{word:"",relativeIndex:0};for(var o="",n="",r=0,i=t,a=t;a>0&&e[a-1].match(d);a--)o=e[a-1]+o,r++,i--;for(var l=t-1;l>0&&l<e.length-1&&e[l+1].match(d);l++)n+=e[l+1];return{word:o+n,relativeIndex:r,absoluteIndex:i}},this.setAutocompleteAnchor=function(e,o){for(var n=o.parentNode.innerHTML,r=o.nodeValue,i=-1,a=0;a<=e;a++)"@"===r[a]&&i++;for(var l=void 0,s=0,d=0;s<n.length;s++)if("@"===n[s]){if(d===i){l=s;break}d++}var u="at-node-"+String(Math.floor(1e4*Math.random())),p='<span id="'+u+'">@</span>',f=new c.default(t.editableEl);f.preserve(),o.parentNode.innerHTML=n.slice(0,l)+p+n.slice(l+1);var m=document.querySelector("#"+u).getBoundingClientRect();t.autocompleteAnchor={top:m.top+m.height+2,left:m.left},f.findRangeStartContainer().parentNode.innerHTML=n,f.restore()}}})})?r.apply(o,i):r)||(e.exports=a)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}();function r(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}var i=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),null==t)throw new Error("Please provide a valid rootNode.");this.rootNode=t,this.rangeStartContainerAddress=null,this.rangeStartOffset=null}return n(e,[{key:"preserve",value:function(){var e=window.getSelection();this.rangeStartOffset=e.getRangeAt(0).startOffset,this.rangeStartContainerAddress=this.findRangeStartContainerAddress(e)}},{key:"restore",value:function(e){if(null===this.rangeStartOffset||null===this.rangeStartContainerAddress)throw new Error("Please call preserve() first.");var t=this.findRangeStartContainer(),o=document.createRange(),n=e||this.rangeStartOffset;o.setStart(t,n),o.collapse();var r=window.getSelection();r.removeAllRanges(),r.addRange(o)}},{key:"findRangeStartContainer",value:function(){var e=this.rootNode;return this.rangeStartContainerAddress.forEach((function(t){e=e.childNodes[t]})),e}},{key:"findRangeStartContainerAddress",value:function(e){for(var t=[],o=e.getRangeAt(0).startContainer;o!==this.rootNode;o=o.parentNode)for(var n=o.parentElement.childNodes,i=0;i<n.length;i++)if(n[i]===o){t=[i].concat(r(t));break}return t}}]),e}();t.default=i},function(t,o){t.exports=e}])}).call(this,o(1))},364:function(e,t,o){var n,r,i;r=[o(1)],void 0===(i="function"==typeof(n=function(e){e.extend(!0,e.summernote.lang,{"en-US":{file:{file:"File",btn:"File",insert:"Insert File",selectFromFiles:"Select from files",url:"File URL",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded."}},"zh-TW":{file:{file:"檔案",btn:"檔案",insert:"插入檔案",selectFromFiles:"從本機上傳",url:"檔案網址",maximumFileSize:"檔案大小上限",maximumFileSizeError:"檔案過大"}},"fr-FR":{file:{file:"Fichier",btn:"Fichier",insert:"Insérer un fichier",selectFromFiles:"Sélectionner depuis les fichiers",url:"URL du fichier",maximumFileSize:"Poids maximum du fichier",maximumFileSizeError:"Poids maximum dépassé."}},"cs-CZ":{file:{file:"Soubor",btn:"Soubor",insert:"Vložit soubor",selectFromFiles:"Vybrat ze souborů",url:"URL souboru",maximumFileSize:"Maximální velikost souboru",maximumFileSizeError:"Maximální velikost souboru překročena."}}}),e.extend(e.summernote.options,{file:{icon:'<i class="note-icon-file"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="14px" height="14px"><path d="M 16 3.59375 L 15.28125 4.28125 L 8.28125 11.28125 L 9.71875 12.71875 L 15 7.4375 L 15 24 L 17 24 L 17 7.4375 L 22.28125 12.71875 L 23.71875 11.28125 L 16.71875 4.28125 L 16 3.59375 z M 7 26 L 7 28 L 25 28 L 25 26 L 7 26 z" style="fill:none;stroke:#111111;stroke-width:3;stroke-linecap:round;"/></svg></i>'},callbacks:{onFileUpload:null,onFileUploadError:null,onFileLinkInsert:null,onFileUploadDone:null}}),e.extend(e.summernote.plugins,{file:function(t){var o=this,n=e.summernote.ui,r=(t.layoutInfo.note,t.layoutInfo.editor),i=(t.layoutInfo.editable,t.layoutInfo.toolbar,t.options),a=i.langInfo;t.memo("button.file",(function(){return n.button({contents:i.file.icon,tooltip:a.file.file,click:function(e){t.invoke("file.show")}}).render()})),this.initialize=function(){var t=i.dialogsInBody?e(document.body):r,o="";if(i.maximumFileSize){var l=Math.floor(Math.log(i.maximumFileSize)/Math.log(1024)),s=1*(i.maximumFileSize/Math.pow(1024,l)).toFixed(2)+" "+" KMGTP"[l]+"B";o="<small>"+a.file.maximumFileSize+" : "+s+"</small>"}var c=['<div class="form-group note-form-group note-group-select-from-files">','<label class="note-form-label" for="note-dialog-file-'.concat(i.id,'">')+a.file.selectFromFiles+"</label>",'<input class="note-file-input note-form-control form-control-file note-input" ',' id="note-dialog-file-'.concat(i.id,'"'),' type="file" name="files" accept="*/*">',"</div>",o,'<div class="form-group note-group-image-url" style="overflow:auto;">','<label class="note-form-label">'+a.file.url+"</label>",'<input class="note-file-url form-control note-form-control note-input ',' col-md-12" type="text">',"</div>"].join(""),d='<button href="#" class="btn btn-primary note-file-btn">'+a.file.insert+"</button>";this.$dialog=n.dialog({title:a.file.insert,body:c,footer:d}).render().appendTo(t)},this.destroy=function(){n.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(e,t){e.on("keypress",(function(e){13===e.keyCode&&t.trigger("click")}))},this.bindLabels=function(){o.$dialog.find(".form-control:first").focus().select(),o.$dialog.find("label").on("click",(function(){e(this).parent().find(".form-control:first").focus()}))},this.readFileAsDataURL=function(t){return e.Deferred((function(o){e.extend(new FileReader,{onload:function(e){var t=e.target.result;o.resolve(t)},onerror:function(e){o.reject(e)}}).readAsDataURL(t)})).promise()},this.createFile=function(t){var o;if(t.match(/^.+.(jpg|jpeg|png|gif|svg|webp)$/)||t.match(/^data:(image\/jpeg|image\/png|image\/gif|image\/svg|image\/webp).+$/))o=e("<img>").attr("src",t);else if(t.match(/^.+.(mp3|ogg|oga)$/)||t.match(/^data:(audio\/mpeg|audio\/ogg).+$/))o=e("<audio controls>").attr("src",t);else{if(!t.match(/^.+.(mp4|ogv|webm)$/)&&!t.match(/^data:(video\/mpeg|video\/mp4|video\/ogv|video\/webm).+$/))return console.log('File type not supported. Please define "onFileUpload" callback in Summernote.'),!1;o=e("<video controls>").attr("src",t)}return o.addClass("note-file-clip"),o},this.insertFile=function(e,n){var r=o.createFile(e);r||t.triggerEvent("file.upload.error"),t.invoke("editor.beforeCommand"),"string"==typeof n&&r.attr("data-filename",n),r.show(),t.invoke("editor.insertNode",r[0]),t.invoke("editor.afterCommand")},this.insertFilesAsDataURL=function(n){e.each(n,(function(e,n){var r=n.name;i.maximumFileSize&&i.maximumFileSize<n.size?t.triggerEvent("file.upload.error",a.file.maximumFileSizeError):o.readFileAsDataURL(n).then((function(e){return o.insertFile(e,r)})).fail((function(){t.triggerEvent("file.upload.error")}))}))},this.show=function(e){t.invoke("editor.saveRange"),this.showFileDialog().then((function(e){n.hideDialog(o.$dialog),t.invoke("editor.restoreRange"),"string"==typeof e?i.callbacks.onFileLinkInsert?t.triggerEvent("file.link.insert",e):o.insertFile(e):i.callbacks.onFileUpload?t.triggerEvent("file.upload",e):o.insertFilesAsDataURL(e)})).fail((function(){t.invoke("editor.restoreRange")})).done((function(){i.callbacks.onFileUploadDone&&i.callbacks.onFileUploadDone()}))},this.showFileDialog=function(){return e.Deferred((function(e){var r=o.$dialog.find(".note-file-input"),i=o.$dialog.find(".note-file-url"),a=o.$dialog.find(".note-file-btn");n.onDialogShown(o.$dialog,(function(){t.triggerEvent("dialog.shown"),r.replaceWith(r.clone().on("change",(function(t){e.resolve(t.target.files||t.target.value)})).val("")),a.click((function(t){t.preventDefault(),e.resolve(i.val())})),i.on("keyup paste",(function(){var e=i.val();n.toggleBtn(a,e)})).val(""),o.bindEnterKey(i,a),o.bindLabels()})),n.onDialogHidden(o.$dialog,(function(){r.off("change"),i.off("keyup paste keypress"),a.off("click"),"pending"===e.state()&&e.reject()})),n.showDialog(o.$dialog)}))}}})})?n.apply(t,r):n)||(e.exports=i)},365:function(e,t,o){var n,r,i;r=[o(1)],void 0===(i="function"==typeof(n=function(e){e.extend(!0,e.summernote.lang,{"zh-TW":{template:{template:"模版",insert:"插入模版"}},"en-US":{template:{template:"Template",insert:"Insert Template"}}}),e.extend(e.summernote.options,{template:{}}),e.extend(e.summernote.plugins,{template:function(t){var o=e.summernote.ui,n=t.options.langInfo.template,r=t.options.template,i={label:n.template,tooltip:n.insert,list:{}};for(var a in i)!1===r.hasOwnProperty(a)&&(r[a]=i[a]);t.memo("button.template",(function(){return o.buttonGroup([o.button({className:"dropdown-toggle",contents:'<span class="template"/> '+r.label+' <span class="caret"></span>',tooltip:r.tooltip,data:{toggle:"dropdown"}}),o.dropdown({className:"dropdown-template",items:Object.keys(r.list),click:function(o){o.preventDefault();var n=e(o.target).data("value"),i=r.list[n].get(0);t.invoke("editor.insertNode",i)}})]).render()}))}})})?n.apply(t,r):n)||(e.exports=i)},366:function(e,t,o){var n,r,i;r=[o(1)],void 0===(i="function"==typeof(n=function(e){e.extend(!0,e.summernote.lang,{"en-US":{print:{print:"Print"}},"ko-KR":{print:{print:"인쇄"}},"pt-BR":{print:{print:"Imprimir"}},"zh-TW":{print:{print:"列印"}}}),e.extend(e.summernote.plugins,{print:function(t){var o=e.summernote.ui,n=t.layoutInfo.editor,r=t.options,i=r.langInfo,a=function(e,t){e.contents().find("body").html(t),setTimeout((function(){e[0].contentWindow.focus(),e[0].contentWindow.print(),e.remove(),e=null}),250)};t.memo("button.print",(function(){return o.button({contents:'<i class="note-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-printer" viewBox="0 0 16 16">\n            <path d="M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1z"/>\n            <path d="M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2H5zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4V3zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2H5zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1z"/>\n            </svg></i>',tooltip:i.print.print,container:r.container,click:function(){var o,i=function(t){var o=e('<iframe name="summernotePrintFrame"width="0" height="0" frameborder="0" src="about:blank" style="visibility:hidden"></iframe>');o.appendTo(n.parent());var i=o.contents().find("head");if(r.print&&r.print.stylesheetUrl){var a=document.createElement("link");a.href=r.print.stylesheetUrl,a.rel="stylesheet",a.type="text/css",i.append(a)}else e("style, link[rel=stylesheet]",document).each((function(){i.append(e(this).clone())}));return i.append('<style>@media all{body .page-break{position:relative;display:block;width:100%;height:1px;background-color:#ddd;margin:15px 0;}body .page-break:after{content:"Page-Break";position:absolute;width:100%;height:20px;top:-10px;color:#ddd;-webkit-text-shadow:0 0 5px #fff,0 0 5px #fff,0 0 5px #fff,0 0 5px #fff;-moz-text-shadow:0 0 5px #fff,0 0 5px #fff,0 0 5px #fff,0 0 5px #fff;text-shadow:0 0 5px #fff,0 0 5px #fff,0 0 5px #fff,0 0 5px #fff;text-align:center;}}@media print{body .page-break{display:block;page-break-before:always;}body .page-break:after{visibility:hidden}}</style>'),o}(),l=t.invoke("code");o=navigator.userAgent,!/Edge\/\d+/.test(o)&&/firefox/i.test(o)?i[0].onload=function(){a(i,l)}:a(i,l)}}).render()}))}})})?n.apply(t,r):n)||(e.exports=i)},367:function(e,t,o){var n,r,i;r=[o(1)],void 0===(i="function"==typeof(n=function(e){e.extend(!0,e.summernote.lang,{"en-US":{findnreplace:{tooltip:"Find 'N Replace",findBtn:"Find ",findPlaceholder:"Enter the text you want to find...",findResult:" results found for ",findError:"Nothing entered to find...",replaceBtn:"Replace",replacePlaceholder:"Enter the text to replace the text above or selected...",replaceResult:", replaced by ",replaceError:"Nothing entered to replace...",noneSelected:"Nothing selected to replace..."}},"zh-TW":{findnreplace:{tooltip:"搜尋與取代",findBtn:"搜尋",findPlaceholder:"搜尋...",findResult:" 個結果 ",findError:"查無結果",replaceBtn:"取代",replacePlaceholder:"取代...",replaceResult:", 取代成 ",replaceError:"查無結果",noneSelected:"查無結果"}}}),e.extend(e.summernote.options,{findnreplace:{classHidden:"note-display-none",icon:'<i class="note-icon" data-toggle="findnreplace"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" width="12" height="12"><path d="m 5.8,2.3764705 c 0.941176,0 1.811765,0.376471 2.423529,1.011765 l -1.741176,1.741176 4.117647,0 0,-4.117647 -1.411765,1.411765 C 8.317647,1.5529415 7.117647,1.0117645 5.8,1.0117645 c -2.423529,0 -4.423529,1.788236 -4.752941,4.117647 l 1.388235,0 C 2.741176,3.5529415 4.129412,2.3764705 5.8,2.3764705 Z m 3.8588235,6.282353 c 0.4470585,-0.611764 0.7764705,-1.341176 0.8705885,-2.164706 l -1.388236,0 c -0.305882,1.552942 -1.694117,2.752942 -3.364705,2.752942 -0.941177,0 -1.811765,-0.376471 -2.42353,-1.011765 L 5.094118,6.4941175 1,6.4941175 1,10.611765 2.411765,9.2000005 C 3.282353,10.070589 4.482353,10.611765 5.8,10.611765 c 1.058824,0 2.047059,-0.352942 2.847059,-0.9411765 L 11.988235,12.988236 13,11.97647 9.6588235,8.6588235 Z"/></svg></i>'}}),e.extend(e.summernote.plugins,{findnreplace:function(t){var o=e.summernote.ui,n=t.layoutInfo.note,r=t.layoutInfo.editor,i=t.layoutInfo.toolbar,a=t.layoutInfo.statusbar,l=t.options,s=l.langInfo;0==e("#summernote-findnreplace-style").length&&(this.css=e("\n        <style>\n          .findnreplaceToolbar {\n            padding: 5px;\n            background-color: var(--note-toolbar-background-color) !important;\n            border-bottom: var(--note-toolbar-border-width) var(--note-toolbar-border-style) var(--note-toolbar-border-color);\n          }\n          .findnreplaceToolbar .note-form-group {\n            padding: 0;\n          }\n          .note-display-none {\n            display: none !important; }\n          \n          .note-display-block {\n            display: block !important; }\n          \n          span.note-findnreplace {\n            background-color: #ff0; }\n        </style>"),this.css.attr("id","summernote-findnreplace-style"),this.css.appendTo("head")),t.memo("button.findnreplace",(function(){return o.button({contents:l.findnreplace.icon,container:l.container,tooltip:s.findnreplace.tooltip,placement:l.placement,click:function(e){if(e.preventDefault(),r.find(".note-findnreplace").contents().unwrap("span"),i.find(".findnreplaceToolbar").toggleClass(l.findnreplace.classHidden),a.find(".note-status-output").text(""),n.summernote("createRange").toString()){var t=n.summernote("createRange").toString();i.find(".note-findnreplace-find").val(t)}}}).render()})),this.initialize=function(){this.fnrBody=e('<div class="findnreplaceToolbar note-display-none"><div class="note-form-group"><input type="text" class="note-findnreplace-find note-input" value="" placeholder="'+s.findnreplace.findPlaceholder+'"><button class="note-findnreplace-find-btn btn btn-default note-btn" style="width:100px;">'+s.findnreplace.findBtn+'</button></div><div class="note-form-group"><input type="text" class="note-findnreplace-replace note-input" value="" placeholder="'+s.findnreplace.replacePlaceholder+'"><button class="note-findnreplace-replace-btn btn btn-default note-btn" style="width:100px;">'+s.findnreplace.replaceBtn+"</button></div></div>"),i.append(this.fnrBody),this.show()},this.findnreplace=function(){var e=i.find(".note-findnreplace-find-btn"),o=i.find(".note-findnreplace-replace-btn");e.click((function(e){e.preventDefault(),r.find(".note-findnreplace").contents().unwrap("span");var o=t.invoke("code"),l=i.find(".note-findnreplace-find").val(),c=(i.find(".note-findnreplace-replace").val(),(o.match(new RegExp(l+"(?![^<>]*>)","gi"))||[]).length);if(l){a.find(".note-status-output").text(c+s.findnreplace.findResult+"`"+l+"`");var d=o.replace(new RegExp(l+"(?![^<>]*>)","gi"),(function(e){return'<span class="note-findnreplace">'+e+"</span>"}));n.summernote("code",d)}else a.find(".note-status-output").html(s.findnreplace.findError)})),o.click((function(e){e.preventDefault(),r.find(".note-findnreplace").contents().unwrap("span");var o=t.invoke("code"),l=i.find(".note-findnreplace-find").val(),c=i.find(".note-findnreplace-replace").val(),d=(o.match(new RegExp(l,"gi"))||[]).length;if(l){a.find(".note-status-output").text(d+s.findnreplace.findResult+"`"+l+"`"+s.findnreplace.replaceResult+"`"+c+"`");var u=o.replace(new RegExp(l+"(?![^<>]*>)","gi"),c);n.summernote("code",u)}else c?n.summernote("createRange").toString()?(n.summernote("insertText",c),a.find(".note-status-output").text("")):a.find(".note-status-output").html(s.findnreplace.noneSelected):a.find(".note-status-output").html(s.findnreplace.replaceError)}))},this.show=function(){this.findnreplace()},this.destroy=function(){this.css&&e(this.css).remove(),this.fnrBody.remove()}}})})?n.apply(t,r):n)||(e.exports=i)},368:function(e,t,o){var n,r,i;function a(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function s(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function c(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?s(Object(o),!0).forEach((function(t){d(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function d(e,t,o){return(t=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r=[o(1)],void 0===(i="function"==typeof(n=function(e){var t=function e(t,o,n,r){var i={colPos:0,rowPos:0},a=[],l=[],s=[];function c(e,t,o,n,r,i,l){var s={baseRow:o,baseCell:n,isRowSpan:r,isColSpan:i,isVirtual:l};a[e]||(a[e]=[]),a[e][t]=s}function d(e,t,o,n){return{baseCell:e.baseCell,action:t,virtualTable:{rowIndex:o,cellIndex:n}}}function u(e,t,o){if(!e[t])return o;if(!e[t][o])return o;for(var n=o;e[t][n];)if(n++,!e[t][n])return n}function p(e,t){var o=u(a,e.rowIndex,t.cellIndex),n=t.colSpan>1,r=t.rowSpan>1,l=e.rowIndex===i.rowPos&&t.cellIndex===i.colPos;c(e.rowIndex,o,e,t,r,n,!1);var s=t.attributes.rowSpan?parseInt(t.attributes.rowSpan.value,10):0;if(s>1)for(var d=1;d<s;d++){var p=e.rowIndex+d;f(p,o,t,l),c(p,o,e,t,!0,n,!0)}var m=t.attributes.colSpan?parseInt(t.attributes.colSpan.value,10):0;if(m>1)for(var g=1;g<m;g++){var b=u(a,e.rowIndex,o+g);f(e.rowIndex,b,t,l),c(e.rowIndex,b,e,t,r,!0,!0)}}function f(e,t,o,n){e===i.rowPos&&i.colPos>=o.cellIndex&&o.cellIndex<=t&&!n&&i.colPos++}function m(t){switch(o){case e.where.Column:if(t.isColSpan)return e.resultAction.SubtractSpanCount;break;case e.where.Row:if(!t.isVirtual&&t.isRowSpan)return e.resultAction.AddCell;if(t.isRowSpan)return e.resultAction.SubtractSpanCount}return e.resultAction.RemoveCell}function g(t){switch(o){case e.where.Column:if(t.isColSpan)return e.resultAction.SumSpanCount;if(t.isRowSpan&&t.isVirtual)return e.resultAction.Ignore;break;case e.where.Row:if(t.isRowSpan)return e.resultAction.SumSpanCount;if(t.isColSpan&&t.isVirtual)return e.resultAction.Ignore}return e.resultAction.AddCell}function b(e,t,o,n,r,i,a){var l={baseRow:o,baseCell:n,isRowSpan:r,isColSpan:i,isVirtual:a};s[e]||(s[e]=[]),s[e][t]=l}function h(e,t){var o=e.rowIndex,n=u(s,e.rowIndex,t.cellIndex),r=t.rowSpan>1,i=t.colSpan>1;b(o,n,e,t,r,i,!1);var a=t.rowSpan,l=t.colSpan;if(i)for(var c=1;c<l;c++)b(o,n+c,e,t,r,i,!0);if(r)for(var d=1;d<a;d++)if(b(o+d,n,e,t,r,i,!0),i)for(var p=1;p<l;p++)b(o+d,n+p,e,t,r,i,!0)}this.getActionList=function(){for(var t=o===e.where.Row?i.rowPos:-1,r=o===e.where.Column?i.colPos:-1,s=0,c=!0;c;){var u=t>=0?t:s,p=r>=0?r:s,f=a[u];if(!f)return c=!1,l;var b=f[p];if(!b)return c=!1,l;var h=e.resultAction.Ignore;switch(n){case e.requestAction.Add:h=g(b);break;case e.requestAction.Delete:h=m(b)}l.push(d(b,h,u,p)),s++}return l},this.getVirtualTable=function(){return a},this.getMatrixTable=function(){return s},this.getColCount=function(){for(var e=0,t=0;t<s.length;t++){var o=s[t];e<=o.length&&(e=o.length)}return e},t&&t.tagName&&("td"===t.tagName.toLowerCase()||"th"===t.tagName.toLowerCase())&&(i.colPos=t.cellIndex,t.parentElement&&t.parentElement.tagName&&"tr"===t.parentElement.tagName.toLowerCase()&&(i.rowPos=t.parentElement.rowIndex)),function(){for(var e=r.rows,t=0;t<e.length;t++)for(var o=e[t].cells,n=0;n<o.length;n++)p(e[t],o[n])}(),function(){for(var e=r.rows,t=0;t<e.length;t++)for(var o=e[t].cells,n=0;n<o.length;n++)h(e[t],o[n])}()};t.where={Row:0,Column:1},t.requestAction={Add:0,Delete:1},t.resultAction={Ignore:0,SubtractSpanCount:1,RemoveCell:2,AddCell:3,SumSpanCount:4},e.extend(!0,e.summernote.options,{jTable:{mergeMode:"drag"}}),e.extend(!0,e.summernote.lang,{"zh-TW":{jTable:{borderColor:"外框顏色",merge:{merge:"合併儲存格",colspan:"欄",rowspan:"列",split:"取消合併儲存格"},align:{top:"靠上對齊",middle:"置中對齊",bottom:"靠下對齊",baseline:"baseline"},info:{info:"table info",margin:"邊界"},autofit:{autofit:"自動調整",contents:"自動調整成內容大小",window:"自動調整成視窗大小",fixed:"固定欄寬"},resize:{rowHeight:"列高 (px)",colWidth:"欄寬 (px)"},apply:"套用",addDeleteRowCOl:"欄/列(插入/刪除)",areaReset:"清除格式",message:"<b>取消合併儲存格才可使用</br>"}},"en-US":{jTable:{borderColor:"Border color",merge:{merge:"cell merge",colspan:"colspan",rowspan:"rowspan",split:"cell split"},align:{top:"top",middle:"middle",bottom:"bottom",baseline:"baseline"},info:{info:"table info",margin:"margin"},autofit:{autofit:"autofit",contents:"autofit contents",window:"autofit window",fixed:"fixed column"},resize:{rowHeight:"row height (px)",colWidth:"col width (px)"},apply:"apply",addDeleteRowCOl:"Row/Col(Add/Del)",areaReset:"area Reset",message:"<b>Available after unmerge<br/>current or surrounding cells</br>"}},"ko-KR":{jTable:{borderColor:"선색",merge:{merge:"셀 합치기",colspan:"가로",rowspan:"세로",split:"셀 나누기"},align:{top:"위쪽 정렬",middle:"가운데 정렬",bottom:"아래쪽 정렬",baseline:"기본 정렬"},info:{info:"테이블 정보",margin:"여백"},apply:"적용",addDeleteRowCOl:"행/열(추가/삭제)",areaReset:"넓이/높이 초기화",message:"<b>현재 또는 주위 셀<br/>병합 해제 후 사용 가능</b>"}}}),e.extend(!0,e.summernote,{plugins:{jTable:function(o){var n,r,i=this,l=e.summernote.dom,s=e.summernote.ui,u=o.modules,p=o.options,f=(o.layoutInfo.editable,o.layoutInfo.toolbar),m=p.langInfo,g=navigator.userAgent,b=/MSIE|Trident/i.test(g),h=/Edge\/\d+/.test(g),v=(!h&&/firefox/i.test(g),!h&&/firefox/i.test(g),/PhantomJS/i.test(g),!h&&/webkit/i.test(g),!h&&/chrome/i.test(g),!h&&/safari/i.test(g)&&/chrome/i.test(g),{pressed:!1,rightFlag:!1,bottomFlag:!1,currentTableEl:void 0,currentTrEl:void 0,firstTdEl:void 0,colEl:void 0,currentTdEl:void 0,currentTdLeft:void 0,currentTdRight:void 0,currentTdTop:void 0,currentTdBottom:void 0,startX:void 0,startWidth:void 0,startY:void 0,startHeight:void 0,contenteditable:!1}),y={pressed:!1,currentTableEl:void 0,currentTdEl:void 0,currentTdLeft:void 0,currentTdRight:void 0,currentTdTop:void 0,currentTdBottom:void 0,currentTdPosition:{row:void 0,col:void 0},width:void 0,height:void 0,top:void 0,left:void 0,effect:{row:{start:void 0,end:void 0},col:{start:void 0,end:void 0}}},w=[s.button({className:"btn-md",contents:s.icon(p.icons.rowAbove),tooltip:m.table.addRowAbove,container:p.container,click:o.createInvokeHandler("jTable.jAddRow","top")}),s.button({className:"btn-md",contents:s.icon(p.icons.rowBelow),tooltip:m.table.addRowBelow,container:p.container,click:o.createInvokeHandler("jTable.jAddRow","bottom")}),s.button({className:"btn-md",contents:s.icon(p.icons.colBefore),tooltip:m.table.addColLeft,container:p.container,click:o.createInvokeHandler("jTable.jAddCol","left")}),s.button({className:"btn-md",contents:s.icon(p.icons.colAfter),tooltip:m.table.addColRight,container:p.container,click:o.createInvokeHandler("jTable.jAddCol","right")})],x=[s.button({className:"btn-md",contents:s.icon(p.icons.rowRemove),tooltip:m.table.delRow,container:p.container,click:o.createInvokeHandler("jTable.jDeleteRow")}),s.button({className:"btn-md",contents:s.icon(p.icons.colRemove),tooltip:m.table.delCol,container:p.container,click:o.createInvokeHandler("jTable.jDeleteCol")})];i.recoverPopover=function(t){var o=e(t.target).closest("button"),n=o.closest(".dropdown-toggle"),r=u.editor.getLastRange.call(u.editor),i=l.ancestor(r.ec,l.isCell);if(o.closest(".popover").length){var a=o.closest(".popover").css("left"),s=o.closest(".popover").css("top"),c=o.outerHeight();setTimeout((function(){u.tablePopover.update(i);var e=o.closest(".popover"),t=n.next(".dropdown-menu");e.css({left:a,top:s}),t.css({transform:"translate3d(0px, ".concat(c,"px, 0px)")})}),0)}},o.memo("button.jAddDeleteRowCol",(function(){return s.buttonGroup({className:"jtable-add-del-row-col jtable-display",children:[s.button({className:"dropdown-toggle",contents:s.dropdownButtonContents(s.icon(p.icons.rowAbove),p),tooltip:m.jTable.addDeleteRowCOl,container:p.container,data:{toggle:"dropdown"},click:function(o){var n=e(this).closest(".jtable-add-del-row-col"),r=n.find(".btn-md"),a=!1,s=u.editor.getLastRange.call(u.editor);if(s.isCollapsed()&&s.isOnCell()){var c=l.ancestor(s.commonAncestor(),l.isCell);if(!(a=c.rowSpan>1||c.colSpan>1)){for(var d=e(c).closest("table"),p=e(c).closest("tr")[0].rowIndex,f=new t(c,void 0,void 0,d[0]).getMatrixTable(),m=f[p],g=0,b=0;b<m.length;b++)(v=m[b]).isVirtual||c!=v.baseCell||(g=b),(v.baseCell.colSpan>1||v.baseCell.rowSpan>1)&&(a=!0);for(var h=0;h<f.length;h++){var v;((v=f[h][g]).baseCell.colSpan>1||v.baseCell.rowSpan>1)&&(a=!0)}}}r.toggleClass("disabled",a),r.attr("disabled",a);var y=n.find(".jtable-add-row-col-button-group, .jtable-del-row-col-button-group"),w=n.find(".jtable-dropdown-message"),x=n.find(".jtable-add-del-row-col-dropdown");a?(y.hide(),w.show()):(y.show(),w.hide(),x.css("width","")),i.recoverPopover(o)}}),s.dropdown({className:"jtable-add-del-row-col-dropdown",children:[s.button({className:"jtable-dropdown-message",contents:m.jTable.message,container:p.container}),s.buttonGroup({className:"jtable-add-row-col-button-group",children:w}),s.buttonGroup({className:"jtable-del-row-col-button-group",children:x})]})]}).render()})),i.jAddRow=function(e){var t=u.editor.getLastRange.call(u.editor);if(t.isCollapsed()&&t.isOnCell()){i.beforeCommand();var o=l.ancestor(t.commonAncestor(),l.isCell);i.addRow(o,e),i.afterCommand()}},i.addRow=function(o,n){for(var r=e(o).closest("tr"),a=i.recoverAttributes(r),s=e("<tr"+a+"></tr>"),c=new t(o,t.where.Row,t.requestAction.Add,e(r).closest("table")[0]).getActionList(),d=0;d<c.length;d++){var u=c[d],p=i.recoverAttributes(u.baseCell);switch(u.action){case t.resultAction.AddCell:s.append("<td"+p+">"+l.blank+"</td>");break;case t.resultAction.SumSpanCount:if("top"===n&&(u.baseCell.parent?u.baseCell.closest("tr").rowIndex:0)<=r[0].rowIndex){var f=e("<div></div>").append(e("<td"+p+">"+l.blank+"</td>").removeAttr("rowspan")).html();s.append(f);break}var m=parseInt(u.baseCell.rowSpan,10);m++,u.baseCell.setAttribute("rowSpan",m)}}if("top"===n)r.before(s);else{if(o.rowSpan>1){var g=r[0].rowIndex+(o.rowSpan-2);return void e(e(r).parent().find("tr")[g]).after(e(s))}r.after(s)}},i.jAddCol=function(e){var t=u.editor.getLastRange.call(u.editor);if(t.isCollapsed()&&t.isOnCell()){i.beforeCommand();var o=l.ancestor(t.commonAncestor(),l.isCell);i.addCol(o,e),i.afterCommand()}},i.addCol=function(o,n){for(var r=e(o).closest("tr"),a=e(r).closest("table").find("colgroup").children("col"),s=r.children().index(e(o)),c=new t(o,t.where.Column,t.requestAction.Add,e(r).closest("table")[0]).getActionList(),d=0;d<c.length;d++){var u=c[d],p=i.recoverAttributes(u.baseCell);switch(u.action){case t.resultAction.AddCell:"right"===n?e(u.baseCell).after("<td"+p+">"+l.blank+"</td>"):e(u.baseCell).before("<td"+p+">"+l.blank+"</td>");break;case t.resultAction.SumSpanCount:var f=parseInt(u.baseCell.colSpan,10);f++,u.baseCell.setAttribute("colSpan",f)}}if(a.length){for(var m=0;m<a.length;m++){var g=a[m],b=g.span;for(g.span=1;b>1;)e(g).after(e(g).prop("outerHTML")),b-=1}var h=a[s],v=i.recoverAttributes(h),y=e("<col"+v+"/>");y.width(100),"right"===n?e(h).after(y[0]):e(h).before(y[0])}},i.jDeleteRow=function(){var o=u.editor.getLastRange.call(u.editor);if(o.isCollapsed()&&o.isOnCell()){i.beforeCommand();for(var n=l.ancestor(o.commonAncestor(),l.isCell),r=e(n).closest("tr"),a=r.children("td, th").index(e(n)),s=r[0].rowIndex,c=new t(n,t.where.Row,t.requestAction.Delete,e(r).closest("table")[0]).getActionList(),d=0;d<c.length;d++)if(c[d]){var p=c[d].baseCell,f=c[d].virtualTable,m=p.rowSpan&&p.rowSpan>1,g=m?parseInt(p.rowSpan,10):0;switch(c[d].action){case t.resultAction.Ignore:continue;case t.resultAction.AddCell:var b=r.next("tr")[0];if(!b)continue;var h=r[0].cells[a];m&&(g>2?(g--,b.insertBefore(h,b.cells[a]),b.cells[a].setAttribute("rowSpan",g),b.cells[a].innerHTML=""):2===g&&(b.insertBefore(h,b.cells[a]),b.cells[a].removeAttribute("rowSpan"),b.cells[a].innerHTML=""));continue;case t.resultAction.SubtractSpanCount:m&&(g>2?(g--,p.setAttribute("rowSpan",g),f.rowIndex!==s&&p.cellIndex===a&&(p.innerHTML="")):2===g&&(p.removeAttribute("rowSpan"),f.rowIndex!==s&&p.cellIndex===a&&(p.innerHTML="")));continue;case t.resultAction.RemoveCell:continue}}r.remove(),i.afterCommand()}},i.jDeleteCol=function(){var o=u.editor.getLastRange.call(u.editor);if(o.isCollapsed()&&o.isOnCell()){i.beforeCommand();for(var n=l.ancestor(o.commonAncestor(),l.isCell),r=e(n).closest("tr"),a=r.children("td, th").index(e(n)),s=e(r).closest("table").find("colgroup").children("col"),c=r.children().index(e(n)),d=new t(n,t.where.Column,t.requestAction.Delete,e(r).closest("table")[0]).getActionList(),p=0;p<d.length;p++)if(d[p])switch(d[p].action){case t.resultAction.Ignore:continue;case t.resultAction.SubtractSpanCount:var f=d[p].baseCell;if(f.colSpan&&f.colSpan>1){var m=f.colSpan?parseInt(f.colSpan,10):0;m>2?(m--,f.setAttribute("colSpan",m),f.cellIndex===a&&(f.innerHTML="")):2===m&&(f.removeAttribute("colSpan"),f.cellIndex===a&&(f.innerHTML=""))}continue;case t.resultAction.RemoveCell:l.remove(d[p].baseCell,!0);continue}if(s.length){var g=s[c];e(g).remove()}i.afterCommand()}},i.recoverAttributes=function(e){var t="";if(!e)return t;for(var o=e.attributes||[],n=0;n<o.length;n++)"id"!==o[n].name.toLowerCase()&&("span"===o[n].name.toLowerCase()&&"col"==e.tagName.toLowerCase()||o[n].specified&&(t+=" "+o[n].name+"='"+o[n].value+"'"));return t},i.beforeCommand=function(){u.editor.beforeCommand.call(u.editor)},i.afterCommand=function(){u.editor.afterCommand.call(u.editor)},o.memo("button.jTable",(function(){return s.buttonGroup([s.button({className:"dropdown-toggle",contents:s.dropdownButtonContents(s.icon(p.icons.table),p),tooltip:m.table.table,container:p.container,data:{toggle:"dropdown"},click:function(e){i.recoverPopover(e)}}),s.dropdown({title:m.table.table,className:"note-table",items:['<div class="note-dimension-picker">','<div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"></div>','<div class="note-dimension-picker-highlighted"></div>','<div class="note-dimension-picker-unhighlighted"></div>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(e){e.find(".note-dimension-picker-mousecatcher").css({width:p.insertTableMaxSize.col+"em",height:p.insertTableMaxSize.row+"em"}).mousedown(o.createInvokeHandler("jTable.insertTable")).on("mousemove",u.buttons.tableMoveHandler.bind(o))}}).render()})),i.insertTable=function(e){i.beforeCommand();var t=e.split("x"),o=u.editor.getLastRange().deleteContents(),n=i.createTable(t[0],t[1],p);o.insertNode(n),i.afterCommand()},i.createTable=function(t,o,n){for(var r,i,a=[],s=[],c=0;c<t;c++)s.push("<td>"+l.blank+"</td>"),a.push('<col style="width: 100px;"/>');r="<colgroup>"+a.join("")+"</colgroup>",i=s.join("");for(var d,u=[],p=0;p<o;p++)u.push("<tr>"+i+"</tr>");d=u.join("");var f=e('<table class="jtable-expanded" style="width: auto !important;">'+r+d+"</table>");return n&&n.tableClassName&&f.addClass(n.tableClassName),f[0]},o.memo("button.jBorderColor",(function(){return i.colorPalette("note-color-table-border",m.jTable.borderColor,i.jBorderColor)})),i.jBorderColor=function(t){i.beforeCommand();var o=y.currentTdEl;if(!o)return i.afterCommand();e(o).closest("table").find("td, th").css("border","1px solid "+t),i.afterCommand()},o.memo("button.jBackcolor",(function(){return i.colorPalette("note-color-back",m.color.background,i.color)})),i.color=function(o){i.beforeCommand();var n=y.currentTdEl;if(!n)return i.afterCommand();for(var r=e(n).closest("table"),a=new t(n,void 0,void 0,r[0]).getMatrixTable(),l=y.effect.row,s=y.effect.col,c=l.start;c<=l.end;c++)for(var d=s.start;d<=s.end;d++){var u=a[c][d];e(u.baseCell).css("background-color",o)}i.afterCommand()},i.colorPalette=function(t,o,n){return s.buttonGroup({className:"note-color jtable-display "+t,children:[s.button({className:"note-current-color-button note-table-color",contents:s.icon(p.icons.font+" note-recent-color"),tooltip:o,container:p.container,click:function(t){var o=e(t.currentTarget).attr("data-backColor");n(o)},callback:function(e){var o=e.find(".note-recent-color");o.css("background-color","note-color-table-border"==t?"#000000":p.colorButton.backColor),e.attr("data-backColor","note-color-table-border"==t?"#000000":p.colorButton.backColor),o.css("color","transparent")}}),s.button({className:"dropdown-toggle",contents:s.dropdownButtonContents("",p),tooltip:m.color.more,container:p.container,data:{toggle:"dropdown"},click:function(e){i.recoverPopover(e)}}),s.dropdown({items:['<div class="note-palette">','<div class="note-palette-title">'+o+"</div>","<div>",'<button type="button" class="note-color-reset btn btn-light" data-event="backColor" data-value="inherit">',m.color.transparent,"</button>","</div>",'<div class="note-holder" data-event="backColor"/>',"<div>"].join(""),callback:function(t){t.find(".note-holder").each((function(t,o){var n=e(o);n.append(s.palette(d({colors:p.colors,colorsName:p.colorsName,eventName:n.data("event"),container:p.container,tooltip:p.tooltip},"container",p.container)).render())}));var o=[["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF"]];t.find(".note-holder-custom").each((function(t,n){var r=e(n);r.append(s.palette(d({colors:o,colorsName:o,eventName:r.data("event"),container:p.container,tooltip:p.tooltip},"container",p.container)).render())})),t.find("input[type=color]").each((function(o,n){e(n).change((function(){var o=t.find("#"+e(this).data("event")).find(".note-color-btn").first(),n=this.value.toUpperCase();o.css("background-color",n).attr("aria-label",n).attr("data-value",n).attr("data-original-title",n),o.click()}))}))},click:function(t){var o=e(this).closest(".note-popover").find(".note-dropdown-menu"),r=e(t.target),i=r.data("event"),a=r.attr("data-value");if("openPalette"===i){var l=o.find("#"+a),s=e(o.find("#"+l.data("event")).find(".note-color-row")[0]),c=s.find(".note-color-btn").last().detach(),d=l.val();c.css("background-color",d).attr("aria-label",d).attr("data-value",d).attr("data-original-title",d),s.prepend(c),l.click()}else{var u="backColor"===i?"background-color":"color",p=r.closest(".note-color").find(".note-recent-color"),f=r.closest(".note-color").find(".note-current-color-button");p.css(u,a),f.attr("data-"+i,a),n(a)}}})]}).render()},i.setCellHorizontalAlign=function(o){i.beforeCommand();for(var n=y.currentTdEl,r=e(n).closest("table"),a=new t(n,void 0,void 0,r[0]).getMatrixTable(),l=y.effect.row,s=y.effect.col,c=l.start;c<=l.end;c++)for(var d=s.start;d<=s.end;d++){var u=a[c][d];e(u.baseCell).css("text-align",o)}i.afterCommand()},i.setCellVerticalAlign=function(o){i.beforeCommand();for(var n=y.currentTdEl,r=e(n).closest("table"),a=new t(n,void 0,void 0,r[0]).getMatrixTable(),l=y.effect.row,s=y.effect.col,c=l.start;c<=l.end;c++)for(var d=s.start;d<=s.end;d++){var u=a[c][d];e(u.baseCell).css("vertical-align",o)}i.afterCommand()};var k=[s.button({contents:s.icon(p.icons.alignLeft),tooltip:m.paragraph.left,container:p.container,click:o.createInvokeHandler("jTable.setCellHorizontalAlign","left")}),s.button({contents:s.icon(p.icons.alignCenter),tooltip:m.paragraph.center,container:p.container,click:o.createInvokeHandler("jTable.setCellHorizontalAlign","center")}),s.button({contents:s.icon(p.icons.alignRight),tooltip:m.paragraph.right,container:p.container,click:o.createInvokeHandler("jTable.setCellHorizontalAlign","right")}),s.button({contents:s.icon(p.icons.alignJustify),tooltip:m.paragraph.justify,container:p.container,click:o.createInvokeHandler("jTable.setCellHorizontalAlign","justify")})],C=[s.button({className:"jtable-vertical-align-btn-top",contents:s.icon(p.icons.alignJustify),tooltip:m.jTable.align.top,container:p.container,click:o.createInvokeHandler("jTable.setCellVerticalAlign","top")}),s.button({className:"jtable-vertical-align-btn-middle",contents:s.icon(p.icons.alignJustify),tooltip:m.jTable.align.middle,container:p.container,click:o.createInvokeHandler("jTable.setCellVerticalAlign","middle")}),s.button({className:"jtable-vertical-align-btn-bottom",contents:s.icon(p.icons.alignJustify),tooltip:m.jTable.align.bottom,container:p.container,click:o.createInvokeHandler("jTable.setCellVerticalAlign","bottom")}),s.button({className:"jtable-vertical-align-btn-baseline",contents:s.icon(p.icons.alignJustify),tooltip:m.jTable.align.baseline,container:p.container,click:o.createInvokeHandler("jTable.setCellVerticalAlign","baseline")})];o.memo("button.jAlign",(function(){return s.buttonGroup([s.button({className:"dropdown-toggle jtable-display",contents:s.dropdownButtonContents(s.icon(p.icons.alignLeft),p),tooltip:m.paragraph.paragraph,container:p.container,data:{toggle:"dropdown"},click:function(e){i.recoverPopover(e)}}),s.dropdown({className:"jtable-align-dropdown",children:[s.buttonGroup({className:"jtable-horizontal-align-button-group",children:k}),s.buttonGroup({className:"jtable-vertical-align-button-group",children:C})]})],{callback:function(e){}}).render()})),o.memo("button.jAutoFit",(function(){var e='<svg width="16" height="20" viewBox="0 0 20 25" xmlns="http://www.w3.org/2000/svg">\n                    <path stroke="null" d="m0.40456,23.71451l0,-15.4604l5.98412,0l1.2128,0l4.79816,0l1.21167,0l5.98412,0l0,15.4604l-19.19087,0l0,0zm13.20675,-1.18003l4.79577,0l0,-3.56933l-4.79577,0l0,3.56933zm4.79577,-4.75652l0,-3.56102l-4.79577,0l0,3.56102l4.79577,0zm-10.80559,4.75652l4.79816,0l0,-3.56933l-4.79816,0l0,3.56933zm4.79816,-4.75652l0,-3.56102l-4.79816,0l0,3.56102l4.79816,0zm-10.80406,4.75652l4.7931,0l0,-3.56933l-4.7931,0l0,3.56933zm4.7931,-4.75652l0,-3.56102l-4.7931,0l0,3.56102l4.7931,0zm-4.7931,-8.32662l0,3.57783l4.7931,0l0,-3.57783l-4.7931,0zm6.0059,0l0,3.57783l4.79816,0l0,-3.57783l-4.79816,0zm6.00982,0l0,3.57783l4.79577,0l0,-3.57783l-4.79577,0z" class="cls-1" fill="#000" fill-rule="evenodd"/>\n                    <line stroke="#000" x1="0.99834" y1="1.28549" x2="0.99834" y2="7.9574" id="svg_6"/>\n                    <line stroke="#000" x1="19.04735" y1="1.28549" x2="19.04735" y2="7.9574" id="svg_5"/>\n                    <line stroke="#000" x1="6.61898" y1="4.69242" x2="1.08942" y2="4.69242" id="svg_4"/>\n                    <line stroke="#000" x1="18.96992" y1="4.69242" x2="13.44035" y2="4.69242" id="svg_3"/>\n                    <line stroke="#007fff" x1="7.64112" y1="2.12549" x2="12.35887" y2="6.84324" id="svg_2"/>\n                    <line stroke="#007fff" x1="12.40457" y1="2.07979" x2="7.68682" y2="6.79754" id="svg_1"/>\n                </svg>',t='<svg width="16" height="20" viewBox="0 0 20 25" xmlns="http://www.w3.org/2000/svg">\n                <text stroke-width="0" font-weight="bold" xml:space="preserve" text-anchor="start" font-family="Noto Sans JP" font-size="7" id="svg_3" y="7" x="6.51394" stroke="#007fff" fill="#007fff">%</text>\n                    <path stroke="null" id="svg_4" d="m0.17556,24.29515l0,-15.82937l6.12694,0l1.24175,0l4.91267,0l1.24058,0l6.12694,0l0,15.82937l-19.64887,0l0,0zm13.52193,-1.20819l4.91022,0l0,-3.65452l-4.91022,0l0,3.65452zm4.91022,-4.87004l0,-3.64601l-4.91022,0l0,3.64601l4.91022,0zm-11.06347,4.87004l4.91267,0l0,-3.65452l-4.91267,0l0,3.65452zm4.91267,-4.87004l0,-3.64601l-4.91267,0l0,3.64601l4.91267,0zm-11.0619,4.87004l4.90749,0l0,-3.65452l-4.90749,0l0,3.65452zm4.90749,-4.87004l0,-3.64601l-4.90749,0l0,3.64601l4.90749,0zm-4.90749,-8.52534l0,3.66321l4.90749,0l0,-3.66321l-4.90749,0zm6.14923,0l0,3.66321l4.91267,0l0,-3.66321l-4.91267,0zm6.15325,0l0,3.66321l4.91022,0l0,-3.66321l-4.91022,0z" class="cls-1" fill="#000" fill-rule="evenodd"/>\n                    <line stroke="#000" x1="0.78351" y1="1.33085" x2="0.78351" y2="8.16198" id="svg_1"/>\n                    <line stroke="#000" x1="19.26327" y1="1.33085" x2="19.26327" y2="8.16198" id="svg_2"/>\n                    <line stroke="#000" x1="6.53829" y1="4.81908" x2="0.87676" y2="4.81908" id="svg_9"/>\n                    <line stroke="#000" x1="19.18399" y1="4.81909" x2="13.52246" y2="4.81909" id="svg_10"/>\n                </svg>',n='<svg width="16" height="20" viewBox="0 0 20 25" xmlns="http://www.w3.org/2000/svg">\n                    <path stroke="null" id="svg_4" d="m0.49693,23.60655l0,-15.31157l5.92652,0l1.20113,0l4.75197,0l1.2,0l5.92652,0l0,15.31157l-19.00613,0l0,0zm13.07961,-1.16867l4.7496,0l0,-3.53497l-4.7496,0l0,3.53497zm4.7496,-4.71073l0,-3.52674l-4.7496,0l0,3.52674l4.7496,0zm-10.70157,4.71073l4.75197,0l0,-3.53497l-4.75197,0l0,3.53497zm4.75197,-4.71073l0,-3.52674l-4.75197,0l0,3.52674l4.75197,0zm-10.70005,4.71073l4.74696,0l0,-3.53497l-4.74696,0l0,3.53497zm4.74696,-4.71073l0,-3.52674l-4.74696,0l0,3.52674l4.74696,0zm-4.74696,-8.24647l0,3.54339l4.74696,0l0,-3.54339l-4.74696,0zm5.94809,0l0,3.54339l4.75197,0l0,-3.54339l-4.75197,0zm5.95197,0l0,3.54339l4.7496,0l0,-3.54339l-4.7496,0z" class="cls-1" fill="#000" fill-rule="evenodd"/>\n                    <line stroke="#000" x1="0.88616" y1="1.39345" x2="0.88616" y2="8.00112" id="svg_1"/>\n                    <line stroke="#000" x1="18.76142" y1="1.39345" x2="18.76142" y2="8.00112" id="svg_2"/>\n                    <line stroke="#007fff" x1="2.92815" y1="4.38208" x2="2.92815" y2="7.32357" id="svg_14"/>\n                    <line stroke="#007fff" x1="5.19084" y1="4.38208" x2="5.19084" y2="7.32357" id="svg_15"/>\n                    <line stroke="#007fff" x1="7.45353" y1="4.38208" x2="7.45353" y2="7.32357" id="svg_16"/>\n                    <line stroke="#007fff" x1="9.71623" y1="4.38208" x2="9.71623" y2="7.32357" id="svg_17"/>\n                    <line stroke="#007fff" x1="11.97892" y1="4.38208" x2="11.97892" y2="7.32357" id="svg_22"/>\n                    <line stroke="#007fff" x1="14.24161" y1="4.38208" x2="14.24161" y2="7.32357" id="svg_23"/>\n                    <line stroke="#007fff" x1="16.5043" y1="4.38208" x2="16.5043" y2="7.32357" id="svg_27"/>\n                    <line stroke="#000" x1="18.67122" y1="7.4828" x2="1.11211" y2="7.4828" id="svg_13"/>\n                </svg>';return s.buttonGroup([s.button({className:"dropdown-toggle jtable-display",contents:'<i class="note-icon jtable-icon-autofit-contents">'.concat(e,"</i>"),tooltip:m.jTable.autofit.autofit,container:p.container,data:{toggle:"dropdown"},click:function(e){i.recoverPopover(e)}}),s.dropdown({className:"jtable-autofit-dropdown",children:[s.buttonGroup([s.button({className:"note-btn-jtable-autofit-contents",contents:'<i class="note-icon jtable-icon-autofit-contents">'.concat(e,"</i>"),tooltip:m.jTable.autofit.contents,container:p.container,click:o.createInvokeHandler("jTable.autofitContents")}),s.button({className:"note-btn-jtable-autofit-window",contents:'<i class="note-icon jtable-icon-autofit-window">'.concat(t,"</i>"),tooltip:m.jTable.autofit.window,container:p.container,click:o.createInvokeHandler("jTable.autofitWindow")}),s.button({className:"note-btn-jtable-fixed-column-width",contents:'<i class="note-icon jtable-icon-fixed-column-width">'.concat(n," </i>"),tooltip:m.jTable.autofit.fixed,container:p.container,click:o.createInvokeHandler("jTable.fixedColumnWidth")})])]})]).render()})),i.autofitContents=function(){i.beforeCommand();var t=u.editor.getLastRange.call(u.editor),o=e(l.ancestor(t.ec,l.isTable));o.css("width","auto"),o.find("colgroup col").css("width",""),F(o),i.afterCommand()},i.autofitWindow=function(){i.beforeCommand();var t=u.editor.getLastRange.call(u.editor),o=e(l.ancestor(t.ec,l.isTable));o.css("width","100%"),F(o),i.afterCommand()},i.fixedColumnWidth=function(){i.beforeCommand();var t=u.editor.getLastRange.call(u.editor),o=e(l.ancestor(t.ec,l.isTable));o.find("colgroup col").css("width",(function(){if(!this.style.width){var t=e(this).css("width");e(this).css("width",t||"100px")}})),o.css({overflowWrap:"anywhere",width:"auto"}),F(o),i.afterCommand()};var A=['<div class="form-group">','<label for="jtable-cell-merge-col'+p.id+'" class="note-form-label jtable-merge-label">'+m.jTable.merge.colspan+"</label>",'<input id="jtable-cell-merge-col'+p.id+'" class="note-input jtable-merge-input jtable-merge-col-input" type="number" name="col"/>','<span class="jtable-merge-hint-span">(min : <span class="jtable-merge-hint-col-min">1</span> / max : <span class="jtable-merge-hint-col-max">1</span>)</span>',"</div>",'<div class="form-group jtable-merge-row-info-div">','<label for="jtable-cell-merge-row'+p.id+'" class="note-form-label jtable-merge-label">'+m.jTable.merge.rowspan+"</label>",'<input id="jtable-cell-merge-row'+p.id+'" class="note-input jtable-merge-input jtable-merge-row-input" type="number" name="row"/>','<span class="jtable-merge-hint-span">(min : <span class="jtable-merge-hint-row-min">1</span> / max : <span class="jtable-merge-hint-row-max">1</span>)</span>',"</div>"].join(""),S='<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary jtable-merge-btn" value="'+m.jTable.merge.merge+'" disabled>';(n=s.dialog({title:m.jTable.merge.merge,fade:p.dialogsFade,body:A,footer:S}).render().appendTo(p.container)).find(".note-modal-content").width(340),n.find(".note-modal-body").css("padding","20px 20px 10px 20px");var T=[s.button({contents:s.icon("note-icon-table-merge"),tooltip:m.jTable.merge.merge,container:p.container,click:o.createInvokeHandler("jTable.cellMerge")}),s.button({className:"note-btn-jtable-cell-split",contents:s.icon("note-icon-table-cell-split"),tooltip:m.jTable.merge.split,container:p.container,click:o.createInvokeHandler("jTable.cellSplit")})];function j(t,o){i.beforeCommand();var n=e(t),r=o.merge.col-o.current.col,a=o.merge.row-o.current.row;n.prop("colspan",o.merge.col);for(var l=0;l<r;l++)e(o.effect.col[l]).remove();for(n.prop("rowspan",o.merge.row),l=0;l<a;l++){var s=o.effect.row[l];if(r>0)for(var c=0;c<r;c++)e(s).next().remove();e(s).remove()}var d=n.closest("table"),u=d.children("tr");for(u.length||(u=d.children("tbody").children("tr")),l=0;l<u.length;l++){var p=e(u[l]);p.find("td, th").length||p.remove()}i.afterCommand()}function I(o){for(var n=e(o),r=n.closest("table"),i=n.closest("tr"),a=parseInt(o.colSpan,10),l=parseInt(o.rowSpan,10),s=a-1,c=i[0].rowIndex,d=c+l-1,u=new t(o,void 0,void 0,r[0]),p=u.getMatrixTable(),f=(u.getColCount(),!1),m=[],g=c;g<=d;g++){for(var b=p[g],h=0;h<b.length;h++){if(f&&o!=b[h].baseCell&&!b[h].isVirtual){if(m.push(b[h].baseCell),g==c)for(var v=0;v<s;v++)e(b[h].baseCell).before(e("<td/>"));else for(v=0;v<a;v++)e(b[h].baseCell).before(e("<td/>"));break}if(o==b[h].baseCell&&(f=!0),f&&h==b.length-1){var y=b[h].baseCell;if(g==c)for(v=0;v<s;v++)e(y).after(e("<td/>"));else{var w=r.children("tr");for(w.length||(w=w.children("tbody").children("tr")),y=e(w[g]).children().last(),v=0;v<a;v++)e(y).after(e("<td/>"))}}}f=!1}n.prop("colspan",1),n.prop("rowspan",1)}function R(o){var n=e(o).closest("table"),r=e(o).closest("tr")[0].rowIndex,i=new t(o,void 0,void 0,n[0]).getMatrixTable(),a=i[r],l=0,s=!1,c=1,d=[];if(o.rowSpan>1)c=o.colSpan;else for(var u=0;u<a.length;u++){var p=a[u];s&&(d.push(p.baseCell),c++),s||o!=p.baseCell?s&&(p.baseCell.colSpan>1||p.baseCell.rowSpan>1)&&(c--,d.pop(),s=!1):(l=u,s=!0)}s=!1;var f=1,m=[];if(o.colSpan>1)f=o.rowSpan;else for(var g=0;g<i.length;g++)p=i[g][l],s&&(m.push(p.baseCell),f++),s||o!=p.baseCell?s&&(p.baseCell.colSpan>1||p.baseCell.rowSpan>1)&&(f--,m.pop(),s=!1):s=!0;return{trIndex:r,tdIndex:l,current:{col:o.colSpan,row:o.rowSpan},max:{col:c,row:f},effect:{col:d,row:m}}}o.memo("button.jMerge",(function(){return s.buttonGroup({className:"jtable-display",children:[s.button({className:"dropdown-toggle jtable-cell-split-dropdown-toggle",contents:s.dropdownButtonContents(s.icon("note-icon-table-merge"),p),tooltip:m.jTable.merge.merge,container:p.container,data:{toggle:"dropdown"},click:function(t){var o=e(this).parent().find(".note-btn-jtable-cell-split"),n=!1,r=u.editor.getLastRange.call(u.editor);if(r.isCollapsed()&&r.isOnCell()){var a=l.ancestor(r.commonAncestor(),l.isCell);n=a.rowSpan>1||a.colSpan>1}o.toggleClass("disabled",!n),o.attr("disabled",!n),i.recoverPopover(t)}}),s.dropdown({className:"jtable-cell-split-dropdown",children:[s.buttonGroup({className:"jtable-cell-split-button-group",children:T})]})]}).render()})),i.cellMerge=function(){"drag"==p.jTable.mergeMode?i.dragCellMerge():i.mergeDialogShow()},i.dragCellMerge=function(){var o=y.currentTdEl,n=e(o),r=n.closest("table"),i=new t(o,void 0,void 0,r[0]).getMatrixTable(),a=y.effect.row,l=y.effect.col;if(a.start==a.end&&l.start==l.end)return F(n),!0;for(var s=a.start;s<=a.end;s++)for(var c=l.start;c<=l.end;c++)I(i[s][c].baseCell);var d=R(o),u={trIndex:d.trIndex,colIndex:d.colIndex,current:{col:d.current.col,row:d.current.row},merge:{col:parseInt(l.end-l.start+1,10),row:parseInt(a.end-a.start+1,10)},effect:{col:d.effect.col,row:d.effect.row}};j(i[a.start][l.start].baseCell,u),F(n)},i.mergeDialogShow=function(){var t=u.editor.getLastRange.call(u.editor);if(t.isCollapsed()&&t.isOnCell()){var r=R(l.ancestor(t.commonAncestor(),l.isCell));u.tablePopover.hide(),o.invoke("editor.saveRange"),function(t){return e.Deferred((function(e){var r=n.find(".jtable-merge-input"),i=n.find(".jtable-merge-col-input"),a=n.find(".jtable-merge-hint-col-min"),l=n.find(".jtable-merge-hint-col-max"),c=n.find(".jtable-merge-row-input"),d=n.find(".jtable-merge-hint-row-min"),u=n.find(".jtable-merge-hint-row-max"),p=n.find(".jtable-merge-btn");i.val(t.current.col),a.text(t.current.col),l.text(t.max.col),c.val(t.current.row),d.text(t.current.row),u.text(t.max.row),s.onDialogShown(n,(function(){o.triggerEvent("dialog.shown"),r.on("input paste propertychange",(function(){var e=!1,o=parseInt(i.val(),10),n=parseInt(c.val(),10);o==t.current.col&&n==t.current.row?e=!1:o>=t.current.col&&o<=t.max.col&&n>=t.current.row&&n<=t.max.row&&(e=!0),s.toggleBtn(p,e)})),p.click((function(o){o.preventDefault(),e.resolve({trIndex:t.trIndex,colIndex:t.colIndex,current:{col:t.current.col,row:t.current.row},merge:{col:parseInt(i.val(),10),row:parseInt(c.val(),10)},effect:{col:t.effect.col,row:t.effect.row}})}))})),s.onDialogHidden(n,(function(){r.off(),p.off(),s.toggleBtn(p,!1),"pending"===e.state()&&e.reject()})),s.showDialog(n)}))}(r).then((function(e){s.hideDialog(n),o.invoke("editor.restoreRange"),j(l.ancestor(t.commonAncestor(),l.isCell),e)})).fail((function(){o.invoke("editor.restoreRange")}))}},i.cellSplit=function(){var e=u.editor.getLastRange.call(u.editor);e.isCollapsed()&&e.isOnCell()&&(i.beforeCommand(),I(l.ancestor(e.commonAncestor(),l.isCell)),i.afterCommand())};var z=['<div class="form-group form-group-jtable-table-info-margin">','<div class="jtable-table-info-margin-top-bottom"><input type="number" value="0" class="jtable-table-info-margin-input jtable-table-info-margin-input-top"><span>px</span></div>','<div class="jtable-table-info-margin-middle">','<div class="jtable-table-info-margin-left"><input type="number" value="0" class="jtable-table-info-margin-input jtable-table-info-margin-input-left"><span>px</span></div>','<div class="jtable-table-info-margin-center"><b>Table</b><br><span class="jtable-table-info-width">0</span> X <span class="jtable-table-info-height">0</span></div>','<div class="jtable-table-info-margin-right"><input type="number" value="0" class="jtable-table-info-margin-input jtable-table-info-margin-input-right"><span>px</span></div>',"</div>",'<div class="jtable-table-info-margin-top-bottom"><input type="number" value="0" class="jtable-table-info-margin-input jtable-table-info-margin-input-bottom"><span>px</span></div>',"</div>"].join(""),E='<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary jtable-apply-btn" value="'+m.jTable.apply+'" >';function P(e,t,o){switch(e){case"width":t.width(o);break;case"height":t.children().height(o)}}function L(e,t){e.closest(".note-editing-area").css("cursor","auto"),e.closest(".note-editable").prop("contenteditable",t)}function O(){v={pressed:!1,rightFlag:!1,bottomFlag:!1,currentTableEl:void 0,firstTdEl:void 0,colEl:void 0,currentTdEl:void 0,currentTdLeft:void 0,currentTdRight:void 0,currentTdTop:void 0,currentTdBottom:void 0,startX:void 0,startWidth:void 0,startY:void 0,startHeight:void 0,contenteditable:!1}}function F(e){y={pressed:!1,currentTableEl:void 0,currentTdEl:void 0,currentTdLeft:void 0,currentTdRight:void 0,currentTdTop:void 0,currentTdBottom:void 0,currentTdPosition:{row:void 0,col:void 0},width:void 0,height:void 0,top:void 0,left:void 0,effect:{row:{start:void 0,end:void 0},col:{start:void 0,end:void 0}}},e.closest(".note-editing-area").find(".jtable-block").hide()}function D(e,o){for(var n=new t(e,void 0,void 0,o).getMatrixTable(),r=0;r<n.length;r++)for(var i=n[r],a=0;a<i.length;a++)if(n[r][a].baseCell==e)return{row:r,col:a}}(r=s.dialog({title:m.table.table+" "+m.jTable.info.margin,fade:p.dialogsFade,body:z,footer:E}).render().appendTo(p.container)).find(".note-modal-body").css("padding","20px 20px 10px 20px"),o.memo("button.jTableInfo",(function(){return s.button({className:"jtable-display",contents:s.icon("note-icon-table-margin"),tooltip:m.table.table+" "+m.jTable.info.margin,container:p.container,click:o.createInvokeHandler("jTable.tableInfoDialogShow")}).render()})),i.tableInfoDialogShow=function(){var t=u.editor.getLastRange.call(u.editor);if(t.isCollapsed()&&t.isOnCell()){var i=l.ancestor(t.commonAncestor(),l.isCell),a=e(i).closest("table");u.tablePopover.hide(),function(t){return e.Deferred((function(e){var i=r.find(".jtable-apply-btn"),a=r.find(".jtable-table-info-margin-input"),l=r.find(".jtable-table-info-margin-input-top"),c=r.find(".jtable-table-info-margin-input-left"),d=r.find(".jtable-table-info-margin-input-right"),u=r.find(".jtable-table-info-margin-input-bottom"),p=r.find(".jtable-table-info-width"),f=r.find(".jtable-table-info-height");l.val(parseInt(t.css("margin-top"),10)),c.val(parseInt(t.css("margin-left"),10)),d.val(parseInt(t.css("margin-right"),10)),u.val(parseInt(t.css("margin-bottom"),10)),p.text(t.width()),f.text(t.height()),s.onDialogShown(r,(function(){o.triggerEvent("dialog.shown"),a.on("input paste propertychange",(function(){var e=!0,t=parseInt(l.val(),10),o=parseInt(c.val(),10),n=parseInt(d.val(),10),r=parseInt(u.val(),10);(t<0||o<0||n<0||r<0)&&(e=!1),s.toggleBtn(i,e)})),i.click((function(t){o.invoke("beforeCommand"),t.preventDefault(),e.resolve([parseInt(l.val(),10)+"px",parseInt(d.val(),10)+"px",parseInt(u.val(),10)+"px",parseInt(c.val(),10)+"px"]),o.invoke("afterCommand")}))})),s.onDialogHidden(n,(function(){a.off(),i.off(),s.toggleBtn(i,!1),"pending"===e.state()&&e.reject()})),s.showDialog(r)}))}(a).then((function(e){s.hideDialog(r),o.invoke("editor.restoreRange"),a.css("margin",e.join(" "))})).fail((function(){o.invoke("editor.restoreRange")}))}},o.memo("button.jWidthHeightReset",(function(){return s.button({className:"jtable-display",contents:s.icon("note-icon-table-width-height-reset"),tooltip:m.table.table+" "+m.jTable.areaReset,container:p.container,click:o.createInvokeHandler("jTable.jWidthHeightReset")}).render()})),i.jWidthHeightReset=function(){var o=u.editor.getLastRange.call(u.editor);if(o.isCollapsed()&&o.isOnCell()){i.beforeCommand();var n=l.ancestor(o.commonAncestor(),l.isCell),r=e(n).closest("table");r.removeAttr("width"),r.removeAttr("height"),r.css("width","auto"),r.css("height","");var a=r.find("tr, td, th");a.removeAttr("width"),a.removeAttr("height"),a.css("width",""),a.css("height","");var s=new t(n,void 0,void 0,r[0]).getColCount();r.find("colgroup:first").remove();for(var c=e("<colgroup/>"),d=0;d<s;d++)c.append('<col style="width: 100px;"/>');r.prepend(c),i.afterCommand()}},o.memo("button.jRowHeight",(function(){var t=e("<div>").addClass(["input-group","input-group-sm","jtable-row-height-input-group","jtable-display"]),n=e("<div>").addClass("input-group-prepend"),r=e("<span>").addClass("input-group-text").append(e("<i>").addClass("jtable-icon-row-height").html('<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">\n                    <path transform="rotate(-90 5.31113 14.2238)" stroke-width="0" d="m5.48908,11q0.2111,0 0.37246,0.15312l0.31041,0.31041q0.15712,0.1572 0.15712,0.37653q0,0.22349 -0.15712,0.37246l-1.21252,1.21676l2.91344,0q0.21517,0 0.34959,0.15512q0.13457,0.1552 0.13457,0.37453l0,0.52974q0,0.21933 -0.13457,0.37453q-0.13441,0.1552 -0.34959,0.1552l-2.91344,0l1.21252,1.21668q0.15712,0.14897 0.15712,0.37246t-0.15712,0.37246l-0.31041,0.31041q-0.15728,0.1572 -0.37246,0.1572q-0.21925,0 -0.37661,-0.1572l-2.69403,-2.69411q-0.1532,-0.14489 -0.1532,-0.37246q0,-0.22349 0.1532,-0.37661l2.69403,-2.69411q0.16144,-0.15312 0.37661,-0.15312z" id="svg_5" stroke="#007fff" fill="#007fff"/>\n                    <path transform="rotate(90 5.31113 6.2238)" stroke-width="0" d="m5.48908,3q0.21109,0 0.37245,0.15312l0.31041,0.31041q0.15712,0.1572 0.15712,0.37653q0,0.22349 -0.15712,0.37246l-1.21252,1.21675l2.91344,0q0.21517,0 0.34959,0.15513q0.13457,0.1552 0.13457,0.37453l0,0.52974q0,0.21933 -0.13457,0.37453q-0.13442,0.15521 -0.34959,0.15521l-2.91344,0l1.21252,1.21667q0.15712,0.14897 0.15712,0.37246t-0.15712,0.37246l-0.31041,0.3104q-0.15728,0.1572 -0.37245,0.1572q-0.21925,0 -0.37661,-0.1572l-2.69403,-2.6941q-0.1532,-0.14489 -0.1532,-0.37246q0,-0.22349 0.1532,-0.37661l2.69403,-2.69411q0.16144,-0.15312 0.37661,-0.15312z" id="svg_3" stroke="#007fff" fill="#007fff"/>\n                    <rect x="13" y="3" width="4" height="14" id="svg_19" fill="#000000" fill-opacity="0" stroke="#000000"/>\n                    <rect x="8.5" y="17" width="3" height="0.1" id="svg_20" stroke="#000000"/>\n                    <rect x="8.5" y="3" width="3" height="0.1" id="svg_21" stroke="#000000"/>\n                </svg>'));n.append(r),t.append(n);var i=e('<input min="27" type=number />').addClass("jtable-row-height-input").css({width:"3em","line-height":"1em","text-align":"center",border:"1px solid #ced4da","border-radius":"0 0.2rem 0.2rem 0","font-size":"13px"});return i.on("focus",(function(e){o.invoke("editor.saveRange")})),i.on("blur",(function(e){o.invoke("editor.restoreRange")})),i.on("keydown",(function(t){if(13===t.keyCode){o.invoke("beforeCommand"),t.preventDefault();var n=e(t.target);o.invoke("jTable.setCellsWidthHeight","height",n.val()),o.invoke("afterCommand")}else 27===t.keyCode&&(o.invoke("beforeCommand"),t.preventDefault(),o.invoke("jTable.updateCellsWidthHeight"),o.invoke("afterCommand"))})),t.append(i),t.attr({title:m.jTable.resize.rowHeight,"aria-label":m.jTable.resize.rowHeight}).tooltip({container:p.container,trigger:"hover",placement:"bottom"}).on("click",(function(t){e(t.currentTarget).tooltip("hide")})),t})),o.memo("button.jColWidth",(function(){var t=e("<div>").addClass(["input-group","input-group-sm","jtable-col-width-input-group","jtable-display"]),n=e("<div>").addClass("input-group-prepend"),r=e("<span>").addClass("input-group-text").append(e("<i>").addClass("jtable-icon-col-width").html('<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">\n                    <path transform="rotate(-180 14.0889 14.2325)" fill="#007fff" stroke="#007fff" id="svg_5" d="m14.26689,11.00874q0.2111,0 0.37246,0.15312l0.31041,0.31041q0.15712,0.1572 0.15712,0.37653q0,0.22349 -0.15712,0.37246l-1.21252,1.21676l2.91344,0q0.21517,0 0.34959,0.15512q0.13457,0.1552 0.13457,0.37453l0,0.52974q0,0.21933 -0.13457,0.37453q-0.13441,0.1552 -0.34959,0.1552l-2.91344,0l1.21252,1.21668q0.15712,0.14897 0.15712,0.37246t-0.15712,0.37246l-0.31041,0.31041q-0.15728,0.1572 -0.37246,0.1572q-0.21925,0 -0.37661,-0.1572l-2.69403,-2.69411q-0.1532,-0.14489 -0.1532,-0.37246q0,-0.22349 0.1532,-0.37661l2.69403,-2.69411q0.16144,-0.15312 0.37661,-0.15312z" stroke-width="0"/>\n                    <path fill="#007fff" stroke="#007fff" id="svg_3" d="m6.26691,11.00873q0.21109,0 0.37245,0.15312l0.31041,0.31041q0.15712,0.1572 0.15712,0.37653q0,0.22349 -0.15712,0.37246l-1.21252,1.21675l2.91344,0q0.21517,0 0.34959,0.15513q0.13457,0.1552 0.13457,0.37453l0,0.52974q0,0.21933 -0.13457,0.37453q-0.13442,0.15521 -0.34959,0.15521l-2.91344,0l1.21252,1.21667q0.15712,0.14897 0.15712,0.37246t-0.15712,0.37246l-0.31041,0.3104q-0.15728,0.1572 -0.37245,0.1572q-0.21925,0 -0.37661,-0.1572l-2.69403,-2.6941q-0.1532,-0.14489 -0.1532,-0.37246q0,-0.22349 0.1532,-0.37661l2.69403,-2.69411q0.16144,-0.15312 0.37661,-0.15312z" stroke-width="0"/>\n                    <rect transform="rotate(-90 9.86516 4.54366)" stroke="#000000" fill-opacity="0" fill="#000000" id="svg_19" height="14" width="4" y="-2.45634" x="7.86516"/>\n                    <rect transform="rotate(-90 16.9152 9.54366)" stroke="#000000" id="svg_20" height="0.1" width="3" y="9.49367" x="15.41515"/>\n                    <rect transform="rotate(-90 2.91516 9.54366)" stroke="#000000" id="svg_21" height="0.1" width="3" y="9.49366" x="1.41516"/>\n                </svg>'));n.append(r),t.append(n);var i=e('<input min="27" type=number />').addClass("jtable-col-width-input").css({width:"3em","line-height":"1em","text-align":"center",border:"1px solid #ced4da","border-radius":"0 0.2rem 0.2rem 0","font-size":"13px"});return i.on("focus",(function(e){o.invoke("editor.saveRange")})),i.on("blur",(function(e){o.invoke("editor.restoreRange")})),i.on("keydown",(function(t){if(13===t.keyCode){o.invoke("beforeCommand"),t.preventDefault();var n=e(t.target);o.invoke("jTable.setCellsWidthHeight","width",n.val()),o.invoke("afterCommand")}else 27===t.keyCode&&(o.invoke("beforeCommand"),t.preventDefault(),o.invoke("jTable.updateCellsWidthHeight"),o.invoke("afterCommand"))})),t.append(i),t.attr({title:m.jTable.resize.colWidth,"aria-label":m.jTable.resize.colWidth}).tooltip({container:p.container,trigger:"hover",placement:"bottom"}).on("click",(function(t){e(t.currentTarget).tooltip("hide")})),t})),i.setCellsWidthHeight=function(o,n){var r=y.currentTdEl,i=e(r).closest("table"),a=new t(r,void 0,void 0,i[0]).getMatrixTable(),l=y.effect.row,s=y.effect.col;switch(o){case"width":for(var c=s.start;c<=s.end;c++)e(i.find("colgroup:first col")[c]).css("width",n);break;case"height":for(var d=l.start;d<=l.end;d++){var u=a[d][s.start];e(u.baseCell).closest("tr").find("td").css("height",n)}}F(i)},i.updateCellsWidthHeight=function(){var o=u.editor.getLastRange.call(u.editor),n=y.effect.row,r=y.effect.col,i=y.currentTdEl||l.ancestor(o.commonAncestor(),l.isCell);if(i){for(var a=f.find(".jtable-row-height-input"),s=f.find(".jtable-col-width-input"),c=e(i),d=c.closest("table"),p=new t(i,void 0,void 0,d[0]).getMatrixTable(),m=!1,g=c.css("height"),b=n.start;b<=n.end;b++){var h=p[b][r.start];e(h.baseCell).css("height")!==g&&(m=!0)}for(var v=!1,w=e(d.find("colgroup:first col")[r.start]).css("width"),x=r.start;x<=r.end;x++)e(d.find("colgroup:first col")[x]).css("width")!==w&&(v=!0);if(m)a.val("");else{var k=g?parseInt(g.replace(/\D/g,""),10):"";a.val(k)}if(v)s.val("");else{var C=w?parseInt(w.replace(/\D/g,""),10):"";s.val(C)}}},i.expandColgroup=function(e){for(var t="",o=e.closest("table"),n=0;n<e.length;n++){var r=e[n],i=r.span;r.removeAttribute("width");for(var a=r.offsetWidth,l=r.offsetHeight,s='style="width:'.concat(a,"px; height:").concat(l,'px"');i>0;)t=t.concat("<col ".concat(s," />")),i-=1}e.closest("colgroup").html(t),o.removeAttr("width"),o.css("width",""),o.css("table-layout","fixed")},i.events={"summernote.keyup summernote.mouseup summernote.change":function(){o.invoke("jTable.updateCellsWidthHeight")},"summernote.init":function(n,r){r.editingArea.append('<div class="jtable-block"><div/>'),r.toolbar.find(".jtable-display").hide(),r.editingArea.on("keydown",(function(o){if((o.metaKey||o.ctrlKey)&&"c"===String.fromCharCode(o.which).toLowerCase()){var n=e(o.target);if("block"==n.closest(".note-editing-area").find(".jtable-block").css("display")){var r=y.currentTableEl,i=y.effect,a=new t(this,void 0,void 0,r).getVirtualTable(),l=document.createElement("table");l.className=r.className,e(l).toggleClass("jtable-expanded",!1);for(var s=document.createElement("colgroup"),c=e(r).find("colgroup col"),d=0;d<a[0].length;d++){var u=a[0][d],p=document.createElement("col"),f=c[d].style.width?c[d].style.width:u.baseCell.style.width;p.style.width=f,s.appendChild(p)}l.appendChild(s);for(var m=i.row.start;m<=i.row.end;m++){for(var g=a[m],b=document.createElement("tr"),h=i.col.start,v=0;h<=i.col.end;h++,v++){var w=g[h];w.isVirtual||(b.style.width=s.childNodes[v].style.width,e(b).append(w.baseCell.outerHTML))}l.appendChild(b)}n.closest(".note-editor").after(l),e.summernote.range.createFromNode(l).select(),document.execCommand("copy"),e(l).remove()}}})),r.editingArea.on("paste",".note-editable",(function(o){var n=e(o.target).closest(".note-editable");setTimeout((function(){for(var o=n.find("table").not(".jtable-expanded"),r=0;r<o.length;r++){var a=e(o[r]);if(a.children("colgroup").children("col").length)s=a.children("colgroup").children("col"),i.expandColgroup(s),a.toggleClass("jtable-expanded",!0);else{for(var l=new t(this,void 0,void 0,o[r]).getVirtualTable(),s=document.createElement("colgroup"),c=0;c<l[0].length;c++){var d=l[0][c],u=document.createElement("col"),p=d.baseCell.style.width;if(d.baseCell.colSpan>1){var f=p.match(/([0-9]*)([a-z]*$)/);p=f[1]/d.baseCell.colSpan+f[2]}u.style.width=p,s.appendChild(u)}a.prepend(s)}}}),1)})),r.editingArea.on("paste",".note-editable",(function(o){setTimeout((function(){var n=e(o.target).closest(".note-editable"),r=n.closest(".note-editing-area").find(".jtable-block");if(!y.currentTableEl||!r[0]||"none"==r[0].style.display)return!0;var a=n.find("table.jtable-paste");if(a.length||(a=e(o.target).find("table")),!a.length)return!0;a.remove();var l=a.find("tr, td, th"),s=new t(l,void 0,void 0,a[0]).getMatrixTable(),c=s.length,d=s[0].length,u=y.currentTableEl,p=y.currentTdEl,f=y.effect.row,m=y.effect.col,g=f.end-f.start+1,b=m.end-m.start+1,h=0;if((h=c==g&&d==b?1:d>b||c>g?2:0)>0){if(2==h){for(var v=b;v<d;v++)i.addCol(p,"right");b=d;for(var w=g;w<c;w++)i.addRow(p,"bottom");g=c}for(var x=new t(p,void 0,void 0,u).getMatrixTable(),k=0;k<g;k++)for(var C=x[k+f.start],A=s[k].filter((function(e){return!e.isVirtual})),S=0;S<b;S++)(F=C[S+m.start])&&A[S]&&(F.baseCell.innerText=A[S].baseCell.innerText)}else{for(var T=[],j=0,I=0;I<s.length;I++)for(var R=s[I],z=0;z<R.length;z++){var E=R[z];T.push(E)}for(var P=0;P<g;P++)for(var L=u.rows[P+f.start],O=0;O<b;O++,j++){var F=L.cells[O+m.start];if(!T[j])break;F.innerText=T[j].baseCell.innerText}}r.hide()}),1)})),r.editingArea.on("click",(function(t){var o=e(t.target).closest(".note-editor").find(".note-toolbar .jtable-display");"none"==e(t.target).closest(".note-editable").next(".jtable-block").css("display")&&o.hide()})),r.editingArea.on("click",".note-editable table",(function(t){var o=e(t.target).closest("td");o.length||(o=e(t.target).closest("th")),o.length&&u.tablePopover.update(o[0]),e(t.target).closest(".note-editor").find(".note-toolbar .jtable-display").show(),t.stopPropagation()})),r.editingArea.on("mouseleave",".note-editable tr",(function(t){if(y.pressed)return!0;if(v.pressed)return!0;var o=e(this),n=o.closest(".note-editing-area").css("cursor");"row-resize"!=n&&"col-resize"!=n||o.closest(".note-editing-area").css("cursor","auto")})),r.editingArea.on("mousemove",".note-editable td,th",(function(t){if(y.pressed)return!0;if(v.pressed)return!0;var o=e(this),n=(o.closest("table"),o.closest("tr")),r=o.offset().left+o.outerWidth(),i=n.offset().top+o.outerHeight(),a=!1;r-5<=t.pageX&&(a=!0);var l,s=!1;i-5<=t.pageY&&(s=!0),l=a?"col-resize":s?"row-resize":"auto",o.closest(".note-editing-area").css("cursor",l)})),r.editingArea.on("mousedown","td",(function(t){if(y.pressed)return!0;var o=e(this);if(F(o),v.pressed)return!0;var n=o.closest("table"),r=o.offset().top,i=o.offset().left,a=i+o.outerWidth(),l=r+o.outerHeight(),s=D(this,n[0]);y={pressed:!0,currentTableEl:n[0],currentTdEl:this,currentTdLeft:i,currentTdRight:a,currentTdTop:r,currentTdBottom:l,currentTdPosition:{row:s.row,col:s.col},width:a,height:l,top:r,left:i,effect:{row:{start:s.row,end:s.row},col:{start:s.col,end:s.col}}},t.stopPropagation()})),r.editingArea.on("mouseup","td",(function(t){var o=e(this);if(!y.pressed)return!0;var n=o.closest("table"),r=D(this,n[0]),i=y.currentTdPosition.row<r.row||y.currentTdPosition.col<r.col,a=i?y.currentTdTop:o.offset().top,l=i?y.currentTdLeft:o.offset().left,s=o.outerWidth(),d=o.outerHeight(),p=i?y.currentTdRight:l+s,f=i?y.currentTdBottom:a+d;y=c(c({},y),{},{pressed:!1,currentTableEl:i?y.currentTableEl:n[0],currentTdEl:i?y.currentTdEl:this,currentTdLeft:l,currentTdRight:p,currentTdTop:a,currentTdBottom:f,currentTdPosition:{row:r.row,col:r.col},width:p,height:f,top:a,left:l});var m=e(t.target).closest("td");m.length||(m=e(t.target).closest("th")),m.length&&u.tablePopover.update(m[0])})),r.editingArea.on("mousemove",".note-editable",(function(t){if(!y.pressed)return!0;u.tablePopover.hide();var o=e(t.target).closest("td");o.length||(o=e(t.target).closest("th"));var n=o.closest(".note-editing-area").find(".jtable-block");if(o.length){var r=o.closest("table"),i=o.offset().top,a=o.offset().left,l=a+o.outerWidth(),s=i+o.outerHeight(),c=D(o[0],r[0]),d=y.effect.col,p=y.effect.row;y.currentTdLeft>=a?(y.left=a,y.width=y.currentTdRight-a,d.end=y.currentTdPosition.col,d.start=c.col):(y.width=l-y.left,d.end=c.col),y.currentTdTop>=i?(y.top=i,y.height=y.currentTdBottom-i,p.end=y.currentTdPosition.row,p.start=c.row):(y.height=s-y.top,p.end=c.row),n.show(),n.offset({left:y.left,top:y.top}),n.css({width:y.width,height:y.height})}})),r.editingArea.on("mousedown",".note-editable",(function(t){e(t.target).closest(".note-editable").next(".jtable-block").hide()})),r.editingArea.on("mousemove mousedown touchstart",".note-editable",(function(e){if(!y.pressed)return!0})),r.editingArea.on("mouseup",".note-editable",(function(t){if(b){var o=e("table.unselectable");o.toggleClass("unselectable",!1),o.attr("unselectable","off")}if(!y.pressed)return!0;y.pressed=!1}));var l=null;function s(){var o=e(this).closest(".note-editor").find("table"),n=new t(void 0,void 0,void 0,o[0]).getVirtualTable().map((function(e,t){return e.map((function(e){return l[t].reduce((function(t,o){return o.baseCell===e.baseCell||t}),!1)}))})),r=a(n),i=o.children("tbody"),s=(r.reduce((function(e,t,o){var r=-1,l=-1,s=!1;if(t.forEach((function(e,t){-1===r&&!1===e&&(r=t),r>-1&&!1===e&&r+1===t&&(s=!0,l=t),l>-1&&!1===e&&l+1===t&&(l=t)})),s){if(n=n.reduce((function(e,t,i){if(i===o){var s=n[o].filter((function(e,t){return!(t>=r&&t<=l)}));return[].concat(a(e),[s])}return[].concat(a(e),[t])}),[]),!i[0])return;i[0].childNodes[o].childNodes[r].remove(),i[0].childNodes[o].childNodes[r].colSpan=i[0].childNodes[o].childNodes[r].colSpan+1}return[].concat(a(e),[{tdIdxStart:r,tdIdxEnd:l,hasError:s}])}),[]),n.reduce((function(e,t,o){return t.length>=e.length&&t.reduce((function(e,t){return!t||e}),!1)?{trIdx:o,length:t.length}:e}),{trIdx:-1,length:0})),c=o.children("colgroup").children("col"),d=0;if(n[s.trIdx]){var u=n[s.trIdx].reduce((function(e,t){if(!t)return e+'<col style="width: 100px;" />';var o=e+c[d].outerHTML;return d++,o}),"");c.closest("colgroup").html(u),F(o)}}function d(){var o=e(this).closest(".note-editor").find("table"),n=new t(void 0,void 0,void 0,o[0]).getVirtualTable(),r=l.map((function(e,t){return e.map((function(e){return n[t].reduce((function(t,o){return o.baseCell===e.baseCell||t}),!1)}))})),i=r.reduce((function(e,t,o){return t.length>=e.length&&t.reduce((function(e,t){return!t||e}),!1)?{trIdx:o,length:t.length}:e}),{trIdx:-1,length:0}),a=o.children("colgroup").children("col");if(r[i.trIdx]){var s=r[i.trIdx].reduce((function(e,t,o){return t?e+a[o].outerHTML:e}),"");a.closest("colgroup").html(s),F(o)}}r.editor.on("click",'[aria-label="Add column left"]',s),r.editor.on("click",'[aria-label="左方插入欄"]',s),r.editor.on("click",'[aria-label="Add column right"]',s),r.editor.on("click",'[aria-label="右方插入欄"]',s),r.editor.on("click",'[aria-label="Delete column"]',d),r.editor.on("click",'[aria-label="刪除欄"]',d),r.editingArea.on("mousedown","td",(function(o){var n=e(this),r=n.closest("table"),a=new t(this,void 0,void 0,r[0]).getVirtualTable();l=a;var s=n.closest("tr"),c=n.offset().left,d=c+n.outerWidth(),p=s.offset().top,f=p+n.outerHeight(),m=!1;d-5<=o.pageX&&(m=!0);var g=!1;f-5<=o.pageY&&(g=!0);var h,y=n.closest(".note-editable").prop("contenteditable");if(!m&&!g)return L(n,y),void O();u.tablePopover.hide(),h=m?"col-resize":"row-resize",n.closest(".note-editing-area").css("cursor",h),n.closest(".note-editable").removeAttr("contenteditable");var w=r.children("colgroup").children("col");i.expandColgroup(w);for(var x=r.find("td"),k=0;k<x.length;k++){var C=x[k];C.width&&(C.width=""),C.style.width&&(C.style.width="")}for(var A=s[0].rowIndex,S=this.colSpan>1,T=a[A],j=0;j<T.length&&this!=T[j].baseCell;j++);S&&(j+=this.colSpan-1);var I=a[0][j].baseCell,R=r.find("colgroup:first col")[j],z=n.width();R&&(z=e(R).width()),v={pressed:!0,rightFlag:m,bottomFlag:g,currentTableEl:r[0],currentTrEl:s[0],firstTdEl:I,colEl:R,currentTdEl:this,currentTdLeft:c,currentTdRight:d,currentTdTop:p,currentTdBottom:f,startX:o.pageX,startWidth:z,startY:o.pageY,startHeight:n.height(),contenteditable:y},b&&(r.toggleClass("unselectable",!0),r.attr("unselectable","on")),F(n),o.stopPropagation()})),r.editingArea.on("mousemove",".note-editable",(function(t){if(!v.pressed)return!0;var o=e(this),n=v.currentTdLeft,r=v.currentTdTop;if(v.rightFlag){if(!(n+1<=t.pageX))return L(o,v.contenteditable),O(),!0;var i=v.firstTdEl;v.colEl&&(i=v.colEl);var a=v.startWidth+(t.pageX-v.startX);P("width",e(i),a)}else if(v.bottomFlag){if(!(r+1<=t.pageY))return L(o,v.contenteditable),O(),!0;i=v.currentTrEl;var l=v.startHeight+(t.pageY-v.startY);P("height",e(i),l)}})),r.editingArea.on("mousemove mousedown touchstart",".note-editable",(function(e){if(!v.pressed)return!0;e.preventDefault()})),r.editingArea.on("mouseup",".note-editable",(function(t){var n=e("table.unselectable");if(n.toggleClass("unselectable",!1),n.attr("unselectable","off"),!v.pressed)return!0;o.invoke("beforeCommand"),L(e(this),v.contenteditable),O(),o.invoke("afterCommand")}))}},i.initialize=function(){0==e("#input-spin-buton").length&&(this.$css=e("<style>").html("input::-webkit-outer-spin-button,input::-webkit-inner-spin-button {-webkit-appearance: none;margin: 0;} input[type=number] {-moz-appearance: textfield;}"),this.$css.attr("id","input-spin-buton"),e(document.head).append(this.$css))},i.destroy=function(){s.hideDialog(n),n.remove(),s.hideDialog(r),r.remove()}}}})})?n.apply(t,r):n)||(e.exports=i)},369:function(e,t,o){var n=o(370);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};o(66)(n,r);n.locals&&(e.exports=n.locals)},370:function(e,t,o){var n=o(65),r=o(134),i=o(371),a=o(372),l=o(373),s=o(374);t=n(!1);var c=r(i),d=r(i,{hash:"?#iefix"}),u=r(a),p=r(l),f=r(s);t.push([e.i,'@font-face {\n    font-family: "summernoteexttable";\n    font-style: normal;\n    font-weight: 400;\n    font-display: auto;\n    src: url('+c+");\n    src: url("+d+') format("embedded-opentype"), url('+u+') format("woff2"), url('+p+') format("woff"), url('+f+') format("truetype")\n}\n\n.note-icon-table-merge:before {\n    font-family: summernoteexttable;\n    content: "\\ea91"\n}\n\n.note-icon-table-cell-split:before {\n    font-family: summernoteexttable;\n    content: "\\ea94"\n}\n\n.note-icon-table-margin:before {\n    font-family: summernoteexttable;\n    content: "\\ea95"\n}\n\n.note-icon-table-width-height-reset:before {\n    content: "\\ea28"\n}\n\n.jtable-cell-split-dropdown-toggle {\n    /* width: 20px; */\n    padding-left: 5px;\n}\n\n.jtable-cell-split-dropdown {\n    /* width: 36px; */\n    min-width: auto !important;\n    padding: 5px;\n}\n\n.jtable-cell-split-button-group {\n    margin: 0px !important;\n}\n\n.jtable-add-del-row-col-dropdown {\n    width: 145px;\n    min-width: auto !important;\n    padding: 5px;\n}\n\n.jtable-add-row-col-button-group {\n    margin: 0px !important;\n}\n\n.jtable-del-row-col-button-group {\n    margin: 3px 0px 0px 0px !important;\n}\n\n.jtable-align-dropdown {\n    min-width: auto !important;\n    padding: 5px;\n}\n\n.jtable-horizontal-align-button-group {\n    margin: 0px !important;\n}\n\n.jtable-vertical-align-button-group {\n    margin: 3px 0px 0px 0px !important;\n}\n\n.jtable-vertical-align-btn-top {\n    padding-top: 1px !important;\n    padding-bottom: 9px !important;\n}\n\n.jtable-vertical-align-btn-middle {\n}\n\n.jtable-vertical-align-btn-bottom {\n    padding-top: 9px !important;\n    padding-bottom: 1px !important;\n}\n.jtable-vertical-align-btn-baseline {\n    padding-top: 1px !important;\n    padding-bottom: 9px !important;\n}\n\n.jtable-merge-label {\n    float: left;\n    padding-left: 0px;\n    width: 60px;\n}\n\n.jtable-merge-input {\n    width: 100px;\n    display: inline-block;\n}\n\n.jtable-merge-hint-span {\n    font-size: 13px;\n    padding-left: 5px;\n}\n\n.jtable-merge-row-info-div {\n    padding-top: 10px;\n}\n\n.jtable-merge-btn {\n    /*background: #5a5a5a;*/\n}\n\n.vl {\n    display: none;\n    position: absolute;\n    border-left: 3px dashed #bcbcbc;\n    cursor: col-resize;\n    z-index: 1;\n}\n\n.hl {\n    display: none;\n    position: absolute;\n    border-top: 3px dashed #bcbcbc;\n    cursor: row-resize;\n    z-index: 1;\n}\n\n.jtable-block {\n    display: none;\n    position: absolute;\n    border: 1px dashed #bcbcbc;\n    box-sizing: border-box;\n    background-color: rgba(167, 163, 255, 0.5);\n    z-index: 1;\n    pointer-events: none;\n}\n\n\n\n.form-group-jtable-table-info-margin {\n    border: 1px dashed #888;\n    padding: 15px 0px;\n}\n\n.jtable-table-info-margin-top-bottom {\n    text-align: center;\n}\n\n.jtable-table-info-margin-input {\n    width: 40px;\n    margin-right: 3px;\n}\n\n.jtable-table-info-margin-middle {\n    display: flex;\n    text-align: center;\n    height: 109px;\n    margin: 15px 0 15px 0;\n}\n\n.jtable-table-info-margin-left {\n    width: 20%;\n    padding-top: 45px;\n}\n\n.jtable-table-info-margin-center {\n    width: 60%;\n    text-align: center;\n    padding-top: 30px;\n    border: 2px solid #000000;\n}\n\n.jtable-table-info-margin-right {\n    width: 20%;\n    padding-top: 45px;\n}\n\n.unselectable {\n    -moz-user-select: -moz-none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n \n    /*\n      Introduced in IE 10.\n      See http://ie.microsoft.com/testdrive/HTML5/msUserSelect/\n    */\n    -ms-user-select: none;\n    user-select: none;\n}\n\n.jtable {\n    width: auto;\n    margin-bottom: 1rem;\n    color: #212529;\n    border: 1px solid #dee2e6;\n}\n\n.jtable td, .jtable th {\n    border: 1px solid #dee2e6;\n}\n\n.jtable-autofit-dropdown {\n    min-width: auto !important;\n    padding: 5px;\n}',""]),e.exports=t},371:function(e,t,o){e.exports=o.p+"02574bad7d20c3cd09a76329c39cea71.eot"},372:function(e,t,o){e.exports=o.p+"9fbc6dd827f265717322bb1bcb4bc6b9.woff2"},373:function(e,t,o){e.exports=o.p+"2adc3336b1f0f264f0196b023b162551.woff"},374:function(e,t,o){e.exports=o.p+"fbeb5e0f04ab769ee7dbcac2f48ff5f1.ttf"},51:function(e,t,o){"use strict";(function(e){var n=o(8),r=o.n(n),i=o(12),a=o.n(i),l=o(68),s=o(52),c=o(137),d=o.n(c);function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function m(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?f(Object(o),!0).forEach((function(t){x(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):f(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function g(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,k(n.key),n)}}function b(e,t){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=w(e);if(t){var r=w(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return v(this,o)}}function v(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,o){return(t=k(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function k(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!==p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}var C=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(c,t);var o,n,i,a=h(c);function c(t){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),x(y(o=a.call(this,t)),"handleEditorRef",(function(t){if(t){var n=o.props.options||{},r=o.props,i=r.codeview,a=r.destroy,l=r.value,s=r.innerRef;n.callbacks=m(m({},o.props.options.callbacks),o.callbacks),o.editor=e(t);n.popover=m(m({},{image:[["custom",["imageAttributes","captionIt","imageShapes"]],["resize",["resizeFull","resizeHalf","resizeQuarter","resizeNone"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],table:[["add",["addRowDown","addRowUp","addColLeft","addColRight"]],["delete",["deleteRow","deleteCol"]],["color",["jBackcolor","jBorderColor"]],["style",["jAlign","jMerge"]],["info",["jAutoFit","jTableInfo"]],["delete",["jWidthHeightReset","deleteTable"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]],["view",["fullscreen","codeview"]]]}),n.popover),o.editor.summernote(n),l&&(o.replace(l),o.setState({value:l})),i&&o.editor.summernote("codeview.activate"),a&&o.editor.summernote("destroy"),"function"==typeof s?s(y(o)):"object"===p(s)&&s&&(s.current=y(o))}})),o.editorbox=r.a.createRef(),o.counter=0,o.pasteResource=[],o.editor={},o.noteEditable=null,o.notePlaceholder=null,o.onInit=o.onInit.bind(y(o)),o.onImageUpload=o.onImageUpload.bind(y(o)),o.focus=o.focus.bind(y(o)),o.isEmpty=o.isEmpty.bind(y(o)),o.reset=o.reset.bind(y(o)),o.replace=o.replace.bind(y(o)),o.disable=o.disable.bind(y(o)),o.enable=o.enable.bind(y(o)),o.toggleState=o.toggleState.bind(y(o)),o.insertImage=o.insertImage.bind(y(o)),o.insertNode=o.insertNode.bind(y(o)),o.insertText=o.insertText.bind(y(o)),o.pasteHTML=o.pasteHTML.bind(y(o)),o.createRange=o.createRange.bind(y(o)),o.handleChange=o.handleChange.bind(y(o)),o.handlePaste=o.handlePaste.bind(y(o)),c.focus=o.focus.bind(y(o)),c.isEmpty=o.isEmpty.bind(y(o)),c.reset=o.reset.bind(y(o)),c.replace=o.replace.bind(y(o)),c.disable=o.disable.bind(y(o)),c.enable=o.enable.bind(y(o)),c.toggleState=o.toggleState.bind(y(o)),c.insertImage=o.insertImage.bind(y(o)),c.insertNode=o.insertNode.bind(y(o)),c.insertText=o.insertText.bind(y(o)),c.pasteHTML=o.pasteHTML.bind(y(o)),o}return o=c,(n=[{key:"componentWillReceiveProps",value:function(e){var t=this.props,o=e.codeview,n=o?"codeview.activate":"codeview.deactivate";"string"==typeof e.value&&t.value!==e.value&&this.replace(e.value),"boolean"==typeof e.disabled&&t.disabled!==e.disabled&&this.toggleState(e.disabled),o!==t.codeview&&this.editor.summernote(n),t.destroy&&this.editor.summernote("destroy")}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentWillUnmount",value:function(){this.editor.summernote&&this.editor.summernote("destroy")}},{key:"onInit",value:function(){var e=this.props,t=e.disabled,o=e.onInit,n=this.editor.parent();this.noteEditable=n.find(".note-editable"),this.notePlaceholder=n.find(".note-placeholder"),"boolean"==typeof t&&this.toggleState(t),"function"==typeof o&&o({summernote:this.editor.summernote.bind(this.editor),focus:this.focus,isEmpty:this.isEmpty,reset:this.reset,replace:this.replace,disable:this.disable,enable:this.enable,insertImage:this.insertImage,insertNode:this.insertNode,insertText:this.insertText,pasteHTML:this.pasteHTML})}},{key:"onImageUpload",value:function(e){var t=this.props.onImageUpload;"function"==typeof t&&t(e,this.insertImage)}},{key:"focus",value:function(){this.editor.summernote("focus")}},{key:"isEmpty",value:function(){return this.editor.summernote("isEmpty")}},{key:"reset",value:function(){this.editor.summernote("reset")}},{key:"replace",value:function(e){var t=this.noteEditable,o=this.notePlaceholder,n=t.html(),r=e.length;n!==e&&(this.isEmpty()&&r>0?o.hide():0===r&&o.show(),t.html(e))}},{key:"disable",value:function(){this.editor.summernote("disable")}},{key:"enable",value:function(){this.editor.summernote("enable")}},{key:"toggleState",value:function(e){e?this.disable():this.enable()}},{key:"insertImage",value:function(e,t){this.editor.summernote("focus"),this.editor.summernote("insertImage",e,t)}},{key:"insertNode",value:function(e){this.editor.summernote("focus"),this.editor.summernote("insertNode",e)}},{key:"insertText",value:function(e){this.editor.summernote("focus"),this.editor.summernote("insertText",e)}},{key:"pasteHTML",value:function(e){this.editor.summernote("focus"),this.editor.summernote("pasteHTML",e)}},{key:"createRange",value:function(){return this.editor.summernote("focus"),this.editor.summernote("createRange")}},{key:"handleChange",value:function(t){var o=this,n=this.props,r=n.onChange,i=n.onImagePasteFromWord,a=e(this.editorbox.current);a.find('span[style*="mso-ignore"]').remove(),a.find("v\\:shape v\\:imagedata").each((function(t,o){var n=e("<img></img>");e.each(o.attributes,(function(e,t){n.attr(t.name,t.value)})),n.attr("style",e(o).parent().attr("style")),e(o).replaceWith(n)}));var l=a.find('img[src*="file://"]').not(".zap-img-uploading").addClass("zap-img-uploading").each((function(t,n){e(n).attr("src",o.pasteResource[t])}));"function"==typeof i&&this.isPasteFromWord&&(this.isPasteFromWord=!1,i(l)),"function"==typeof r&&r(t)}},{key:"handlePaste",value:function(t){var o=this,n=this.props.onPaste;if(!/MSIE|Trident/i.test(navigator.userAgent)){for(var r=t.originalEvent.clipboardData.items,i=function(){if(r[a].type.indexOf("rtf")>-1){var e=t.originalEvent.clipboardData.getData("text/rtf"),n=Object(l.a)(e),i=[];return n.forEach((function(e){i.push(e)})),o.pasteResource=i,o.isPasteFromWord=!0,"break"}},a=0;a<r.length&&"break"!==i();a++);"function"==typeof n&&n(t);var c=navigator.userAgent,d=t.originalEvent.clipboardData.getData("text/html"),u=d.indexOf("office:excel")>-1,p=/MSIE|Trident/i.test(c);if(u&&!p){t.preventDefault();var f=s.a.getTable(d),m=s.a.createStylesheet(d);s.a.applyStyleInline(f,m),s.a.removeImage(f);var g=(A=this.createRange()).sc;g.tagName||(g=g.parentNode);var b=e(g).closest(".note-editing-area").find(".jtable-block");g.closest("table")&&b&&"block"==b.css("display")?(f.className="jtable-paste",g.closest("table").appendChild(f),f.style.display="none"):A.pasteHTML(f.outerHTML)}var h=c.indexOf("Firefox")>-1,v=d.indexOf("RelyOnVML")>-1;if(h&&v){t.preventDefault();var y=d.indexOf("\x3c!--StartFragment--\x3e")+"\x3c!--StartFragment--\x3e".length,w=d.indexOf("\x3c!--EndFragment--\x3e"),x=d.substring(y,w),k=window.getSelection(),C=k.rangeCount>0&&k.getRangeAt(0);if(C.startOffset!==C.endOffset){var A=C.cloneRange();k.deleteFromDocument();var S=document.createElement("p");S.innerHTML=x,S.appendChild(A.extractContents()),A.insertNode(S),k.removeAllRanges()}else this.pasteHTML(x)}}}},{key:"callbacks",get:function(){var e=this.props;return{onInit:this.onInit,onEnter:e.onEnter,onFocus:e.onFocus,onBlur:e.onBlur,onKeyup:e.onKeyUp,onKeydown:e.onKeyDown,onPaste:this.handlePaste,onChange:this.handleChange,onImageUpload:this.onImageUpload,onChangeCodeview:this.handleChange}}},{key:"render",value:function(){var e=this.props,t=e.className,o=e.id,n=e.tag||"div";return r.a.createElement("div",{className:t,ref:this.editorbox,id:o},r.a.createElement(n,{ref:this.handleEditorRef}))}}])&&g(o.prototype,n),i&&g(o,i),Object.defineProperty(o,"prototype",{writable:!1}),c}(r.a.Component);C.propTypes={tag:a.a.string,codeview:a.a.bool,className:a.a.string,options:a.a.object,disabled:a.a.bool,onInit:a.a.func,onEnter:a.a.func,onFocus:a.a.func,onBlur:a.a.func,onKeyUp:a.a.func,onKeyDown:a.a.func,onPaste:a.a.func,onChange:a.a.func,onImageUpload:a.a.func,onImagePasteFromWord:a.a.func,destroy:a.a.bool};var A=r.a.forwardRef((function(e,t){return r.a.createElement(C,u({innerRef:t},e))}));A.ImportCode=d.a,t.a=A}).call(this,o(1))},52:function(e,t,o){"use strict";(function(e){t.a={getTable:function(e){var t=document.createElement("table"),o=e.indexOf("\x3c!--StartFragment--\x3e")+"\x3c!--StartFragment--\x3e".length,n=e.indexOf("\x3c!--EndFragment--\x3e"),r=e.substring(o,n);return t.innerHTML=r,t},createStylesheet:function(e){var t=e.indexOf("\x3c!--table"),o=e.indexOf("--\x3e",t+"\x3c!--table".length),n=e.substring(t+"\x3c!--table".length,o),r=document.createElement("style"),i=document.createElement("iframe");return r.innerHTML=n,i.style.display="none",document.body.appendChild(i),i.contentDocument.documentElement.appendChild(r),document.body.removeChild(i),r},applyStyleInline:function(t,o){var n=o.sheet.rules||o.sheet.cssRules;if(n.length)for(var r=function(o){n[o].type===window.CSSRule.STYLE_RULE&&e(t).find(n[o].selectorText).each((function(e,t){t.style=t.style.cssText+n[o].style.cssText}))},i=0;i<n.length;i++)r(i)},removeImage:function(t){for(var o=e(t).find("img"),n=0;n<o.length;n++){o[n].remove()}}}}).call(this,o(1))},68:function(e,t,o){"use strict";function n(e){return e.type?"data:"+e.type+";base64,"+function(e){var t,o="",n=e.length;for(t=0;t<n;t+=3){var r,i=e.slice(t,t+3),a=i.length,l=[];if(a<3)for(r=a;r<3;r++)i[r]=0;for(l[0]=(252&i[0])>>2,l[1]=(3&i[0])<<4|i[1]>>4,l[2]=(15&i[1])<<2|(192&i[2])>>6,l[3]=63&i[2],r=0;r<4;r++)o+=r<=a?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(l[r]):"="}return o}(function(e){var t,o=[],n=e.length/2;for(t=0;t<n;t++)o.push(parseInt(e.substr(2*t,2),16));return o}(e.hex)):null}t.a=function(e){e||(e="");var t=function(e){var t,o,n=[],r=/\{\\pict[\s\S]+?\\bliptag\-?\d+(\\blipupi\-?\d+)?(\{\\\*\\blipuid\s?[\da-fA-F]+)?[\s\}]*?/,i=new RegExp("(?:("+r.source+"))([\\da-fA-F\\s]+)\\}","g"),a=e.indexOf("{\\*\\listpicture");if(a>-1){for(var l=0,s=a;s<e.length;s++){var c=e[s];if("{"==c&&(l+=1),"}"==c&&(l-=1),0==l)break}var d=e.substring(0,a)+e.substring(s)}else d=e;if(!(t=d.match(i)))return n;for(s=0;s<t.length;s++)if(r.test(t[s])){if(-1!==t[s].indexOf("\\pngblip"))o="image/png";else{if(-1===t[s].indexOf("\\jpegblip"))continue;o="image/jpeg"}n.push({hex:o?t[s].replace(r,"").replace(/[^\da-fA-F]/g,""):null,type:o})}return n}(e),o=[];return t.forEach((function(e){o.push(n(e))})),o}}});