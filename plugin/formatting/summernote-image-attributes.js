!function(t){var e={};function o(l){if(e[l])return e[l].exports;var i=e[l]={i:l,l:!1,exports:{}};return t[l].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=e,o.d=function(t,e,l){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:l})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var l=Object.create(null);if(o.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(l,i,function(e){return t[e]}.bind(null,i));return l},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/",o(o.s=11)}({0:function(t,e){t.exports=$},11:function(t,e,o){var l,i,n;i=[o(0)],void 0===(n="function"==typeof(l=function(t){t.extend(!0,t.summernote.lang,{"en-US":{imageAttributes:{dialogTitle:"Image Attributes",tooltip:"Image Attributes",tabImage:"Image",src:"Source",browse:"Browse",title:"Title",alt:"Alt Text",dimensions:"Dimensions",tabAttributes:"Attributes",class:"Class",style:"Style",role:"Role",tabLink:"Link",linkHref:"URL",linkTarget:"Target",linkTargetInfo:"Options: _self, _blank, _top, _parent",linkClass:"Class",linkStyle:"Style",linkRel:"Rel",linkRelInfo:"Options: alternate, author, bookmark, help, license, next, nofollow, noreferrer, prefetch, prev, search, tag",linkRole:"Role",tabUpload:"Upload",upload:"Upload",tabBrowse:"Browse",editBtn:"OK"}}}),t.extend(!0,t.summernote.lang,{"zh-TW":{imageAttributes:{dialogTitle:"編輯圖片",tooltip:"編輯圖片",tabImage:"圖片",src:"資源",browse:"瀏覽",title:"標題",alt:"圖片說明",dimensions:"外形尺寸",tabAttributes:"屬性",class:"類 (Class)",style:"樣式 (Style)",role:"角色 (Role)",tabLink:"連結",linkHref:"網址 (Href)",linkTarget:"目標 (Target)",linkTargetInfo:"選項: _self, _blank, _top, _parent",linkClass:"類 (Class)",linkStyle:"樣式 (Style)",linkRel:"相對 (Rel)",linkRelInfo:"選項: alternate, author, bookmark, help, license, next, nofollow, noreferrer, prefetch, prev, search, tag",linkRole:"角色 (Role)",tabUpload:"上傳",upload:"上傳",tabBrowse:"瀏覽",editBtn:"OK"}}}),t.extend(t.summernote.options,{imageAttributes:{icon:'<i class="note-icon-pencil"/>',removeEmpty:!0,disableUpload:!0,imageFolder:""}}),t.extend(t.summernote.plugins,{imageAttributes:function(e){var o=this,l=t.summernote.ui,i=e.layoutInfo.note,n=e.layoutInfo.editor,a=e.layoutInfo.editable,r=e.options,s=r.langInfo,u="";if(r.maximumImageFileSize){var c=Math.floor(Math.log(r.maximumImageFileSize)/Math.log(1024)),m=1*(r.maximumImageFileSize/Math.pow(1024,c)).toFixed(2)+" "+" KMGTP"[c]+"B";u='<small class="help-block note-help-block">'+s.image.maximumFileSize+" : "+m+"</small>"}"_counter"in t.summernote.options.imageAttributes||(t.summernote.options.imageAttributes._counter=0),e.memo("button.imageAttributes",(function(){return l.button({contents:r.imageAttributes.icon,container:"body",tooltip:s.imageAttributes.tooltip,click:function(){e.invoke("imageAttributes.show")}}).render()})),this.initialize=function(){var e=r.dialogsInBody?t(document.body):n;t.summernote.options.imageAttributes._counter++;var o=t.summernote.options.imageAttributes._counter,i='<ul class="nav note-nav nav-tabs note-nav-tabs"><li class="nav-item note-nav-item active"><a class="nav-link note-nav-link active" href="#note-imageAttributes-'+o+'" data-toggle="tab">'+s.imageAttributes.tabImage+'</a></li><li class="nav-item note-nav-item"><a class="nav-link note-nav-link" href="#note-imageAttributes-attributes-'+o+'" data-toggle="tab">'+s.imageAttributes.tabAttributes+'</a></li><li class="nav-item note-nav-item"><a class="nav-link note-nav-link" href="#note-imageAttributes-link-'+o+'" data-toggle="tab">'+s.imageAttributes.tabLink+"</a></li>";0==r.imageAttributes.disableUpload&&(i+='<li class="nav-item note-nav-item"><a class="nav-link note-nav-link" href="#note-imageAttributes-upload-'+o+'" data-toggle="tab">'+s.imageAttributes.tabUpload+"</a></li>"),i+='</ul><div class="tab-content"><div class="tab-pane note-tab-pane" id="note-imageAttributes-attributes-'+o+'"><div class="note-form-group form-group note-group-imageAttributes-class"><label class="control-label note-form-label col-sm-3">'+s.imageAttributes.class+'</label><div class="input-group note-input-group col-xs-12 col-sm-9"><input class="note-imageAttributes-class form-control note-form-control note-input" type="text"></div></div><div class="note-form-group form-group note-group-imageAttributes-style"><label class="control-label note-form-label col-sm-3">'+s.imageAttributes.style+'</label><div class="input-group note-input-group col-xs-12 col-sm-9"><input class="note-imageAttributes-style form-control note-form-control note-input" type="text"></div></div><div class="note-form-group form-group note-group-imageAttributes-role"><label class="control-label note-form-label col-sm-3">'+s.imageAttributes.role+'</label><div class="input-group note-input-group col-xs-12 col-sm-9"><input class="note-imageAttributes-role form-control note-form-control note-input" type="text"></div></div></div><div class="tab-pane note-tab-pane" id="note-imageAttributes-link-'+o+'"><div class="note-form-group form-group note-group-imageAttributes-link-href"><label class="control-label note-form-label col-xs-3">'+s.imageAttributes.linkHref+'</label><div class="input-group note-input-group col-xs-12 col-sm-9"><input class="note-imageAttributes-link-href form-control note-form-control note-input" type="text"></div></div><div class="note-form-group form-group note-group-imageAttributes-link-target"><label class="control-label note-form-label col-xs-3">'+s.imageAttributes.linkTarget+'</label><div class="input-group note-input-group col-xs-12 col-sm-9"><input class="note-imageAttributes-link-target form-control note-form-control note-input" type="text"></div><small class="help-block note-help-block text-right">'+s.imageAttributes.linkTargetInfo+'</small></div><div class="note-form-group form-group note-group-imageAttributes-link-class"><label class="control-label note-form-label col-xs-3">'+s.imageAttributes.linkClass+'</label><div class="input-group note-input-group col-xs-12 col-sm-9"><input class="note-imageAttributes-link-class form-control note-form-control note-input" type="text"></div></div><div class="note-form-group form-group note-group-imageAttributes-link-style"><label class="control-label note-form-label col-xs-3">'+s.imageAttributes.linkStyle+'</label><div class="input-group note-input-group col-xs-12 col-sm-9"><input class="note-imageAttributes-link-style form-control note-form-control note-input" type="text"></div></div><div class="note-form-group form-group note-group-imageAttributes-link-rel"><label class="control-label note-form-label col-xs-3">'+s.imageAttributes.linkRel+'</label><div class="input-group note-input-group col-xs-12 col-sm-9"><input class="note-imageAttributes-link-rel form-control note-form-control note-input" type="text"></div><small class="help-block note-help-block text-right">'+s.imageAttributes.linkRelInfo+'</small></div><div class="note-form-group form-group note-group-imageAttributes-link-role"><label class="control-label note-form-label col-xs-3">'+s.imageAttributes.linkRole+'</label><div class="input-group note-input-group col-xs-12 col-sm-9"><input class="note-imageAttributes-link-role form-control note-form-control note-input" type="text"></div></div></div>',0==r.imageAttributes.disableUpload&&(i+='<div class="tab-pane note-tab-pane" id="note-imageAttributes-upload-'+o+'"><label class="control-label note-form-label col-xs-3">'+s.imageAttributes.upload+'</label><div class="input-group note-input-group col-xs-12 col-sm-9"><input class="note-imageAttributes-input form-control note-form-control note-input" type="file" name="files" accept="image/*" multiple="multiple">'+u+"</div></div>"),i+='<div class="tab-pane note-tab-pane in active" id="note-imageAttributes-'+o+'"><div class="note-form-group form-group note-group-imageAttributes-url"><label class="control-label note-form-label col-sm-3">'+s.imageAttributes.src+'</label><div class="input-group note-input-group col-xs-12 col-sm-9"><input class="note-imageAttributes-src form-control note-form-control note-input" type="text"></div></div><div class="note-form-group form-group note-group-imageAttributes-title"><label class="control-label note-form-label col-sm-3">'+s.imageAttributes.title+'</label><div class="input-group note-input-group col-xs-12 col-sm-9"><input class="note-imageAttributes-title form-control note-form-control note-input" type="text"></div></div><div class="note-form-group form-group note-group-imageAttributes-alt"><label class="control-label note-form-label col-sm-3">'+s.imageAttributes.alt+'</label><div class="input-group note-input-group col-xs-12 col-sm-9"><input class="note-imageAttributes-alt form-control note-form-control note-input" type="text"></div></div><div class="note-form-group form-group note-group-imageAttributes-dimensions"><label class="control-label note-form-label col-sm-3">'+s.imageAttributes.dimensions+'</label><div class="input-group note-input-group col-xs-12 col-sm-9"><input class="note-imageAttributes-width form-control note-form-control note-input" type="text"><span class="input-group-addon note-input-group-addon">x</span><input class="note-imageAttributes-height form-control note-form-control note-input" type="text"></div></div></div></div>',this.$dialog=l.dialog({title:s.imageAttributes.dialogTitle,body:i,footer:'<button href="#" class="btn btn-primary note-btn note-btn-primary note-imageAttributes-btn">'+s.imageAttributes.editBtn+"</button>"}).render().appendTo(e)},this.destroy=function(){l.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(t,e){t.on("keypress",(function(t){13===t.keyCode&&e.trigger("click")}))},this.bindLabels=function(){o.$dialog.find(".form-control:first").focus().select(),o.$dialog.find("label").on("click",(function(){t(this).parent().find(".form-control:first").focus()}))},this.show=function(){var n=t(a.data("target")),s={imgDom:n,title:n.attr("title"),src:n.attr("src"),alt:n.attr("alt"),width:n.attr("width"),height:n.attr("height"),role:n.attr("role"),class:n.attr("class"),style:n.attr("style"),imgLink:t(n).parent().is("a")?t(n).parent():null};this.showImageAttributesDialog(s).then((function(t){l.hideDialog(o.$dialog);var n=t.imgDom;if(r.imageAttributes.removeEmpty?(t.alt?n.attr("alt",t.alt):n.removeAttr("alt"),t.width?n.attr("width",t.width):n.removeAttr("width"),t.height?n.attr("height",t.height):n.removeAttr("height"),t.title?n.attr("title",t.title):n.removeAttr("title"),t.src?n.attr("src",t.src):n.attr("src","#"),t.class?n.attr("class",t.class):n.removeAttr("class"),t.style?n.attr("style",t.style):n.removeAttr("style"),t.role?n.attr("role",t.role):n.removeAttr("role")):(t.src?n.attr("src",t.src):n.attr("src","#"),n.attr("alt",t.alt),n.attr("width",t.width),n.attr("height",t.height),n.attr("title",t.title),n.attr("class",t.class),n.attr("style",t.style),n.attr("role",t.role)),n.parent().is("a")&&n.unwrap(),t.linkHref){var a="<a";t.linkClass&&(a+=' class="'+t.linkClass+'"'),t.linkStyle&&(a+=' style="'+t.linkStyle+'"'),a+=' href="'+t.linkHref+'" target="'+t.linkTarget+'"',t.linkRel&&(a+=' rel="'+t.linkRel+'"'),t.linkRole&&(a+=' role="'+t.linkRole+'"'),a+="></a>",n.wrap(a)}i.val(e.invoke("code")),i.change()}))},this.showImageAttributesDialog=function(i){return t.Deferred((function(n){var s=o.$dialog.find(".note-imageAttributes-title"),u=o.$dialog.find(".note-imageAttributes-input"),c=o.$dialog.find(".note-imageAttributes-src"),m=o.$dialog.find(".note-imageAttributes-alt"),g=o.$dialog.find(".note-imageAttributes-width"),p=o.$dialog.find(".note-imageAttributes-height"),b=o.$dialog.find(".note-imageAttributes-class"),d=o.$dialog.find(".note-imageAttributes-style"),f=o.$dialog.find(".note-imageAttributes-role"),v=o.$dialog.find(".note-imageAttributes-link-href"),A=o.$dialog.find(".note-imageAttributes-link-target"),k=o.$dialog.find(".note-imageAttributes-link-class"),h=o.$dialog.find(".note-imageAttributes-link-style"),y=o.$dialog.find(".note-imageAttributes-link-rel"),x=o.$dialog.find(".note-imageAttributes-link-role"),w=o.$dialog.find(".note-imageAttributes-btn");v.val(),k.val(),h.val(),x.val(),A.val(),y.val(),i.imgLink&&(v.val(i.imgLink.attr("href")),k.val(i.imgLink.attr("class")),h.val(i.imgLink.attr("style")),x.val(i.imgLink.attr("role")),A.val(i.imgLink.attr("target")),y.val(i.imgLink.attr("rel"))),l.onDialogShown(o.$dialog,(function(){e.triggerEvent("dialog.shown"),u.replaceWith(u.clone().on("change",(function(){var o;r.callbacks.onImageUpload?e.triggerEvent("image.upload",this.files[0]):(o=this.files[0],t.Deferred((function(e){t.extend(new FileReader,{onload:function(t){var o=t.target.result;e.resolve(o)},onerror:function(){e.reject(this)}}).readAsDataURL(o)})).promise()).then((function(t){c.val(t)})).fail((function(){e.triggerEvent("image.upload.error")}))})).val("")),w.click((function(t){t.preventDefault(),n.resolve({imgDom:i.imgDom,title:s.val(),src:c.val(),alt:m.val(),width:g.val(),height:p.val(),class:b.val(),style:d.val(),role:f.val(),linkHref:v.val(),linkTarget:A.val(),linkClass:k.val(),linkStyle:h.val(),linkRel:y.val(),linkRole:x.val()}).then((function(t){e.triggerEvent("change",a.html())}))})),s.val(i.title),c.val(i.src),m.val(i.alt),g.val(i.width),p.val(i.height),b.val(i.class),d.val(i.style),f.val(i.role),o.bindEnterKey(w),o.bindLabels()})),l.onDialogHidden(o.$dialog,(function(){w.off("click"),"pending"===n.state()&&n.reject()})),l.showDialog(o.$dialog)}))}}})})?l.apply(e,i):l)||(t.exports=n)}});