!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=11)}({11:function(e,t,n){function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";"function"==typeof Symbol&&o(Symbol.iterator);var r,i,l,a,u=n(2),s=(a=u)&&a.__esModule?a:{default:a};var c=/^[^\s]+$/,d=38,f=40,p=13;i=[n(3)],void 0===(l="function"==typeof(r=function(e){e.extend(e.summernote.plugins,{summernoteAtMention:function(e){var t=this;if(this.editableEl=e.layoutInfo.editable[0],this.editorEl=e.layoutInfo.editor[0],this.autocompleteAnchor={left:null,top:null},this.autocompleteContainer=null,this.showingAutocomplete=!1,this.selectedIndex=null,this.suggestions=null,this.getSuggestions=function(e){return[]},e.options&&e.options.callbacks&&e.options.callbacks.summernoteAtMention){var n=e.options.callbacks.summernoteAtMention;n.getSuggestions&&(this.getSuggestions=n.getSuggestions),n.onSelect&&(this.onSelect=n.onSelect)}this.events={"summernote.blur":function(){t.showingAutocomplete&&t.hideAutocomplete()},"summernote.keydown":function(e,n){if(t.showingAutocomplete)switch(n.keyCode){case p:n.preventDefault(),n.stopPropagation(),t.handleEnter();break;case d:n.preventDefault(),n.stopPropagation();var o=0===t.selectedIndex?0:t.selectedIndex-1;t.updateAutocomplete(t.suggestions,o);break;case f:n.preventDefault(),n.stopPropagation();var r=t.selectedIndex===t.suggestions.length-1?t.selectedIndex:t.selectedIndex+1;t.updateAutocomplete(t.suggestions,r)}},"summernote.keyup":function(e,n){var o=document.getSelection(),r=o.anchorNode.nodeValue,i=t.findWordAndIndices(r||"",o.anchorOffset),l=i.word,a=i.absoluteIndex,u=l.slice(1);if(t.showingAutocomplete&&![f,d,p].includes(n.keyCode))if("@"===l[0]){var s=t.getSuggestions(u);t.updateAutocomplete(s,t.selectedIndex)}else t.hideAutocomplete();else t.showingAutocomplete||"@"!==l[0]||(t.suggestions=t.getSuggestions(u),t.selectedIndex=0,t.showAutocomplete(a,o.anchorNode))}},this.handleEnter=function(){t.handleSelection()},this.handleClick=function(e){var n=t.suggestions.findIndex((function(t){return t===e}));if(-1===n)throw new Error("Unable to find suggestion in suggestions.");t.selectedIndex=n,t.handleSelection()},this.handleSelection=function(){if(null!==t.suggestions&&0!==t.suggestions.length){var n=t.suggestions[t.selectedIndex];if(void 0===t.onSelect){var o=document.getSelection(),r=o.anchorNode.nodeValue,i=t.findWordAndIndices(r||"",o.anchorOffset),l=i.word,a=i.absoluteIndex,u=new s.default(t.editableEl);u.preserve(),o.anchorNode.textContent=r.slice(0,a+1)+n+" "+r.slice(a+l.length),u.restore(a+n.length+1),void 0!==e.options.callbacks.onChange&&e.options.callbacks.onChange(t.editableEl.innerHTML)}else t.onSelect(n)}},this.updateAutocomplete=function(e,n){t.selectedIndex=n,t.suggestions=e,t.renderAutocomplete()},this.showAutocomplete=function(e,n){if(t.showingAutocomplete)throw new Error("Cannot call showAutocomplete if autocomplete is already showing.");t.setAutocompleteAnchor(e,n),t.renderAutocompleteContainer(),t.renderAutocomplete(),t.showingAutocomplete=!0},this.renderAutocompleteContainer=function(){t.autocompleteContainer=document.createElement("div"),t.autocompleteContainer.style.top=String(t.autocompleteAnchor.top)+"px",t.autocompleteContainer.style.left=String(t.autocompleteAnchor.left)+"px",t.autocompleteContainer.style.position="absolute",t.autocompleteContainer.style.backgroundColor="#e4e4e4",t.autocompleteContainer.style.zIndex=Number.MAX_SAFE_INTEGER,document.body.appendChild(t.autocompleteContainer)},this.renderAutocomplete=function(){if(null===t.autocompleteContainer)throw new Error("Cannot call renderAutocomplete without an autocompleteContainer. ");var e=document.createElement("div");t.suggestions.forEach((function(n,o){var r=document.createElement("div");r.textContent=n,r.style.padding="5px 10px",t.selectedIndex===o&&(r.style.backgroundColor="#2e6da4",r.style.color="white"),r.addEventListener("mousedown",(function(){t.handleClick(n)})),e.appendChild(r)})),t.autocompleteContainer.innerHTML="",t.autocompleteContainer.appendChild(e)},this.hideAutocomplete=function(){if(!t.showingAutocomplete)throw new Error("Cannot call hideAutocomplete if autocomplete is not showing.");document.body.removeChild(t.autocompleteContainer),t.autocompleteAnchor={left:null,top:null},t.selectedIndex=null,t.suggestions=null,t.showingAutocomplete=!1},this.findWordAndIndices=function(e,t){if(t>e.length)return{word:"",relativeIndex:0};for(var n="",o="",r=0,i=t,l=t;l>0&&e[l-1].match(c);l--)n=e[l-1]+n,r++,i--;for(var a=t-1;a>0&&a<e.length-1&&e[a+1].match(c);a++)o+=e[a+1];return{word:n+o,relativeIndex:r,absoluteIndex:i}},this.setAutocompleteAnchor=function(e,n){for(var o=n.parentNode.innerHTML,r=n.nodeValue,i=-1,l=0;l<=e;l++)"@"===r[l]&&i++;for(var a=void 0,u=0,c=0;u<o.length;u++)if("@"===o[u]){if(c===i){a=u;break}c++}var d="at-node-"+String(Math.floor(1e4*Math.random())),f='<span id="'+d+'">@</span>',p=new s.default(t.editableEl);p.preserve(),n.parentNode.innerHTML=o.slice(0,a)+f+o.slice(a+1);var g=document.querySelector("#"+d).getBoundingClientRect();t.autocompleteAnchor={top:g.top+g.height+2,left:g.left},p.findRangeStartContainer().parentNode.innerHTML=o,p.restore()}}})})?r.apply(t,i):r)||(e.exports=l)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var i=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),null==t)throw new Error("Please provide a valid rootNode.");this.rootNode=t,this.rangeStartContainerAddress=null,this.rangeStartOffset=null}return o(e,[{key:"preserve",value:function(){var e=window.getSelection();this.rangeStartOffset=e.getRangeAt(0).startOffset,this.rangeStartContainerAddress=this.findRangeStartContainerAddress(e)}},{key:"restore",value:function(e){if(null===this.rangeStartOffset||null===this.rangeStartContainerAddress)throw new Error("Please call preserve() first.");var t=this.findRangeStartContainer(),n=document.createRange(),o=e||this.rangeStartOffset;n.setStart(t,o),n.collapse();var r=window.getSelection();r.removeAllRanges(),r.addRange(n)}},{key:"findRangeStartContainer",value:function(){var e=this.rootNode;return this.rangeStartContainerAddress.forEach((function(t){e=e.childNodes[t]})),e}},{key:"findRangeStartContainerAddress",value:function(e){for(var t=[],n=e.getRangeAt(0).startContainer;n!==this.rootNode;n=n.parentNode)for(var o=n.parentElement.childNodes,i=0;i<o.length;i++)if(o[i]===n){t=[i].concat(r(t));break}return t}}]),e}();t.default=i},function(e,t){e.exports=$}])}});